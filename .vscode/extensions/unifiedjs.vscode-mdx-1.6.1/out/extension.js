"use strict";var tw=Object.create;var Io=Object.defineProperty;var nw=Object.getOwnPropertyDescriptor;var rw=Object.getOwnPropertyNames;var iw=Object.getPrototypeOf,ow=Object.prototype.hasOwnProperty;var k=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),sw=(n,e)=>{for(var t in e)Io(n,t,{get:e[t],enumerable:!0})},th=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rw(e))!ow.call(n,i)&&i!==t&&Io(n,i,{get:()=>e[i],enumerable:!(r=nw(e,i))||r.enumerable});return n};var Fo=(n,e,t)=>(t=n!=null?tw(iw(n)):{},th(e||!n||!n.__esModule?Io(t,"default",{value:n,enumerable:!0}):t,n)),aw=n=>th(Io({},"__esModule",{value:!0}),n);var Zr=k(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.stringArray=Ct.array=Ct.func=Ct.error=Ct.number=Ct.string=Ct.boolean=void 0;function cw(n){return n===!0||n===!1}Ct.boolean=cw;function nh(n){return typeof n=="string"||n instanceof String}Ct.string=nh;function uw(n){return typeof n=="number"||n instanceof Number}Ct.number=uw;function lw(n){return n instanceof Error}Ct.error=lw;function dw(n){return typeof n=="function"}Ct.func=dw;function rh(n){return Array.isArray(n)}Ct.array=rh;function fw(n){return rh(n)&&n.every(e=>nh(e))}Ct.stringArray=fw});var pc=k(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.Message=J.NotificationType9=J.NotificationType8=J.NotificationType7=J.NotificationType6=J.NotificationType5=J.NotificationType4=J.NotificationType3=J.NotificationType2=J.NotificationType1=J.NotificationType0=J.NotificationType=J.RequestType9=J.RequestType8=J.RequestType7=J.RequestType6=J.RequestType5=J.RequestType4=J.RequestType3=J.RequestType2=J.RequestType1=J.RequestType=J.RequestType0=J.AbstractMessageSignature=J.ParameterStructures=J.ResponseError=J.ErrorCodes=void 0;var xr=Zr(),za;(function(n){n.ParseError=-32700,n.InvalidRequest=-32600,n.MethodNotFound=-32601,n.InvalidParams=-32602,n.InternalError=-32603,n.jsonrpcReservedErrorRangeStart=-32099,n.serverErrorStart=-32099,n.MessageWriteError=-32099,n.MessageReadError=-32098,n.PendingResponseRejected=-32097,n.ConnectionInactive=-32096,n.ServerNotInitialized=-32002,n.UnknownErrorCode=-32001,n.jsonrpcReservedErrorRangeEnd=-32e3,n.serverErrorEnd=-32e3})(za||(J.ErrorCodes=za={}));var Ka=class n extends Error{constructor(e,t,r){super(t),this.code=xr.number(e)?e:za.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,n.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};J.ResponseError=Ka;var Nt=class n{constructor(e){this.kind=e}static is(e){return e===n.auto||e===n.byName||e===n.byPosition}toString(){return this.kind}};J.ParameterStructures=Nt;Nt.auto=new Nt("auto");Nt.byPosition=new Nt("byPosition");Nt.byName=new Nt("byName");var Ae=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return Nt.auto}};J.AbstractMessageSignature=Ae;var Va=class extends Ae{constructor(e){super(e,0)}};J.RequestType0=Va;var Ba=class extends Ae{constructor(e,t=Nt.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};J.RequestType=Ba;var Ga=class extends Ae{constructor(e,t=Nt.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};J.RequestType1=Ga;var Xa=class extends Ae{constructor(e){super(e,2)}};J.RequestType2=Xa;var Ja=class extends Ae{constructor(e){super(e,3)}};J.RequestType3=Ja;var Qa=class extends Ae{constructor(e){super(e,4)}};J.RequestType4=Qa;var Ya=class extends Ae{constructor(e){super(e,5)}};J.RequestType5=Ya;var Za=class extends Ae{constructor(e){super(e,6)}};J.RequestType6=Za;var ec=class extends Ae{constructor(e){super(e,7)}};J.RequestType7=ec;var tc=class extends Ae{constructor(e){super(e,8)}};J.RequestType8=tc;var nc=class extends Ae{constructor(e){super(e,9)}};J.RequestType9=nc;var rc=class extends Ae{constructor(e,t=Nt.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};J.NotificationType=rc;var ic=class extends Ae{constructor(e){super(e,0)}};J.NotificationType0=ic;var oc=class extends Ae{constructor(e,t=Nt.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};J.NotificationType1=oc;var sc=class extends Ae{constructor(e){super(e,2)}};J.NotificationType2=sc;var ac=class extends Ae{constructor(e){super(e,3)}};J.NotificationType3=ac;var cc=class extends Ae{constructor(e){super(e,4)}};J.NotificationType4=cc;var uc=class extends Ae{constructor(e){super(e,5)}};J.NotificationType5=uc;var lc=class extends Ae{constructor(e){super(e,6)}};J.NotificationType6=lc;var dc=class extends Ae{constructor(e){super(e,7)}};J.NotificationType7=dc;var fc=class extends Ae{constructor(e){super(e,8)}};J.NotificationType8=fc;var hc=class extends Ae{constructor(e){super(e,9)}};J.NotificationType9=hc;var ih;(function(n){function e(i){let o=i;return o&&xr.string(o.method)&&(xr.string(o.id)||xr.number(o.id))}n.isRequest=e;function t(i){let o=i;return o&&xr.string(o.method)&&i.id===void 0}n.isNotification=t;function r(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(xr.string(o.id)||xr.number(o.id)||o.id===null)}n.isResponse=r})(ih||(J.Message=ih={}))});var mc=k(dr=>{"use strict";var oh;Object.defineProperty(dr,"__esModule",{value:!0});dr.LRUCache=dr.LinkedMap=dr.Touch=void 0;var wt;(function(n){n.None=0,n.First=1,n.AsOld=n.First,n.Last=2,n.AsNew=n.Last})(wt||(dr.Touch=wt={}));var Oo=class{constructor(){this[oh]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,t=wt.None){let r=this._map.get(e);if(r)return t!==wt.None&&this.touch(r,t),r.value}set(e,t,r=wt.None){let i=this._map.get(e);if(i)i.value=t,r!==wt.None&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case wt.None:this.addItemLast(i);break;case wt.First:this.addItemFirst(i);break;case wt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return r}values(){let e=this._state,t=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return r}entries(){let e=this._state,t=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return r}[(oh=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==wt.First&&t!==wt.Last)){if(t===wt.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===wt.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,r)=>{e.push([r,t])}),e}fromJSON(e){this.clear();for(let[t,r]of e)this.set(t,r)}};dr.LinkedMap=Oo;var gc=class extends Oo{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=wt.AsNew){return super.get(e,t)}peek(e){return super.get(e,wt.None)}set(e,t){return super.set(e,t,wt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};dr.LRUCache=gc});var ah=k(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.Disposable=void 0;var sh;(function(n){function e(t){return{dispose:t}}n.create=e})(sh||(No.Disposable=sh={}))});var fr=k(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});var vc;function yc(){if(vc===void 0)throw new Error("No runtime abstraction layer installed");return vc}(function(n){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");vc=t}n.install=e})(yc||(yc={}));bc.default=yc});var ti=k(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.Emitter=ei.Event=void 0;var hw=fr(),ch;(function(n){let e={dispose(){}};n.None=function(){return e}})(ch||(ei.Event=ch={}));var Cc=class{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let r=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=r.length;o<s;o++)try{t.push(r[o].apply(i[o],e))}catch(a){(0,hw.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Lo=class n{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,r)=>{this._callbacks||(this._callbacks=new Cc),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=n._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};ei.Emitter=Lo;Lo._noop=function(){}});var jo=k(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.CancellationTokenSource=ni.CancellationToken=void 0;var pw=fr(),gw=Zr(),wc=ti(),Ao;(function(n){n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:wc.Event.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:wc.Event.None});function e(t){let r=t;return r&&(r===n.None||r===n.Cancelled||gw.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}n.is=e})(Ao||(ni.CancellationToken=Ao={}));var mw=Object.freeze(function(n,e){let t=(0,pw.default)().timer.setTimeout(n.bind(e),0);return{dispose(){t.dispose()}}}),Mo=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?mw:(this._emitter||(this._emitter=new wc.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Dc=class{get token(){return this._token||(this._token=new Mo),this._token}cancel(){this._token?this._token.cancel():this._token=Ao.Cancelled}dispose(){this._token?this._token instanceof Mo&&this._token.dispose():this._token=Ao.None}};ni.CancellationTokenSource=Dc});var uh=k(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.SharedArrayReceiverStrategy=ri.SharedArraySenderStrategy=void 0;var vw=jo(),Ui;(function(n){n.Continue=0,n.Cancelled=1})(Ui||(Ui={}));var _c=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),r=new Int32Array(t,0,1);r[0]=Ui.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let r=this.buffers.get(t);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,Ui.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};ri.SharedArraySenderStrategy=_c;var Sc=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Ui.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Rc=class{constructor(e){this.token=new Sc(e)}cancel(){}dispose(){}},Tc=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new vw.CancellationTokenSource:new Rc(t)}};ri.SharedArrayReceiverStrategy=Tc});var qc=k($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.Semaphore=void 0;var yw=fr(),Pc=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,r)=>{this._waiting.push({thunk:e,resolve:t,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,yw.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};$o.Semaphore=Pc});var dh=k(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.ReadableStreamMessageReader=hr.AbstractMessageReader=hr.MessageReader=void 0;var Ec=fr(),ii=Zr(),kc=ti(),bw=qc(),lh;(function(n){function e(t){let r=t;return r&&ii.func(r.listen)&&ii.func(r.dispose)&&ii.func(r.onError)&&ii.func(r.onClose)&&ii.func(r.onPartialMessage)}n.is=e})(lh||(hr.MessageReader=lh={}));var Ho=class{constructor(){this.errorEmitter=new kc.Emitter,this.closeEmitter=new kc.Emitter,this.partialMessageEmitter=new kc.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${ii.string(e.message)?e.message:"unknown"}`)}};hr.AbstractMessageReader=Ho;var xc;(function(n){function e(t){let r,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")r=t??"utf-8";else{if(r=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let l of t.contentDecoders)s.set(l.name,l);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let l of t.contentTypeDecoders)c.set(l.name,l)}return a===void 0&&(a=(0,Ec.default)().applicationJson.decoder,c.set(a.name,a)),{charset:r,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}n.fromOptions=e})(xc||(xc={}));var Ic=class extends Ho{constructor(e,t){super(),this.readable=e,this.options=xc.fromOptions(t),this.buffer=(0,Ec.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new bw.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),t}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(t){this.fireError(t)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Ec.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};hr.ReadableStreamMessageReader=Ic});var mh=k(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.WriteableStreamMessageWriter=pr.AbstractMessageWriter=pr.MessageWriter=void 0;var fh=fr(),Wi=Zr(),Cw=qc(),hh=ti(),ww="Content-Length: ",ph=`\r
`,gh;(function(n){function e(t){let r=t;return r&&Wi.func(r.dispose)&&Wi.func(r.onClose)&&Wi.func(r.onError)&&Wi.func(r.write)}n.is=e})(gh||(pr.MessageWriter=gh={}));var Uo=class{constructor(){this.errorEmitter=new hh.Emitter,this.closeEmitter=new hh.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Wi.string(e.message)?e.message:"unknown"}`)}};pr.AbstractMessageWriter=Uo;var Fc;(function(n){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,fh.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,fh.default)().applicationJson.encoder}}n.fromOptions=e})(Fc||(Fc={}));var Oc=class extends Uo{constructor(e,t){super(),this.writable=e,this.options=Fc.fromOptions(t),this.errorCount=0,this.writeSemaphore=new Cw.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(ww,r.byteLength.toString(),ph),i.push(ph),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,t,r){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};pr.WriteableStreamMessageWriter=Oc});var vh=k(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.AbstractMessageBuffer=void 0;var Dw=13,_w=10,Sw=`\r
`,Nc=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,r=0,i=0,o=0;e:for(;r<this._chunks.length;){let l=this._chunks[r];for(i=0;i<l.length;){switch(l[i]){case Dw:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case _w:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=l.byteLength,r++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(Sw);if(c.length<2)return a;for(let l=0;l<c.length-2;l++){let f=c[l],g=f.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let m=f.substr(0,g),w=f.substr(g+1).trim();a.set(e?m.toLowerCase():m,w)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),r=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,r),r+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,r),r+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};Wo.AbstractMessageBuffer=Nc});var Dh=k(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.createMessageConnection=re.ConnectionOptions=re.MessageStrategy=re.CancellationStrategy=re.CancellationSenderStrategy=re.CancellationReceiverStrategy=re.RequestCancellationReceiverStrategy=re.IdCancellationReceiverStrategy=re.ConnectionStrategy=re.ConnectionError=re.ConnectionErrors=re.LogTraceNotification=re.SetTraceNotification=re.TraceFormat=re.TraceValues=re.Trace=re.NullLogger=re.ProgressType=re.ProgressToken=void 0;var yh=fr(),ze=Zr(),Q=pc(),bh=mc(),zi=ti(),Lc=jo(),Bi;(function(n){n.type=new Q.NotificationType("$/cancelRequest")})(Bi||(Bi={}));var Ac;(function(n){function e(t){return typeof t=="string"||typeof t=="number"}n.is=e})(Ac||(re.ProgressToken=Ac={}));var Ki;(function(n){n.type=new Q.NotificationType("$/progress")})(Ki||(Ki={}));var Mc=class{constructor(){}};re.ProgressType=Mc;var jc;(function(n){function e(t){return ze.func(t)}n.is=e})(jc||(jc={}));re.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Se;(function(n){n[n.Off=0]="Off",n[n.Messages=1]="Messages",n[n.Compact=2]="Compact",n[n.Verbose=3]="Verbose"})(Se||(re.Trace=Se={}));var Ch;(function(n){n.Off="off",n.Messages="messages",n.Compact="compact",n.Verbose="verbose"})(Ch||(re.TraceValues=Ch={}));(function(n){function e(r){if(!ze.string(r))return n.Off;switch(r=r.toLowerCase(),r){case"off":return n.Off;case"messages":return n.Messages;case"compact":return n.Compact;case"verbose":return n.Verbose;default:return n.Off}}n.fromString=e;function t(r){switch(r){case n.Off:return"off";case n.Messages:return"messages";case n.Compact:return"compact";case n.Verbose:return"verbose";default:return"off"}}n.toString=t})(Se||(re.Trace=Se={}));var Gt;(function(n){n.Text="text",n.JSON="json"})(Gt||(re.TraceFormat=Gt={}));(function(n){function e(t){return ze.string(t)?(t=t.toLowerCase(),t==="json"?n.JSON:n.Text):n.Text}n.fromString=e})(Gt||(re.TraceFormat=Gt={}));var $c;(function(n){n.type=new Q.NotificationType("$/setTrace")})($c||(re.SetTraceNotification=$c={}));var zo;(function(n){n.type=new Q.NotificationType("$/logTrace")})(zo||(re.LogTraceNotification=zo={}));var Vi;(function(n){n[n.Closed=1]="Closed",n[n.Disposed=2]="Disposed",n[n.AlreadyListening=3]="AlreadyListening"})(Vi||(re.ConnectionErrors=Vi={}));var oi=class n extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,n.prototype)}};re.ConnectionError=oi;var Hc;(function(n){function e(t){let r=t;return r&&ze.func(r.cancelUndispatched)}n.is=e})(Hc||(re.ConnectionStrategy=Hc={}));var Ko;(function(n){function e(t){let r=t;return r&&(r.kind===void 0||r.kind==="id")&&ze.func(r.createCancellationTokenSource)&&(r.dispose===void 0||ze.func(r.dispose))}n.is=e})(Ko||(re.IdCancellationReceiverStrategy=Ko={}));var Uc;(function(n){function e(t){let r=t;return r&&r.kind==="request"&&ze.func(r.createCancellationTokenSource)&&(r.dispose===void 0||ze.func(r.dispose))}n.is=e})(Uc||(re.RequestCancellationReceiverStrategy=Uc={}));var Vo;(function(n){n.Message=Object.freeze({createCancellationTokenSource(t){return new Lc.CancellationTokenSource}});function e(t){return Ko.is(t)||Uc.is(t)}n.is=e})(Vo||(re.CancellationReceiverStrategy=Vo={}));var Bo;(function(n){n.Message=Object.freeze({sendCancellation(t,r){return t.sendNotification(Bi.type,{id:r})},cleanup(t){}});function e(t){let r=t;return r&&ze.func(r.sendCancellation)&&ze.func(r.cleanup)}n.is=e})(Bo||(re.CancellationSenderStrategy=Bo={}));var Go;(function(n){n.Message=Object.freeze({receiver:Vo.Message,sender:Bo.Message});function e(t){let r=t;return r&&Vo.is(r.receiver)&&Bo.is(r.sender)}n.is=e})(Go||(re.CancellationStrategy=Go={}));var Xo;(function(n){function e(t){let r=t;return r&&ze.func(r.handleMessage)}n.is=e})(Xo||(re.MessageStrategy=Xo={}));var wh;(function(n){function e(t){let r=t;return r&&(Go.is(r.cancellationStrategy)||Hc.is(r.connectionStrategy)||Xo.is(r.messageStrategy))}n.is=e})(wh||(re.ConnectionOptions=wh={}));var bn;(function(n){n[n.New=1]="New",n[n.Listening=2]="Listening",n[n.Closed=3]="Closed",n[n.Disposed=4]="Disposed"})(bn||(bn={}));function Rw(n,e,t,r){let i=t!==void 0?t:re.NullLogger,o=0,s=0,a=0,c="2.0",l,f=new Map,g,m=new Map,w=new Map,y,C=new bh.LinkedMap,P=new Map,x=new Set,L=new Map,O=Se.Off,M=Gt.Text,X,le=bn.New,K=new zi.Emitter,Z=new zi.Emitter,ae=new zi.Emitter,Ze=new zi.Emitter,Ge=new zi.Emitter,nt=r&&r.cancellationStrategy?r.cancellationStrategy:Go.Message;function en(D){if(D===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+D.toString()}function Tt(D){return D===null?"res-unknown-"+(++a).toString():"res-"+D.toString()}function pt(){return"not-"+(++s).toString()}function gt(D,F){Q.Message.isRequest(F)?D.set(en(F.id),F):Q.Message.isResponse(F)?D.set(Tt(F.id),F):D.set(pt(),F)}function hn(D){}function qn(){return le===bn.Listening}function Ne(){return le===bn.Closed}function It(){return le===bn.Disposed}function Pt(){(le===bn.New||le===bn.Listening)&&(le=bn.Closed,Z.fire(void 0))}function mt(D){K.fire([D,void 0,void 0])}function sr(D){K.fire(D)}n.onClose(Pt),n.onError(mt),e.onClose(Pt),e.onError(sr);function kn(){y||C.size===0||(y=(0,yh.default)().timer.setImmediate(()=>{y=void 0,zn()}))}function En(D){Q.Message.isRequest(D)?xn(D):Q.Message.isNotification(D)?gn(D):Q.Message.isResponse(D)?pn(D):In(D)}function zn(){if(C.size===0)return;let D=C.shift();try{let F=r==null?void 0:r.messageStrategy;Xo.is(F)?F.handleMessage(D,En):En(D)}finally{kn()}}let ar=D=>{try{if(Q.Message.isNotification(D)&&D.method===Bi.type.method){let F=D.params.id,H=en(F),W=C.get(H);if(Q.Message.isRequest(W)){let me=r==null?void 0:r.connectionStrategy,ve=me&&me.cancelUndispatched?me.cancelUndispatched(W,hn):void 0;if(ve&&(ve.error!==void 0||ve.result!==void 0)){C.delete(H),L.delete(F),ve.id=W.id,tn(ve,D.method,Date.now()),e.write(ve).catch(()=>i.error("Sending response for canceled message failed."));return}}let be=L.get(F);if(be!==void 0){be.cancel(),nn(D);return}else x.add(F)}gt(C,D)}finally{kn()}};function xn(D){if(It())return;function F(oe,we,de){let Ie={jsonrpc:c,id:D.id};oe instanceof Q.ResponseError?Ie.error=oe.toJson():Ie.result=oe===void 0?null:oe,tn(Ie,we,de),e.write(Ie).catch(()=>i.error("Sending response failed."))}function H(oe,we,de){let Ie={jsonrpc:c,id:D.id,error:oe.toJson()};tn(Ie,we,de),e.write(Ie).catch(()=>i.error("Sending response failed."))}function W(oe,we,de){oe===void 0&&(oe=null);let Ie={jsonrpc:c,id:D.id,result:oe};tn(Ie,we,de),e.write(Ie).catch(()=>i.error("Sending response failed."))}cr(D);let be=f.get(D.method),me,ve;be&&(me=be.type,ve=be.handler);let xe=Date.now();if(ve||l){let oe=D.id??String(Date.now()),we=Ko.is(nt.receiver)?nt.receiver.createCancellationTokenSource(oe):nt.receiver.createCancellationTokenSource(D);D.id!==null&&x.has(D.id)&&we.cancel(),D.id!==null&&L.set(oe,we);try{let de;if(ve)if(D.params===void 0){if(me!==void 0&&me.numberOfParams!==0){H(new Q.ResponseError(Q.ErrorCodes.InvalidParams,`Request ${D.method} defines ${me.numberOfParams} params but received none.`),D.method,xe);return}de=ve(we.token)}else if(Array.isArray(D.params)){if(me!==void 0&&me.parameterStructures===Q.ParameterStructures.byName){H(new Q.ResponseError(Q.ErrorCodes.InvalidParams,`Request ${D.method} defines parameters by name but received parameters by position`),D.method,xe);return}de=ve(...D.params,we.token)}else{if(me!==void 0&&me.parameterStructures===Q.ParameterStructures.byPosition){H(new Q.ResponseError(Q.ErrorCodes.InvalidParams,`Request ${D.method} defines parameters by position but received parameters by name`),D.method,xe);return}de=ve(D.params,we.token)}else l&&(de=l(D.method,D.params,we.token));let Ie=de;de?Ie.then?Ie.then(Xe=>{L.delete(oe),F(Xe,D.method,xe)},Xe=>{L.delete(oe),Xe instanceof Q.ResponseError?H(Xe,D.method,xe):Xe&&ze.string(Xe.message)?H(new Q.ResponseError(Q.ErrorCodes.InternalError,`Request ${D.method} failed with message: ${Xe.message}`),D.method,xe):H(new Q.ResponseError(Q.ErrorCodes.InternalError,`Request ${D.method} failed unexpectedly without providing any details.`),D.method,xe)}):(L.delete(oe),F(de,D.method,xe)):(L.delete(oe),W(de,D.method,xe))}catch(de){L.delete(oe),de instanceof Q.ResponseError?F(de,D.method,xe):de&&ze.string(de.message)?H(new Q.ResponseError(Q.ErrorCodes.InternalError,`Request ${D.method} failed with message: ${de.message}`),D.method,xe):H(new Q.ResponseError(Q.ErrorCodes.InternalError,`Request ${D.method} failed unexpectedly without providing any details.`),D.method,xe)}}else H(new Q.ResponseError(Q.ErrorCodes.MethodNotFound,`Unhandled method ${D.method}`),D.method,xe)}function pn(D){if(!It())if(D.id===null)D.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(D.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let F=D.id,H=P.get(F);if(Fn(D,H),H!==void 0){P.delete(F);try{if(D.error){let W=D.error;H.reject(new Q.ResponseError(W.code,W.message,W.data))}else if(D.result!==void 0)H.resolve(D.result);else throw new Error("Should never happen.")}catch(W){W.message?i.error(`Response handler '${H.method}' failed with message: ${W.message}`):i.error(`Response handler '${H.method}' failed unexpectedly.`)}}}}function gn(D){if(It())return;let F,H;if(D.method===Bi.type.method){let W=D.params.id;x.delete(W),nn(D);return}else{let W=m.get(D.method);W&&(H=W.handler,F=W.type)}if(H||g)try{if(nn(D),H)if(D.params===void 0)F!==void 0&&F.numberOfParams!==0&&F.parameterStructures!==Q.ParameterStructures.byName&&i.error(`Notification ${D.method} defines ${F.numberOfParams} params but received none.`),H();else if(Array.isArray(D.params)){let W=D.params;D.method===Ki.type.method&&W.length===2&&Ac.is(W[0])?H({token:W[0],value:W[1]}):(F!==void 0&&(F.parameterStructures===Q.ParameterStructures.byName&&i.error(`Notification ${D.method} defines parameters by name but received parameters by position`),F.numberOfParams!==D.params.length&&i.error(`Notification ${D.method} defines ${F.numberOfParams} params but received ${W.length} arguments`)),H(...W))}else F!==void 0&&F.parameterStructures===Q.ParameterStructures.byPosition&&i.error(`Notification ${D.method} defines parameters by position but received parameters by name`),H(D.params);else g&&g(D.method,D.params)}catch(W){W.message?i.error(`Notification handler '${D.method}' failed with message: ${W.message}`):i.error(`Notification handler '${D.method}' failed unexpectedly.`)}else ae.fire(D)}function In(D){if(!D){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(D,null,4)}`);let F=D;if(ze.string(F.id)||ze.number(F.id)){let H=F.id,W=P.get(H);W&&W.reject(new Error("The received response has neither a result nor an error property."))}}function rt(D){if(D!=null)switch(O){case Se.Verbose:return JSON.stringify(D,null,4);case Se.Compact:return JSON.stringify(D);default:return}}function Kn(D){if(!(O===Se.Off||!X))if(M===Gt.Text){let F;(O===Se.Verbose||O===Se.Compact)&&D.params&&(F=`Params: ${rt(D.params)}

`),X.log(`Sending request '${D.method} - (${D.id})'.`,F)}else et("send-request",D)}function mn(D){if(!(O===Se.Off||!X))if(M===Gt.Text){let F;(O===Se.Verbose||O===Se.Compact)&&(D.params?F=`Params: ${rt(D.params)}

`:F=`No parameters provided.

`),X.log(`Sending notification '${D.method}'.`,F)}else et("send-notification",D)}function tn(D,F,H){if(!(O===Se.Off||!X))if(M===Gt.Text){let W;(O===Se.Verbose||O===Se.Compact)&&(D.error&&D.error.data?W=`Error data: ${rt(D.error.data)}

`:D.result?W=`Result: ${rt(D.result)}

`:D.error===void 0&&(W=`No result returned.

`)),X.log(`Sending response '${F} - (${D.id})'. Processing request took ${Date.now()-H}ms`,W)}else et("send-response",D)}function cr(D){if(!(O===Se.Off||!X))if(M===Gt.Text){let F;(O===Se.Verbose||O===Se.Compact)&&D.params&&(F=`Params: ${rt(D.params)}

`),X.log(`Received request '${D.method} - (${D.id})'.`,F)}else et("receive-request",D)}function nn(D){if(!(O===Se.Off||!X||D.method===zo.type.method))if(M===Gt.Text){let F;(O===Se.Verbose||O===Se.Compact)&&(D.params?F=`Params: ${rt(D.params)}

`:F=`No parameters provided.

`),X.log(`Received notification '${D.method}'.`,F)}else et("receive-notification",D)}function Fn(D,F){if(!(O===Se.Off||!X))if(M===Gt.Text){let H;if((O===Se.Verbose||O===Se.Compact)&&(D.error&&D.error.data?H=`Error data: ${rt(D.error.data)}

`:D.result?H=`Result: ${rt(D.result)}

`:D.error===void 0&&(H=`No result returned.

`)),F){let W=D.error?` Request failed: ${D.error.message} (${D.error.code}).`:"";X.log(`Received response '${F.method} - (${D.id})' in ${Date.now()-F.timerStart}ms.${W}`,H)}else X.log(`Received response ${D.id} without active response promise.`,H)}else et("receive-response",D)}function et(D,F){if(!X||O===Se.Off)return;let H={isLSPMessage:!0,type:D,message:F,timestamp:Date.now()};X.log(H)}function bt(){if(Ne())throw new oi(Vi.Closed,"Connection is closed.");if(It())throw new oi(Vi.Disposed,"Connection is disposed.")}function vt(){if(qn())throw new oi(Vi.AlreadyListening,"Connection is already listening")}function Vt(){if(!qn())throw new Error("Call listen() first.")}function Ft(D){return D===void 0?null:D}function On(D){if(D!==null)return D}function Vn(D){return D!=null&&!Array.isArray(D)&&typeof D=="object"}function vn(D,F){switch(D){case Q.ParameterStructures.auto:return Vn(F)?On(F):[Ft(F)];case Q.ParameterStructures.byName:if(!Vn(F))throw new Error("Received parameters by name but param is not an object literal.");return On(F);case Q.ParameterStructures.byPosition:return[Ft(F)];default:throw new Error(`Unknown parameter structure ${D.toString()}`)}}function Bn(D,F){let H,W=D.numberOfParams;switch(W){case 0:H=void 0;break;case 1:H=vn(D.parameterStructures,F[0]);break;default:H=[];for(let be=0;be<F.length&&be<W;be++)H.push(Ft(F[be]));if(F.length<W)for(let be=F.length;be<W;be++)H.push(null);break}return H}let qt={sendNotification:(D,...F)=>{bt();let H,W;if(ze.string(D)){H=D;let me=F[0],ve=0,xe=Q.ParameterStructures.auto;Q.ParameterStructures.is(me)&&(ve=1,xe=me);let oe=F.length,we=oe-ve;switch(we){case 0:W=void 0;break;case 1:W=vn(xe,F[ve]);break;default:if(xe===Q.ParameterStructures.byName)throw new Error(`Received ${we} parameters for 'by Name' notification parameter structure.`);W=F.slice(ve,oe).map(de=>Ft(de));break}}else{let me=F;H=D.method,W=Bn(D,me)}let be={jsonrpc:c,method:H,params:W};return mn(be),e.write(be).catch(me=>{throw i.error("Sending notification failed."),me})},onNotification:(D,F)=>{bt();let H;return ze.func(D)?g=D:F&&(ze.string(D)?(H=D,m.set(D,{type:void 0,handler:F})):(H=D.method,m.set(D.method,{type:D,handler:F}))),{dispose:()=>{H!==void 0?m.delete(H):g=void 0}}},onProgress:(D,F,H)=>{if(w.has(F))throw new Error(`Progress handler for token ${F} already registered`);return w.set(F,H),{dispose:()=>{w.delete(F)}}},sendProgress:(D,F,H)=>qt.sendNotification(Ki.type,{token:F,value:H}),onUnhandledProgress:Ze.event,sendRequest:(D,...F)=>{bt(),Vt();let H,W,be;if(ze.string(D)){H=D;let oe=F[0],we=F[F.length-1],de=0,Ie=Q.ParameterStructures.auto;Q.ParameterStructures.is(oe)&&(de=1,Ie=oe);let Xe=F.length;Lc.CancellationToken.is(we)&&(Xe=Xe-1,be=we);let ut=Xe-de;switch(ut){case 0:W=void 0;break;case 1:W=vn(Ie,F[de]);break;default:if(Ie===Q.ParameterStructures.byName)throw new Error(`Received ${ut} parameters for 'by Name' request parameter structure.`);W=F.slice(de,Xe).map(ur=>Ft(ur));break}}else{let oe=F;H=D.method,W=Bn(D,oe);let we=D.numberOfParams;be=Lc.CancellationToken.is(oe[we])?oe[we]:void 0}let me=o++,ve;be&&(ve=be.onCancellationRequested(()=>{let oe=nt.sender.sendCancellation(qt,me);return oe===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${me}`),Promise.resolve()):oe.catch(()=>{i.log(`Sending cancellation messages for id ${me} failed`)})}));let xe={jsonrpc:c,id:me,method:H,params:W};return Kn(xe),typeof nt.sender.enableCancellation=="function"&&nt.sender.enableCancellation(xe),new Promise(async(oe,we)=>{let de=ut=>{oe(ut),nt.sender.cleanup(me),ve==null||ve.dispose()},Ie=ut=>{we(ut),nt.sender.cleanup(me),ve==null||ve.dispose()},Xe={method:H,timerStart:Date.now(),resolve:de,reject:Ie};try{await e.write(xe),P.set(me,Xe)}catch(ut){throw i.error("Sending request failed."),Xe.reject(new Q.ResponseError(Q.ErrorCodes.MessageWriteError,ut.message?ut.message:"Unknown reason")),ut}})},onRequest:(D,F)=>{bt();let H=null;return jc.is(D)?(H=void 0,l=D):ze.string(D)?(H=null,F!==void 0&&(H=D,f.set(D,{handler:F,type:void 0}))):F!==void 0&&(H=D.method,f.set(D.method,{type:D,handler:F})),{dispose:()=>{H!==null&&(H!==void 0?f.delete(H):l=void 0)}}},hasPendingResponse:()=>P.size>0,trace:async(D,F,H)=>{let W=!1,be=Gt.Text;H!==void 0&&(ze.boolean(H)?W=H:(W=H.sendNotification||!1,be=H.traceFormat||Gt.Text)),O=D,M=be,O===Se.Off?X=void 0:X=F,W&&!Ne()&&!It()&&await qt.sendNotification($c.type,{value:Se.toString(D)})},onError:K.event,onClose:Z.event,onUnhandledNotification:ae.event,onDispose:Ge.event,end:()=>{e.end()},dispose:()=>{if(It())return;le=bn.Disposed,Ge.fire(void 0);let D=new Q.ResponseError(Q.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let F of P.values())F.reject(D);P=new Map,L=new Map,x=new Set,C=new bh.LinkedMap,ze.func(e.dispose)&&e.dispose(),ze.func(n.dispose)&&n.dispose()},listen:()=>{bt(),vt(),le=bn.Listening,n.listen(ar)},inspect:()=>{(0,yh.default)().console.log("inspect")}};return qt.onNotification(zo.type,D=>{if(O===Se.Off||!X)return;let F=O===Se.Verbose||O===Se.Compact;X.log(D.message,F?D.verbose:void 0)}),qt.onNotification(Ki.type,D=>{let F=w.get(D.token);F?F(D.value):Ze.fire(D)}),qt}re.createMessageConnection=Rw});var Jo=k(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.ProgressType=I.ProgressToken=I.createMessageConnection=I.NullLogger=I.ConnectionOptions=I.ConnectionStrategy=I.AbstractMessageBuffer=I.WriteableStreamMessageWriter=I.AbstractMessageWriter=I.MessageWriter=I.ReadableStreamMessageReader=I.AbstractMessageReader=I.MessageReader=I.SharedArrayReceiverStrategy=I.SharedArraySenderStrategy=I.CancellationToken=I.CancellationTokenSource=I.Emitter=I.Event=I.Disposable=I.LRUCache=I.Touch=I.LinkedMap=I.ParameterStructures=I.NotificationType9=I.NotificationType8=I.NotificationType7=I.NotificationType6=I.NotificationType5=I.NotificationType4=I.NotificationType3=I.NotificationType2=I.NotificationType1=I.NotificationType0=I.NotificationType=I.ErrorCodes=I.ResponseError=I.RequestType9=I.RequestType8=I.RequestType7=I.RequestType6=I.RequestType5=I.RequestType4=I.RequestType3=I.RequestType2=I.RequestType1=I.RequestType0=I.RequestType=I.Message=I.RAL=void 0;I.MessageStrategy=I.CancellationStrategy=I.CancellationSenderStrategy=I.CancellationReceiverStrategy=I.ConnectionError=I.ConnectionErrors=I.LogTraceNotification=I.SetTraceNotification=I.TraceFormat=I.TraceValues=I.Trace=void 0;var Le=pc();Object.defineProperty(I,"Message",{enumerable:!0,get:function(){return Le.Message}});Object.defineProperty(I,"RequestType",{enumerable:!0,get:function(){return Le.RequestType}});Object.defineProperty(I,"RequestType0",{enumerable:!0,get:function(){return Le.RequestType0}});Object.defineProperty(I,"RequestType1",{enumerable:!0,get:function(){return Le.RequestType1}});Object.defineProperty(I,"RequestType2",{enumerable:!0,get:function(){return Le.RequestType2}});Object.defineProperty(I,"RequestType3",{enumerable:!0,get:function(){return Le.RequestType3}});Object.defineProperty(I,"RequestType4",{enumerable:!0,get:function(){return Le.RequestType4}});Object.defineProperty(I,"RequestType5",{enumerable:!0,get:function(){return Le.RequestType5}});Object.defineProperty(I,"RequestType6",{enumerable:!0,get:function(){return Le.RequestType6}});Object.defineProperty(I,"RequestType7",{enumerable:!0,get:function(){return Le.RequestType7}});Object.defineProperty(I,"RequestType8",{enumerable:!0,get:function(){return Le.RequestType8}});Object.defineProperty(I,"RequestType9",{enumerable:!0,get:function(){return Le.RequestType9}});Object.defineProperty(I,"ResponseError",{enumerable:!0,get:function(){return Le.ResponseError}});Object.defineProperty(I,"ErrorCodes",{enumerable:!0,get:function(){return Le.ErrorCodes}});Object.defineProperty(I,"NotificationType",{enumerable:!0,get:function(){return Le.NotificationType}});Object.defineProperty(I,"NotificationType0",{enumerable:!0,get:function(){return Le.NotificationType0}});Object.defineProperty(I,"NotificationType1",{enumerable:!0,get:function(){return Le.NotificationType1}});Object.defineProperty(I,"NotificationType2",{enumerable:!0,get:function(){return Le.NotificationType2}});Object.defineProperty(I,"NotificationType3",{enumerable:!0,get:function(){return Le.NotificationType3}});Object.defineProperty(I,"NotificationType4",{enumerable:!0,get:function(){return Le.NotificationType4}});Object.defineProperty(I,"NotificationType5",{enumerable:!0,get:function(){return Le.NotificationType5}});Object.defineProperty(I,"NotificationType6",{enumerable:!0,get:function(){return Le.NotificationType6}});Object.defineProperty(I,"NotificationType7",{enumerable:!0,get:function(){return Le.NotificationType7}});Object.defineProperty(I,"NotificationType8",{enumerable:!0,get:function(){return Le.NotificationType8}});Object.defineProperty(I,"NotificationType9",{enumerable:!0,get:function(){return Le.NotificationType9}});Object.defineProperty(I,"ParameterStructures",{enumerable:!0,get:function(){return Le.ParameterStructures}});var Wc=mc();Object.defineProperty(I,"LinkedMap",{enumerable:!0,get:function(){return Wc.LinkedMap}});Object.defineProperty(I,"LRUCache",{enumerable:!0,get:function(){return Wc.LRUCache}});Object.defineProperty(I,"Touch",{enumerable:!0,get:function(){return Wc.Touch}});var Tw=ah();Object.defineProperty(I,"Disposable",{enumerable:!0,get:function(){return Tw.Disposable}});var _h=ti();Object.defineProperty(I,"Event",{enumerable:!0,get:function(){return _h.Event}});Object.defineProperty(I,"Emitter",{enumerable:!0,get:function(){return _h.Emitter}});var Sh=jo();Object.defineProperty(I,"CancellationTokenSource",{enumerable:!0,get:function(){return Sh.CancellationTokenSource}});Object.defineProperty(I,"CancellationToken",{enumerable:!0,get:function(){return Sh.CancellationToken}});var Rh=uh();Object.defineProperty(I,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Rh.SharedArraySenderStrategy}});Object.defineProperty(I,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Rh.SharedArrayReceiverStrategy}});var zc=dh();Object.defineProperty(I,"MessageReader",{enumerable:!0,get:function(){return zc.MessageReader}});Object.defineProperty(I,"AbstractMessageReader",{enumerable:!0,get:function(){return zc.AbstractMessageReader}});Object.defineProperty(I,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return zc.ReadableStreamMessageReader}});var Kc=mh();Object.defineProperty(I,"MessageWriter",{enumerable:!0,get:function(){return Kc.MessageWriter}});Object.defineProperty(I,"AbstractMessageWriter",{enumerable:!0,get:function(){return Kc.AbstractMessageWriter}});Object.defineProperty(I,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Kc.WriteableStreamMessageWriter}});var Pw=vh();Object.defineProperty(I,"AbstractMessageBuffer",{enumerable:!0,get:function(){return Pw.AbstractMessageBuffer}});var yt=Dh();Object.defineProperty(I,"ConnectionStrategy",{enumerable:!0,get:function(){return yt.ConnectionStrategy}});Object.defineProperty(I,"ConnectionOptions",{enumerable:!0,get:function(){return yt.ConnectionOptions}});Object.defineProperty(I,"NullLogger",{enumerable:!0,get:function(){return yt.NullLogger}});Object.defineProperty(I,"createMessageConnection",{enumerable:!0,get:function(){return yt.createMessageConnection}});Object.defineProperty(I,"ProgressToken",{enumerable:!0,get:function(){return yt.ProgressToken}});Object.defineProperty(I,"ProgressType",{enumerable:!0,get:function(){return yt.ProgressType}});Object.defineProperty(I,"Trace",{enumerable:!0,get:function(){return yt.Trace}});Object.defineProperty(I,"TraceValues",{enumerable:!0,get:function(){return yt.TraceValues}});Object.defineProperty(I,"TraceFormat",{enumerable:!0,get:function(){return yt.TraceFormat}});Object.defineProperty(I,"SetTraceNotification",{enumerable:!0,get:function(){return yt.SetTraceNotification}});Object.defineProperty(I,"LogTraceNotification",{enumerable:!0,get:function(){return yt.LogTraceNotification}});Object.defineProperty(I,"ConnectionErrors",{enumerable:!0,get:function(){return yt.ConnectionErrors}});Object.defineProperty(I,"ConnectionError",{enumerable:!0,get:function(){return yt.ConnectionError}});Object.defineProperty(I,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return yt.CancellationReceiverStrategy}});Object.defineProperty(I,"CancellationSenderStrategy",{enumerable:!0,get:function(){return yt.CancellationSenderStrategy}});Object.defineProperty(I,"CancellationStrategy",{enumerable:!0,get:function(){return yt.CancellationStrategy}});Object.defineProperty(I,"MessageStrategy",{enumerable:!0,get:function(){return yt.MessageStrategy}});var qw=fr();I.RAL=qw.default});var qh=k(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});var Th=require("util"),Gn=Jo(),Qo=class n extends Gn.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return n.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new Th.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};Qo.emptyBuffer=Buffer.allocUnsafe(0);var Vc=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Gn.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Gn.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Gn.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Gn.Disposable.create(()=>this.stream.off("data",e))}},Bc=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Gn.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Gn.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Gn.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((r,i)=>{let o=s=>{s==null?r():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},Ph=Object.freeze({messageBuffer:Object.freeze({create:n=>new Qo(n)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(n,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(n,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(n,e)=>{try{return n instanceof Buffer?Promise.resolve(JSON.parse(n.toString(e.charset))):Promise.resolve(JSON.parse(new Th.TextDecoder(e.charset).decode(n)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:n=>new Vc(n),asWritableStream:n=>new Bc(n)}),console,timer:Object.freeze({setTimeout(n,e,...t){let r=setTimeout(n,e,...t);return{dispose:()=>clearTimeout(r)}},setImmediate(n,...e){let t=setImmediate(n,...e);return{dispose:()=>clearImmediate(t)}},setInterval(n,e,...t){let r=setInterval(n,e,...t);return{dispose:()=>clearInterval(r)}}})});function Gc(){return Ph}(function(n){function e(){Gn.RAL.install(Ph)}n.install=e})(Gc||(Gc={}));Xc.default=Gc});var Or=k(ge=>{"use strict";var kw=ge&&ge.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ew=ge&&ge.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&kw(e,n,t)};Object.defineProperty(ge,"__esModule",{value:!0});ge.createMessageConnection=ge.createServerSocketTransport=ge.createClientSocketTransport=ge.createServerPipeTransport=ge.createClientPipeTransport=ge.generateRandomPipeName=ge.StreamMessageWriter=ge.StreamMessageReader=ge.SocketMessageWriter=ge.SocketMessageReader=ge.PortMessageWriter=ge.PortMessageReader=ge.IPCMessageWriter=ge.IPCMessageReader=void 0;var si=qh();si.default.install();var kh=require("path"),xw=require("os"),Iw=require("crypto"),es=require("net"),Xt=Jo();Ew(Jo(),ge);var Jc=class extends Xt.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",r=>this.fireError(r)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Xt.Disposable.create(()=>this.process.off("message",e))}};ge.IPCMessageReader=Jc;var Qc=class extends Xt.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",r=>this.fireError(r)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};ge.IPCMessageWriter=Qc;var Yc=class extends Xt.AbstractMessageReader{constructor(e){super(),this.onData=new Xt.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};ge.PortMessageReader=Yc;var Zc=class extends Xt.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};ge.PortMessageWriter=Zc;var Ir=class extends Xt.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,si.default)().stream.asReadableStream(e),t)}};ge.SocketMessageReader=Ir;var Fr=class extends Xt.WriteableStreamMessageWriter{constructor(e,t){super((0,si.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};ge.SocketMessageWriter=Fr;var Yo=class extends Xt.ReadableStreamMessageReader{constructor(e,t){super((0,si.default)().stream.asReadableStream(e),t)}};ge.StreamMessageReader=Yo;var Zo=class extends Xt.WriteableStreamMessageWriter{constructor(e,t){super((0,si.default)().stream.asWritableStream(e),t)}};ge.StreamMessageWriter=Zo;var Eh=process.env.XDG_RUNTIME_DIR,Fw=new Map([["linux",107],["darwin",103]]);function Ow(){let n=(0,Iw.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${n}-sock`;let e;Eh?e=kh.join(Eh,`vscode-ipc-${n}.sock`):e=kh.join(xw.tmpdir(),`vscode-${n}.sock`);let t=Fw.get(process.platform);return t!==void 0&&e.length>t&&(0,si.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}ge.generateRandomPipeName=Ow;function Nw(n,e="utf-8"){let t,r=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,es.createServer)(a=>{s.close(),t([new Ir(a,e),new Fr(a,e)])});s.on("error",o),s.listen(n,()=>{s.removeListener("error",o),i({onConnected:()=>r})})})}ge.createClientPipeTransport=Nw;function Lw(n,e="utf-8"){let t=(0,es.createConnection)(n);return[new Ir(t,e),new Fr(t,e)]}ge.createServerPipeTransport=Lw;function Aw(n,e="utf-8"){let t,r=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,es.createServer)(a=>{s.close(),t([new Ir(a,e),new Fr(a,e)])});s.on("error",o),s.listen(n,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>r})})})}ge.createClientSocketTransport=Aw;function Mw(n,e="utf-8"){let t=(0,es.createConnection)(n,"127.0.0.1");return[new Ir(t,e),new Fr(t,e)]}ge.createServerSocketTransport=Mw;function jw(n){let e=n;return e.read!==void 0&&e.addListener!==void 0}function $w(n){let e=n;return e.write!==void 0&&e.addListener!==void 0}function Hw(n,e,t,r){t||(t=Xt.NullLogger);let i=jw(n)?new Yo(n):n,o=$w(e)?new Zo(e):e;return Xt.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Xt.createMessageConnection)(i,o,t,r)}ge.createMessageConnection=Hw});var eu=k((dq,xh)=>{"use strict";xh.exports=Or()});var ns=k((Ih,ts)=>{(function(n){if(typeof ts=="object"&&typeof ts.exports=="object"){var e=n(require,Ih);e!==void 0&&(ts.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],n)})(function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var t;(function(p){function _(S){return typeof S=="string"}p.is=_})(t||(e.DocumentUri=t={}));var r;(function(p){function _(S){return typeof S=="string"}p.is=_})(r||(e.URI=r={}));var i;(function(p){p.MIN_VALUE=-2147483648,p.MAX_VALUE=2147483647;function _(S){return typeof S=="number"&&p.MIN_VALUE<=S&&S<=p.MAX_VALUE}p.is=_})(i||(e.integer=i={}));var o;(function(p){p.MIN_VALUE=0,p.MAX_VALUE=2147483647;function _(S){return typeof S=="number"&&p.MIN_VALUE<=S&&S<=p.MAX_VALUE}p.is=_})(o||(e.uinteger=o={}));var s;(function(p){function _(v,d){return v===Number.MAX_VALUE&&(v=o.MAX_VALUE),d===Number.MAX_VALUE&&(d=o.MAX_VALUE),{line:v,character:d}}p.create=_;function S(v){var d=v;return T.objectLiteral(d)&&T.uinteger(d.line)&&T.uinteger(d.character)}p.is=S})(s||(e.Position=s={}));var a;(function(p){function _(v,d,q,N){if(T.uinteger(v)&&T.uinteger(d)&&T.uinteger(q)&&T.uinteger(N))return{start:s.create(v,d),end:s.create(q,N)};if(s.is(v)&&s.is(d))return{start:v,end:d};throw new Error("Range#create called with invalid arguments[".concat(v,", ").concat(d,", ").concat(q,", ").concat(N,"]"))}p.create=_;function S(v){var d=v;return T.objectLiteral(d)&&s.is(d.start)&&s.is(d.end)}p.is=S})(a||(e.Range=a={}));var c;(function(p){function _(v,d){return{uri:v,range:d}}p.create=_;function S(v){var d=v;return T.objectLiteral(d)&&a.is(d.range)&&(T.string(d.uri)||T.undefined(d.uri))}p.is=S})(c||(e.Location=c={}));var l;(function(p){function _(v,d,q,N){return{targetUri:v,targetRange:d,targetSelectionRange:q,originSelectionRange:N}}p.create=_;function S(v){var d=v;return T.objectLiteral(d)&&a.is(d.targetRange)&&T.string(d.targetUri)&&a.is(d.targetSelectionRange)&&(a.is(d.originSelectionRange)||T.undefined(d.originSelectionRange))}p.is=S})(l||(e.LocationLink=l={}));var f;(function(p){function _(v,d,q,N){return{red:v,green:d,blue:q,alpha:N}}p.create=_;function S(v){var d=v;return T.objectLiteral(d)&&T.numberRange(d.red,0,1)&&T.numberRange(d.green,0,1)&&T.numberRange(d.blue,0,1)&&T.numberRange(d.alpha,0,1)}p.is=S})(f||(e.Color=f={}));var g;(function(p){function _(v,d){return{range:v,color:d}}p.create=_;function S(v){var d=v;return T.objectLiteral(d)&&a.is(d.range)&&f.is(d.color)}p.is=S})(g||(e.ColorInformation=g={}));var m;(function(p){function _(v,d,q){return{label:v,textEdit:d,additionalTextEdits:q}}p.create=_;function S(v){var d=v;return T.objectLiteral(d)&&T.string(d.label)&&(T.undefined(d.textEdit)||X.is(d))&&(T.undefined(d.additionalTextEdits)||T.typedArray(d.additionalTextEdits,X.is))}p.is=S})(m||(e.ColorPresentation=m={}));var w;(function(p){p.Comment="comment",p.Imports="imports",p.Region="region"})(w||(e.FoldingRangeKind=w={}));var y;(function(p){function _(v,d,q,N,te,je){var Fe={startLine:v,endLine:d};return T.defined(q)&&(Fe.startCharacter=q),T.defined(N)&&(Fe.endCharacter=N),T.defined(te)&&(Fe.kind=te),T.defined(je)&&(Fe.collapsedText=je),Fe}p.create=_;function S(v){var d=v;return T.objectLiteral(d)&&T.uinteger(d.startLine)&&T.uinteger(d.startLine)&&(T.undefined(d.startCharacter)||T.uinteger(d.startCharacter))&&(T.undefined(d.endCharacter)||T.uinteger(d.endCharacter))&&(T.undefined(d.kind)||T.string(d.kind))}p.is=S})(y||(e.FoldingRange=y={}));var C;(function(p){function _(v,d){return{location:v,message:d}}p.create=_;function S(v){var d=v;return T.defined(d)&&c.is(d.location)&&T.string(d.message)}p.is=S})(C||(e.DiagnosticRelatedInformation=C={}));var P;(function(p){p.Error=1,p.Warning=2,p.Information=3,p.Hint=4})(P||(e.DiagnosticSeverity=P={}));var x;(function(p){p.Unnecessary=1,p.Deprecated=2})(x||(e.DiagnosticTag=x={}));var L;(function(p){function _(S){var v=S;return T.objectLiteral(v)&&T.string(v.href)}p.is=_})(L||(e.CodeDescription=L={}));var O;(function(p){function _(v,d,q,N,te,je){var Fe={range:v,message:d};return T.defined(q)&&(Fe.severity=q),T.defined(N)&&(Fe.code=N),T.defined(te)&&(Fe.source=te),T.defined(je)&&(Fe.relatedInformation=je),Fe}p.create=_;function S(v){var d,q=v;return T.defined(q)&&a.is(q.range)&&T.string(q.message)&&(T.number(q.severity)||T.undefined(q.severity))&&(T.integer(q.code)||T.string(q.code)||T.undefined(q.code))&&(T.undefined(q.codeDescription)||T.string((d=q.codeDescription)===null||d===void 0?void 0:d.href))&&(T.string(q.source)||T.undefined(q.source))&&(T.undefined(q.relatedInformation)||T.typedArray(q.relatedInformation,C.is))}p.is=S})(O||(e.Diagnostic=O={}));var M;(function(p){function _(v,d){for(var q=[],N=2;N<arguments.length;N++)q[N-2]=arguments[N];var te={title:v,command:d};return T.defined(q)&&q.length>0&&(te.arguments=q),te}p.create=_;function S(v){var d=v;return T.defined(d)&&T.string(d.title)&&T.string(d.command)}p.is=S})(M||(e.Command=M={}));var X;(function(p){function _(q,N){return{range:q,newText:N}}p.replace=_;function S(q,N){return{range:{start:q,end:q},newText:N}}p.insert=S;function v(q){return{range:q,newText:""}}p.del=v;function d(q){var N=q;return T.objectLiteral(N)&&T.string(N.newText)&&a.is(N.range)}p.is=d})(X||(e.TextEdit=X={}));var le;(function(p){function _(v,d,q){var N={label:v};return d!==void 0&&(N.needsConfirmation=d),q!==void 0&&(N.description=q),N}p.create=_;function S(v){var d=v;return T.objectLiteral(d)&&T.string(d.label)&&(T.boolean(d.needsConfirmation)||d.needsConfirmation===void 0)&&(T.string(d.description)||d.description===void 0)}p.is=S})(le||(e.ChangeAnnotation=le={}));var K;(function(p){function _(S){var v=S;return T.string(v)}p.is=_})(K||(e.ChangeAnnotationIdentifier=K={}));var Z;(function(p){function _(q,N,te){return{range:q,newText:N,annotationId:te}}p.replace=_;function S(q,N,te){return{range:{start:q,end:q},newText:N,annotationId:te}}p.insert=S;function v(q,N){return{range:q,newText:"",annotationId:N}}p.del=v;function d(q){var N=q;return X.is(N)&&(le.is(N.annotationId)||K.is(N.annotationId))}p.is=d})(Z||(e.AnnotatedTextEdit=Z={}));var ae;(function(p){function _(v,d){return{textDocument:v,edits:d}}p.create=_;function S(v){var d=v;return T.defined(d)&&Ne.is(d.textDocument)&&Array.isArray(d.edits)}p.is=S})(ae||(e.TextDocumentEdit=ae={}));var Ze;(function(p){function _(v,d,q){var N={kind:"create",uri:v};return d!==void 0&&(d.overwrite!==void 0||d.ignoreIfExists!==void 0)&&(N.options=d),q!==void 0&&(N.annotationId=q),N}p.create=_;function S(v){var d=v;return d&&d.kind==="create"&&T.string(d.uri)&&(d.options===void 0||(d.options.overwrite===void 0||T.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||T.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||K.is(d.annotationId))}p.is=S})(Ze||(e.CreateFile=Ze={}));var Ge;(function(p){function _(v,d,q,N){var te={kind:"rename",oldUri:v,newUri:d};return q!==void 0&&(q.overwrite!==void 0||q.ignoreIfExists!==void 0)&&(te.options=q),N!==void 0&&(te.annotationId=N),te}p.create=_;function S(v){var d=v;return d&&d.kind==="rename"&&T.string(d.oldUri)&&T.string(d.newUri)&&(d.options===void 0||(d.options.overwrite===void 0||T.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||T.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||K.is(d.annotationId))}p.is=S})(Ge||(e.RenameFile=Ge={}));var nt;(function(p){function _(v,d,q){var N={kind:"delete",uri:v};return d!==void 0&&(d.recursive!==void 0||d.ignoreIfNotExists!==void 0)&&(N.options=d),q!==void 0&&(N.annotationId=q),N}p.create=_;function S(v){var d=v;return d&&d.kind==="delete"&&T.string(d.uri)&&(d.options===void 0||(d.options.recursive===void 0||T.boolean(d.options.recursive))&&(d.options.ignoreIfNotExists===void 0||T.boolean(d.options.ignoreIfNotExists)))&&(d.annotationId===void 0||K.is(d.annotationId))}p.is=S})(nt||(e.DeleteFile=nt={}));var en;(function(p){function _(S){var v=S;return v&&(v.changes!==void 0||v.documentChanges!==void 0)&&(v.documentChanges===void 0||v.documentChanges.every(function(d){return T.string(d.kind)?Ze.is(d)||Ge.is(d)||nt.is(d):ae.is(d)}))}p.is=_})(en||(e.WorkspaceEdit=en={}));var Tt=function(){function p(_,S){this.edits=_,this.changeAnnotations=S}return p.prototype.insert=function(_,S,v){var d,q;if(v===void 0?d=X.insert(_,S):K.is(v)?(q=v,d=Z.insert(_,S,v)):(this.assertChangeAnnotations(this.changeAnnotations),q=this.changeAnnotations.manage(v),d=Z.insert(_,S,q)),this.edits.push(d),q!==void 0)return q},p.prototype.replace=function(_,S,v){var d,q;if(v===void 0?d=X.replace(_,S):K.is(v)?(q=v,d=Z.replace(_,S,v)):(this.assertChangeAnnotations(this.changeAnnotations),q=this.changeAnnotations.manage(v),d=Z.replace(_,S,q)),this.edits.push(d),q!==void 0)return q},p.prototype.delete=function(_,S){var v,d;if(S===void 0?v=X.del(_):K.is(S)?(d=S,v=Z.del(_,S)):(this.assertChangeAnnotations(this.changeAnnotations),d=this.changeAnnotations.manage(S),v=Z.del(_,d)),this.edits.push(v),d!==void 0)return d},p.prototype.add=function(_){this.edits.push(_)},p.prototype.all=function(){return this.edits},p.prototype.clear=function(){this.edits.splice(0,this.edits.length)},p.prototype.assertChangeAnnotations=function(_){if(_===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},p}(),pt=function(){function p(_){this._annotations=_===void 0?Object.create(null):_,this._counter=0,this._size=0}return p.prototype.all=function(){return this._annotations},Object.defineProperty(p.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),p.prototype.manage=function(_,S){var v;if(K.is(_)?v=_:(v=this.nextId(),S=_),this._annotations[v]!==void 0)throw new Error("Id ".concat(v," is already in use."));if(S===void 0)throw new Error("No annotation provided for id ".concat(v));return this._annotations[v]=S,this._size++,v},p.prototype.nextId=function(){return this._counter++,this._counter.toString()},p}(),gt=function(){function p(_){var S=this;this._textEditChanges=Object.create(null),_!==void 0?(this._workspaceEdit=_,_.documentChanges?(this._changeAnnotations=new pt(_.changeAnnotations),_.changeAnnotations=this._changeAnnotations.all(),_.documentChanges.forEach(function(v){if(ae.is(v)){var d=new Tt(v.edits,S._changeAnnotations);S._textEditChanges[v.textDocument.uri]=d}})):_.changes&&Object.keys(_.changes).forEach(function(v){var d=new Tt(_.changes[v]);S._textEditChanges[v]=d})):this._workspaceEdit={}}return Object.defineProperty(p.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),p.prototype.getTextEditChange=function(_){if(Ne.is(_)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S={uri:_.uri,version:_.version},v=this._textEditChanges[S.uri];if(!v){var d=[],q={textDocument:S,edits:d};this._workspaceEdit.documentChanges.push(q),v=new Tt(d,this._changeAnnotations),this._textEditChanges[S.uri]=v}return v}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var v=this._textEditChanges[_];if(!v){var d=[];this._workspaceEdit.changes[_]=d,v=new Tt(d),this._textEditChanges[_]=v}return v}},p.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new pt,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},p.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},p.prototype.createFile=function(_,S,v){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var d;le.is(S)||K.is(S)?d=S:v=S;var q,N;if(d===void 0?q=Ze.create(_,v):(N=K.is(d)?d:this._changeAnnotations.manage(d),q=Ze.create(_,v,N)),this._workspaceEdit.documentChanges.push(q),N!==void 0)return N},p.prototype.renameFile=function(_,S,v,d){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var q;le.is(v)||K.is(v)?q=v:d=v;var N,te;if(q===void 0?N=Ge.create(_,S,d):(te=K.is(q)?q:this._changeAnnotations.manage(q),N=Ge.create(_,S,d,te)),this._workspaceEdit.documentChanges.push(N),te!==void 0)return te},p.prototype.deleteFile=function(_,S,v){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var d;le.is(S)||K.is(S)?d=S:v=S;var q,N;if(d===void 0?q=nt.create(_,v):(N=K.is(d)?d:this._changeAnnotations.manage(d),q=nt.create(_,v,N)),this._workspaceEdit.documentChanges.push(q),N!==void 0)return N},p}();e.WorkspaceChange=gt;var hn;(function(p){function _(v){return{uri:v}}p.create=_;function S(v){var d=v;return T.defined(d)&&T.string(d.uri)}p.is=S})(hn||(e.TextDocumentIdentifier=hn={}));var qn;(function(p){function _(v,d){return{uri:v,version:d}}p.create=_;function S(v){var d=v;return T.defined(d)&&T.string(d.uri)&&T.integer(d.version)}p.is=S})(qn||(e.VersionedTextDocumentIdentifier=qn={}));var Ne;(function(p){function _(v,d){return{uri:v,version:d}}p.create=_;function S(v){var d=v;return T.defined(d)&&T.string(d.uri)&&(d.version===null||T.integer(d.version))}p.is=S})(Ne||(e.OptionalVersionedTextDocumentIdentifier=Ne={}));var It;(function(p){function _(v,d,q,N){return{uri:v,languageId:d,version:q,text:N}}p.create=_;function S(v){var d=v;return T.defined(d)&&T.string(d.uri)&&T.string(d.languageId)&&T.integer(d.version)&&T.string(d.text)}p.is=S})(It||(e.TextDocumentItem=It={}));var Pt;(function(p){p.PlainText="plaintext",p.Markdown="markdown";function _(S){var v=S;return v===p.PlainText||v===p.Markdown}p.is=_})(Pt||(e.MarkupKind=Pt={}));var mt;(function(p){function _(S){var v=S;return T.objectLiteral(S)&&Pt.is(v.kind)&&T.string(v.value)}p.is=_})(mt||(e.MarkupContent=mt={}));var sr;(function(p){p.Text=1,p.Method=2,p.Function=3,p.Constructor=4,p.Field=5,p.Variable=6,p.Class=7,p.Interface=8,p.Module=9,p.Property=10,p.Unit=11,p.Value=12,p.Enum=13,p.Keyword=14,p.Snippet=15,p.Color=16,p.File=17,p.Reference=18,p.Folder=19,p.EnumMember=20,p.Constant=21,p.Struct=22,p.Event=23,p.Operator=24,p.TypeParameter=25})(sr||(e.CompletionItemKind=sr={}));var kn;(function(p){p.PlainText=1,p.Snippet=2})(kn||(e.InsertTextFormat=kn={}));var En;(function(p){p.Deprecated=1})(En||(e.CompletionItemTag=En={}));var zn;(function(p){function _(v,d,q){return{newText:v,insert:d,replace:q}}p.create=_;function S(v){var d=v;return d&&T.string(d.newText)&&a.is(d.insert)&&a.is(d.replace)}p.is=S})(zn||(e.InsertReplaceEdit=zn={}));var ar;(function(p){p.asIs=1,p.adjustIndentation=2})(ar||(e.InsertTextMode=ar={}));var xn;(function(p){function _(S){var v=S;return v&&(T.string(v.detail)||v.detail===void 0)&&(T.string(v.description)||v.description===void 0)}p.is=_})(xn||(e.CompletionItemLabelDetails=xn={}));var pn;(function(p){function _(S){return{label:S}}p.create=_})(pn||(e.CompletionItem=pn={}));var gn;(function(p){function _(S,v){return{items:S||[],isIncomplete:!!v}}p.create=_})(gn||(e.CompletionList=gn={}));var In;(function(p){function _(v){return v.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}p.fromPlainText=_;function S(v){var d=v;return T.string(d)||T.objectLiteral(d)&&T.string(d.language)&&T.string(d.value)}p.is=S})(In||(e.MarkedString=In={}));var rt;(function(p){function _(S){var v=S;return!!v&&T.objectLiteral(v)&&(mt.is(v.contents)||In.is(v.contents)||T.typedArray(v.contents,In.is))&&(S.range===void 0||a.is(S.range))}p.is=_})(rt||(e.Hover=rt={}));var Kn;(function(p){function _(S,v){return v?{label:S,documentation:v}:{label:S}}p.create=_})(Kn||(e.ParameterInformation=Kn={}));var mn;(function(p){function _(S,v){for(var d=[],q=2;q<arguments.length;q++)d[q-2]=arguments[q];var N={label:S};return T.defined(v)&&(N.documentation=v),T.defined(d)?N.parameters=d:N.parameters=[],N}p.create=_})(mn||(e.SignatureInformation=mn={}));var tn;(function(p){p.Text=1,p.Read=2,p.Write=3})(tn||(e.DocumentHighlightKind=tn={}));var cr;(function(p){function _(S,v){var d={range:S};return T.number(v)&&(d.kind=v),d}p.create=_})(cr||(e.DocumentHighlight=cr={}));var nn;(function(p){p.File=1,p.Module=2,p.Namespace=3,p.Package=4,p.Class=5,p.Method=6,p.Property=7,p.Field=8,p.Constructor=9,p.Enum=10,p.Interface=11,p.Function=12,p.Variable=13,p.Constant=14,p.String=15,p.Number=16,p.Boolean=17,p.Array=18,p.Object=19,p.Key=20,p.Null=21,p.EnumMember=22,p.Struct=23,p.Event=24,p.Operator=25,p.TypeParameter=26})(nn||(e.SymbolKind=nn={}));var Fn;(function(p){p.Deprecated=1})(Fn||(e.SymbolTag=Fn={}));var et;(function(p){function _(S,v,d,q,N){var te={name:S,kind:v,location:{uri:q,range:d}};return N&&(te.containerName=N),te}p.create=_})(et||(e.SymbolInformation=et={}));var bt;(function(p){function _(S,v,d,q){return q!==void 0?{name:S,kind:v,location:{uri:d,range:q}}:{name:S,kind:v,location:{uri:d}}}p.create=_})(bt||(e.WorkspaceSymbol=bt={}));var vt;(function(p){function _(v,d,q,N,te,je){var Fe={name:v,detail:d,kind:q,range:N,selectionRange:te};return je!==void 0&&(Fe.children=je),Fe}p.create=_;function S(v){var d=v;return d&&T.string(d.name)&&T.number(d.kind)&&a.is(d.range)&&a.is(d.selectionRange)&&(d.detail===void 0||T.string(d.detail))&&(d.deprecated===void 0||T.boolean(d.deprecated))&&(d.children===void 0||Array.isArray(d.children))&&(d.tags===void 0||Array.isArray(d.tags))}p.is=S})(vt||(e.DocumentSymbol=vt={}));var Vt;(function(p){p.Empty="",p.QuickFix="quickfix",p.Refactor="refactor",p.RefactorExtract="refactor.extract",p.RefactorInline="refactor.inline",p.RefactorRewrite="refactor.rewrite",p.Source="source",p.SourceOrganizeImports="source.organizeImports",p.SourceFixAll="source.fixAll"})(Vt||(e.CodeActionKind=Vt={}));var Ft;(function(p){p.Invoked=1,p.Automatic=2})(Ft||(e.CodeActionTriggerKind=Ft={}));var On;(function(p){function _(v,d,q){var N={diagnostics:v};return d!=null&&(N.only=d),q!=null&&(N.triggerKind=q),N}p.create=_;function S(v){var d=v;return T.defined(d)&&T.typedArray(d.diagnostics,O.is)&&(d.only===void 0||T.typedArray(d.only,T.string))&&(d.triggerKind===void 0||d.triggerKind===Ft.Invoked||d.triggerKind===Ft.Automatic)}p.is=S})(On||(e.CodeActionContext=On={}));var Vn;(function(p){function _(v,d,q){var N={title:v},te=!0;return typeof d=="string"?(te=!1,N.kind=d):M.is(d)?N.command=d:N.edit=d,te&&q!==void 0&&(N.kind=q),N}p.create=_;function S(v){var d=v;return d&&T.string(d.title)&&(d.diagnostics===void 0||T.typedArray(d.diagnostics,O.is))&&(d.kind===void 0||T.string(d.kind))&&(d.edit!==void 0||d.command!==void 0)&&(d.command===void 0||M.is(d.command))&&(d.isPreferred===void 0||T.boolean(d.isPreferred))&&(d.edit===void 0||en.is(d.edit))}p.is=S})(Vn||(e.CodeAction=Vn={}));var vn;(function(p){function _(v,d){var q={range:v};return T.defined(d)&&(q.data=d),q}p.create=_;function S(v){var d=v;return T.defined(d)&&a.is(d.range)&&(T.undefined(d.command)||M.is(d.command))}p.is=S})(vn||(e.CodeLens=vn={}));var Bn;(function(p){function _(v,d){return{tabSize:v,insertSpaces:d}}p.create=_;function S(v){var d=v;return T.defined(d)&&T.uinteger(d.tabSize)&&T.boolean(d.insertSpaces)}p.is=S})(Bn||(e.FormattingOptions=Bn={}));var qt;(function(p){function _(v,d,q){return{range:v,target:d,data:q}}p.create=_;function S(v){var d=v;return T.defined(d)&&a.is(d.range)&&(T.undefined(d.target)||T.string(d.target))}p.is=S})(qt||(e.DocumentLink=qt={}));var D;(function(p){function _(v,d){return{range:v,parent:d}}p.create=_;function S(v){var d=v;return T.objectLiteral(d)&&a.is(d.range)&&(d.parent===void 0||p.is(d.parent))}p.is=S})(D||(e.SelectionRange=D={}));var F;(function(p){p.namespace="namespace",p.type="type",p.class="class",p.enum="enum",p.interface="interface",p.struct="struct",p.typeParameter="typeParameter",p.parameter="parameter",p.variable="variable",p.property="property",p.enumMember="enumMember",p.event="event",p.function="function",p.method="method",p.macro="macro",p.keyword="keyword",p.modifier="modifier",p.comment="comment",p.string="string",p.number="number",p.regexp="regexp",p.operator="operator",p.decorator="decorator"})(F||(e.SemanticTokenTypes=F={}));var H;(function(p){p.declaration="declaration",p.definition="definition",p.readonly="readonly",p.static="static",p.deprecated="deprecated",p.abstract="abstract",p.async="async",p.modification="modification",p.documentation="documentation",p.defaultLibrary="defaultLibrary"})(H||(e.SemanticTokenModifiers=H={}));var W;(function(p){function _(S){var v=S;return T.objectLiteral(v)&&(v.resultId===void 0||typeof v.resultId=="string")&&Array.isArray(v.data)&&(v.data.length===0||typeof v.data[0]=="number")}p.is=_})(W||(e.SemanticTokens=W={}));var be;(function(p){function _(v,d){return{range:v,text:d}}p.create=_;function S(v){var d=v;return d!=null&&a.is(d.range)&&T.string(d.text)}p.is=S})(be||(e.InlineValueText=be={}));var me;(function(p){function _(v,d,q){return{range:v,variableName:d,caseSensitiveLookup:q}}p.create=_;function S(v){var d=v;return d!=null&&a.is(d.range)&&T.boolean(d.caseSensitiveLookup)&&(T.string(d.variableName)||d.variableName===void 0)}p.is=S})(me||(e.InlineValueVariableLookup=me={}));var ve;(function(p){function _(v,d){return{range:v,expression:d}}p.create=_;function S(v){var d=v;return d!=null&&a.is(d.range)&&(T.string(d.expression)||d.expression===void 0)}p.is=S})(ve||(e.InlineValueEvaluatableExpression=ve={}));var xe;(function(p){function _(v,d){return{frameId:v,stoppedLocation:d}}p.create=_;function S(v){var d=v;return T.defined(d)&&a.is(v.stoppedLocation)}p.is=S})(xe||(e.InlineValueContext=xe={}));var oe;(function(p){p.Type=1,p.Parameter=2;function _(S){return S===1||S===2}p.is=_})(oe||(e.InlayHintKind=oe={}));var we;(function(p){function _(v){return{value:v}}p.create=_;function S(v){var d=v;return T.objectLiteral(d)&&(d.tooltip===void 0||T.string(d.tooltip)||mt.is(d.tooltip))&&(d.location===void 0||c.is(d.location))&&(d.command===void 0||M.is(d.command))}p.is=S})(we||(e.InlayHintLabelPart=we={}));var de;(function(p){function _(v,d,q){var N={position:v,label:d};return q!==void 0&&(N.kind=q),N}p.create=_;function S(v){var d=v;return T.objectLiteral(d)&&s.is(d.position)&&(T.string(d.label)||T.typedArray(d.label,we.is))&&(d.kind===void 0||oe.is(d.kind))&&d.textEdits===void 0||T.typedArray(d.textEdits,X.is)&&(d.tooltip===void 0||T.string(d.tooltip)||mt.is(d.tooltip))&&(d.paddingLeft===void 0||T.boolean(d.paddingLeft))&&(d.paddingRight===void 0||T.boolean(d.paddingRight))}p.is=S})(de||(e.InlayHint=de={}));var Ie;(function(p){function _(S){return{kind:"snippet",value:S}}p.createSnippet=_})(Ie||(e.StringValue=Ie={}));var Xe;(function(p){function _(S,v,d,q){return{insertText:S,filterText:v,range:d,command:q}}p.create=_})(Xe||(e.InlineCompletionItem=Xe={}));var ut;(function(p){function _(S){return{items:S}}p.create=_})(ut||(e.InlineCompletionList=ut={}));var ur;(function(p){p.Invoked=0,p.Automatic=1})(ur||(e.InlineCompletionTriggerKind=ur={}));var lr;(function(p){function _(S,v){return{range:S,text:v}}p.create=_})(lr||(e.SelectedCompletionInfo=lr={}));var h;(function(p){function _(S,v){return{triggerKind:S,selectedCompletionInfo:v}}p.create=_})(h||(e.InlineCompletionContext=h={}));var E;(function(p){function _(S){var v=S;return T.objectLiteral(v)&&r.is(v.uri)&&T.string(v.name)}p.is=_})(E||(e.WorkspaceFolder=E={})),e.EOL=[`
`,`\r
`,"\r"];var z;(function(p){function _(q,N,te,je){return new De(q,N,te,je)}p.create=_;function S(q){var N=q;return!!(T.defined(N)&&T.string(N.uri)&&(T.undefined(N.languageId)||T.string(N.languageId))&&T.uinteger(N.lineCount)&&T.func(N.getText)&&T.func(N.positionAt)&&T.func(N.offsetAt))}p.is=S;function v(q,N){for(var te=q.getText(),je=d(N,function(Nn,u){var R=Nn.range.start.line-u.range.start.line;return R===0?Nn.range.start.character-u.range.start.character:R}),Fe=te.length,Ot=je.length-1;Ot>=0;Ot--){var Bt=je[Ot],yn=q.offsetAt(Bt.range.start),ue=q.offsetAt(Bt.range.end);if(ue<=Fe)te=te.substring(0,yn)+Bt.newText+te.substring(ue,te.length);else throw new Error("Overlapping edit");Fe=yn}return te}p.applyEdits=v;function d(q,N){if(q.length<=1)return q;var te=q.length/2|0,je=q.slice(0,te),Fe=q.slice(te);d(je,N),d(Fe,N);for(var Ot=0,Bt=0,yn=0;Ot<je.length&&Bt<Fe.length;){var ue=N(je[Ot],Fe[Bt]);ue<=0?q[yn++]=je[Ot++]:q[yn++]=Fe[Bt++]}for(;Ot<je.length;)q[yn++]=je[Ot++];for(;Bt<Fe.length;)q[yn++]=Fe[Bt++];return q}})(z||(e.TextDocument=z={}));var De=function(){function p(_,S,v,d){this._uri=_,this._languageId=S,this._version=v,this._content=d,this._lineOffsets=void 0}return Object.defineProperty(p.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),p.prototype.getText=function(_){if(_){var S=this.offsetAt(_.start),v=this.offsetAt(_.end);return this._content.substring(S,v)}return this._content},p.prototype.update=function(_,S){this._content=_.text,this._version=S,this._lineOffsets=void 0},p.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var _=[],S=this._content,v=!0,d=0;d<S.length;d++){v&&(_.push(d),v=!1);var q=S.charAt(d);v=q==="\r"||q===`
`,q==="\r"&&d+1<S.length&&S.charAt(d+1)===`
`&&d++}v&&S.length>0&&_.push(S.length),this._lineOffsets=_}return this._lineOffsets},p.prototype.positionAt=function(_){_=Math.max(Math.min(_,this._content.length),0);var S=this.getLineOffsets(),v=0,d=S.length;if(d===0)return s.create(0,_);for(;v<d;){var q=Math.floor((v+d)/2);S[q]>_?d=q:v=q+1}var N=v-1;return s.create(N,_-S[N])},p.prototype.offsetAt=function(_){var S=this.getLineOffsets();if(_.line>=S.length)return this._content.length;if(_.line<0)return 0;var v=S[_.line],d=_.line+1<S.length?S[_.line+1]:this._content.length;return Math.max(Math.min(v+_.character,d),v)},Object.defineProperty(p.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),p}(),T;(function(p){var _=Object.prototype.toString;function S(ue){return typeof ue<"u"}p.defined=S;function v(ue){return typeof ue>"u"}p.undefined=v;function d(ue){return ue===!0||ue===!1}p.boolean=d;function q(ue){return _.call(ue)==="[object String]"}p.string=q;function N(ue){return _.call(ue)==="[object Number]"}p.number=N;function te(ue,Nn,u){return _.call(ue)==="[object Number]"&&Nn<=ue&&ue<=u}p.numberRange=te;function je(ue){return _.call(ue)==="[object Number]"&&-2147483648<=ue&&ue<=2147483647}p.integer=je;function Fe(ue){return _.call(ue)==="[object Number]"&&0<=ue&&ue<=2147483647}p.uinteger=Fe;function Ot(ue){return _.call(ue)==="[object Function]"}p.func=Ot;function Bt(ue){return ue!==null&&typeof ue=="object"}p.objectLiteral=Bt;function yn(ue,Nn){return Array.isArray(ue)&&ue.every(Nn)}p.typedArray=yn})(T||(T={}))})});var $e=k(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.ProtocolNotificationType=Lt.ProtocolNotificationType0=Lt.ProtocolRequestType=Lt.ProtocolRequestType0=Lt.RegistrationType=Lt.MessageDirection=void 0;var ai=Or(),Fh;(function(n){n.clientToServer="clientToServer",n.serverToClient="serverToClient",n.both="both"})(Fh||(Lt.MessageDirection=Fh={}));var tu=class{constructor(e){this.method=e}};Lt.RegistrationType=tu;var nu=class extends ai.RequestType0{constructor(e){super(e)}};Lt.ProtocolRequestType0=nu;var ru=class extends ai.RequestType{constructor(e){super(e,ai.ParameterStructures.byName)}};Lt.ProtocolRequestType=ru;var iu=class extends ai.NotificationType0{constructor(e){super(e)}};Lt.ProtocolNotificationType0=iu;var ou=class extends ai.NotificationType{constructor(e){super(e,ai.ParameterStructures.byName)}};Lt.ProtocolNotificationType=ou});var rs=k(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.objectLiteral=ot.typedArray=ot.stringArray=ot.array=ot.func=ot.error=ot.number=ot.string=ot.boolean=void 0;function Uw(n){return n===!0||n===!1}ot.boolean=Uw;function Oh(n){return typeof n=="string"||n instanceof String}ot.string=Oh;function Ww(n){return typeof n=="number"||n instanceof Number}ot.number=Ww;function zw(n){return n instanceof Error}ot.error=zw;function Kw(n){return typeof n=="function"}ot.func=Kw;function Nh(n){return Array.isArray(n)}ot.array=Nh;function Vw(n){return Nh(n)&&n.every(e=>Oh(e))}ot.stringArray=Vw;function Bw(n,e){return Array.isArray(n)&&n.every(e)}ot.typedArray=Bw;function Gw(n){return n!==null&&typeof n=="object"}ot.objectLiteral=Gw});var Mh=k(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.ImplementationRequest=void 0;var Lh=$e(),Ah;(function(n){n.method="textDocument/implementation",n.messageDirection=Lh.MessageDirection.clientToServer,n.type=new Lh.ProtocolRequestType(n.method)})(Ah||(is.ImplementationRequest=Ah={}))});var Hh=k(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.TypeDefinitionRequest=void 0;var jh=$e(),$h;(function(n){n.method="textDocument/typeDefinition",n.messageDirection=jh.MessageDirection.clientToServer,n.type=new jh.ProtocolRequestType(n.method)})($h||(os.TypeDefinitionRequest=$h={}))});var zh=k(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.DidChangeWorkspaceFoldersNotification=ci.WorkspaceFoldersRequest=void 0;var ss=$e(),Uh;(function(n){n.method="workspace/workspaceFolders",n.messageDirection=ss.MessageDirection.serverToClient,n.type=new ss.ProtocolRequestType0(n.method)})(Uh||(ci.WorkspaceFoldersRequest=Uh={}));var Wh;(function(n){n.method="workspace/didChangeWorkspaceFolders",n.messageDirection=ss.MessageDirection.clientToServer,n.type=new ss.ProtocolNotificationType(n.method)})(Wh||(ci.DidChangeWorkspaceFoldersNotification=Wh={}))});var Bh=k(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.ConfigurationRequest=void 0;var Kh=$e(),Vh;(function(n){n.method="workspace/configuration",n.messageDirection=Kh.MessageDirection.serverToClient,n.type=new Kh.ProtocolRequestType(n.method)})(Vh||(as.ConfigurationRequest=Vh={}))});var Jh=k(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.ColorPresentationRequest=ui.DocumentColorRequest=void 0;var cs=$e(),Gh;(function(n){n.method="textDocument/documentColor",n.messageDirection=cs.MessageDirection.clientToServer,n.type=new cs.ProtocolRequestType(n.method)})(Gh||(ui.DocumentColorRequest=Gh={}));var Xh;(function(n){n.method="textDocument/colorPresentation",n.messageDirection=cs.MessageDirection.clientToServer,n.type=new cs.ProtocolRequestType(n.method)})(Xh||(ui.ColorPresentationRequest=Xh={}))});var Zh=k(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.FoldingRangeRefreshRequest=li.FoldingRangeRequest=void 0;var us=$e(),Qh;(function(n){n.method="textDocument/foldingRange",n.messageDirection=us.MessageDirection.clientToServer,n.type=new us.ProtocolRequestType(n.method)})(Qh||(li.FoldingRangeRequest=Qh={}));var Yh;(function(n){n.method="workspace/foldingRange/refresh",n.messageDirection=us.MessageDirection.serverToClient,n.type=new us.ProtocolRequestType0(n.method)})(Yh||(li.FoldingRangeRefreshRequest=Yh={}))});var np=k(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.DeclarationRequest=void 0;var ep=$e(),tp;(function(n){n.method="textDocument/declaration",n.messageDirection=ep.MessageDirection.clientToServer,n.type=new ep.ProtocolRequestType(n.method)})(tp||(ls.DeclarationRequest=tp={}))});var op=k(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.SelectionRangeRequest=void 0;var rp=$e(),ip;(function(n){n.method="textDocument/selectionRange",n.messageDirection=rp.MessageDirection.clientToServer,n.type=new rp.ProtocolRequestType(n.method)})(ip||(ds.SelectionRangeRequest=ip={}))});var up=k(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.WorkDoneProgressCancelNotification=gr.WorkDoneProgressCreateRequest=gr.WorkDoneProgress=void 0;var Xw=Or(),fs=$e(),sp;(function(n){n.type=new Xw.ProgressType;function e(t){return t===n.type}n.is=e})(sp||(gr.WorkDoneProgress=sp={}));var ap;(function(n){n.method="window/workDoneProgress/create",n.messageDirection=fs.MessageDirection.serverToClient,n.type=new fs.ProtocolRequestType(n.method)})(ap||(gr.WorkDoneProgressCreateRequest=ap={}));var cp;(function(n){n.method="window/workDoneProgress/cancel",n.messageDirection=fs.MessageDirection.clientToServer,n.type=new fs.ProtocolNotificationType(n.method)})(cp||(gr.WorkDoneProgressCancelNotification=cp={}))});var hp=k(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.CallHierarchyOutgoingCallsRequest=mr.CallHierarchyIncomingCallsRequest=mr.CallHierarchyPrepareRequest=void 0;var di=$e(),lp;(function(n){n.method="textDocument/prepareCallHierarchy",n.messageDirection=di.MessageDirection.clientToServer,n.type=new di.ProtocolRequestType(n.method)})(lp||(mr.CallHierarchyPrepareRequest=lp={}));var dp;(function(n){n.method="callHierarchy/incomingCalls",n.messageDirection=di.MessageDirection.clientToServer,n.type=new di.ProtocolRequestType(n.method)})(dp||(mr.CallHierarchyIncomingCallsRequest=dp={}));var fp;(function(n){n.method="callHierarchy/outgoingCalls",n.messageDirection=di.MessageDirection.clientToServer,n.type=new di.ProtocolRequestType(n.method)})(fp||(mr.CallHierarchyOutgoingCallsRequest=fp={}))});var bp=k(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.SemanticTokensRefreshRequest=At.SemanticTokensRangeRequest=At.SemanticTokensDeltaRequest=At.SemanticTokensRequest=At.SemanticTokensRegistrationType=At.TokenFormat=void 0;var Xn=$e(),pp;(function(n){n.Relative="relative"})(pp||(At.TokenFormat=pp={}));var Gi;(function(n){n.method="textDocument/semanticTokens",n.type=new Xn.RegistrationType(n.method)})(Gi||(At.SemanticTokensRegistrationType=Gi={}));var gp;(function(n){n.method="textDocument/semanticTokens/full",n.messageDirection=Xn.MessageDirection.clientToServer,n.type=new Xn.ProtocolRequestType(n.method),n.registrationMethod=Gi.method})(gp||(At.SemanticTokensRequest=gp={}));var mp;(function(n){n.method="textDocument/semanticTokens/full/delta",n.messageDirection=Xn.MessageDirection.clientToServer,n.type=new Xn.ProtocolRequestType(n.method),n.registrationMethod=Gi.method})(mp||(At.SemanticTokensDeltaRequest=mp={}));var vp;(function(n){n.method="textDocument/semanticTokens/range",n.messageDirection=Xn.MessageDirection.clientToServer,n.type=new Xn.ProtocolRequestType(n.method),n.registrationMethod=Gi.method})(vp||(At.SemanticTokensRangeRequest=vp={}));var yp;(function(n){n.method="workspace/semanticTokens/refresh",n.messageDirection=Xn.MessageDirection.serverToClient,n.type=new Xn.ProtocolRequestType0(n.method)})(yp||(At.SemanticTokensRefreshRequest=yp={}))});var Dp=k(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.ShowDocumentRequest=void 0;var Cp=$e(),wp;(function(n){n.method="window/showDocument",n.messageDirection=Cp.MessageDirection.serverToClient,n.type=new Cp.ProtocolRequestType(n.method)})(wp||(hs.ShowDocumentRequest=wp={}))});var Rp=k(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.LinkedEditingRangeRequest=void 0;var _p=$e(),Sp;(function(n){n.method="textDocument/linkedEditingRange",n.messageDirection=_p.MessageDirection.clientToServer,n.type=new _p.ProtocolRequestType(n.method)})(Sp||(ps.LinkedEditingRangeRequest=Sp={}))});var Fp=k(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.WillDeleteFilesRequest=Dt.DidDeleteFilesNotification=Dt.DidRenameFilesNotification=Dt.WillRenameFilesRequest=Dt.DidCreateFilesNotification=Dt.WillCreateFilesRequest=Dt.FileOperationPatternKind=void 0;var rn=$e(),Tp;(function(n){n.file="file",n.folder="folder"})(Tp||(Dt.FileOperationPatternKind=Tp={}));var Pp;(function(n){n.method="workspace/willCreateFiles",n.messageDirection=rn.MessageDirection.clientToServer,n.type=new rn.ProtocolRequestType(n.method)})(Pp||(Dt.WillCreateFilesRequest=Pp={}));var qp;(function(n){n.method="workspace/didCreateFiles",n.messageDirection=rn.MessageDirection.clientToServer,n.type=new rn.ProtocolNotificationType(n.method)})(qp||(Dt.DidCreateFilesNotification=qp={}));var kp;(function(n){n.method="workspace/willRenameFiles",n.messageDirection=rn.MessageDirection.clientToServer,n.type=new rn.ProtocolRequestType(n.method)})(kp||(Dt.WillRenameFilesRequest=kp={}));var Ep;(function(n){n.method="workspace/didRenameFiles",n.messageDirection=rn.MessageDirection.clientToServer,n.type=new rn.ProtocolNotificationType(n.method)})(Ep||(Dt.DidRenameFilesNotification=Ep={}));var xp;(function(n){n.method="workspace/didDeleteFiles",n.messageDirection=rn.MessageDirection.clientToServer,n.type=new rn.ProtocolNotificationType(n.method)})(xp||(Dt.DidDeleteFilesNotification=xp={}));var Ip;(function(n){n.method="workspace/willDeleteFiles",n.messageDirection=rn.MessageDirection.clientToServer,n.type=new rn.ProtocolRequestType(n.method)})(Ip||(Dt.WillDeleteFilesRequest=Ip={}))});var Mp=k(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.MonikerRequest=vr.MonikerKind=vr.UniquenessLevel=void 0;var Op=$e(),Np;(function(n){n.document="document",n.project="project",n.group="group",n.scheme="scheme",n.global="global"})(Np||(vr.UniquenessLevel=Np={}));var Lp;(function(n){n.$import="import",n.$export="export",n.local="local"})(Lp||(vr.MonikerKind=Lp={}));var Ap;(function(n){n.method="textDocument/moniker",n.messageDirection=Op.MessageDirection.clientToServer,n.type=new Op.ProtocolRequestType(n.method)})(Ap||(vr.MonikerRequest=Ap={}))});var Up=k(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.TypeHierarchySubtypesRequest=yr.TypeHierarchySupertypesRequest=yr.TypeHierarchyPrepareRequest=void 0;var fi=$e(),jp;(function(n){n.method="textDocument/prepareTypeHierarchy",n.messageDirection=fi.MessageDirection.clientToServer,n.type=new fi.ProtocolRequestType(n.method)})(jp||(yr.TypeHierarchyPrepareRequest=jp={}));var $p;(function(n){n.method="typeHierarchy/supertypes",n.messageDirection=fi.MessageDirection.clientToServer,n.type=new fi.ProtocolRequestType(n.method)})($p||(yr.TypeHierarchySupertypesRequest=$p={}));var Hp;(function(n){n.method="typeHierarchy/subtypes",n.messageDirection=fi.MessageDirection.clientToServer,n.type=new fi.ProtocolRequestType(n.method)})(Hp||(yr.TypeHierarchySubtypesRequest=Hp={}))});var Kp=k(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.InlineValueRefreshRequest=hi.InlineValueRequest=void 0;var gs=$e(),Wp;(function(n){n.method="textDocument/inlineValue",n.messageDirection=gs.MessageDirection.clientToServer,n.type=new gs.ProtocolRequestType(n.method)})(Wp||(hi.InlineValueRequest=Wp={}));var zp;(function(n){n.method="workspace/inlineValue/refresh",n.messageDirection=gs.MessageDirection.serverToClient,n.type=new gs.ProtocolRequestType0(n.method)})(zp||(hi.InlineValueRefreshRequest=zp={}))});var Xp=k(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.InlayHintRefreshRequest=br.InlayHintResolveRequest=br.InlayHintRequest=void 0;var pi=$e(),Vp;(function(n){n.method="textDocument/inlayHint",n.messageDirection=pi.MessageDirection.clientToServer,n.type=new pi.ProtocolRequestType(n.method)})(Vp||(br.InlayHintRequest=Vp={}));var Bp;(function(n){n.method="inlayHint/resolve",n.messageDirection=pi.MessageDirection.clientToServer,n.type=new pi.ProtocolRequestType(n.method)})(Bp||(br.InlayHintResolveRequest=Bp={}));var Gp;(function(n){n.method="workspace/inlayHint/refresh",n.messageDirection=pi.MessageDirection.serverToClient,n.type=new pi.ProtocolRequestType0(n.method)})(Gp||(br.InlayHintRefreshRequest=Gp={}))});var ng=k(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.DiagnosticRefreshRequest=on.WorkspaceDiagnosticRequest=on.DocumentDiagnosticRequest=on.DocumentDiagnosticReportKind=on.DiagnosticServerCancellationData=void 0;var tg=Or(),Jw=rs(),gi=$e(),Jp;(function(n){function e(t){let r=t;return r&&Jw.boolean(r.retriggerRequest)}n.is=e})(Jp||(on.DiagnosticServerCancellationData=Jp={}));var Qp;(function(n){n.Full="full",n.Unchanged="unchanged"})(Qp||(on.DocumentDiagnosticReportKind=Qp={}));var Yp;(function(n){n.method="textDocument/diagnostic",n.messageDirection=gi.MessageDirection.clientToServer,n.type=new gi.ProtocolRequestType(n.method),n.partialResult=new tg.ProgressType})(Yp||(on.DocumentDiagnosticRequest=Yp={}));var Zp;(function(n){n.method="workspace/diagnostic",n.messageDirection=gi.MessageDirection.clientToServer,n.type=new gi.ProtocolRequestType(n.method),n.partialResult=new tg.ProgressType})(Zp||(on.WorkspaceDiagnosticRequest=Zp={}));var eg;(function(n){n.method="workspace/diagnostic/refresh",n.messageDirection=gi.MessageDirection.serverToClient,n.type=new gi.ProtocolRequestType0(n.method)})(eg||(on.DiagnosticRefreshRequest=eg={}))});var ug=k(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.DidCloseNotebookDocumentNotification=Je.DidSaveNotebookDocumentNotification=Je.DidChangeNotebookDocumentNotification=Je.NotebookCellArrayChange=Je.DidOpenNotebookDocumentNotification=Je.NotebookDocumentSyncRegistrationType=Je.NotebookDocument=Je.NotebookCell=Je.ExecutionSummary=Je.NotebookCellKind=void 0;var Xi=ns(),Cn=rs(),An=$e(),su;(function(n){n.Markup=1,n.Code=2;function e(t){return t===1||t===2}n.is=e})(su||(Je.NotebookCellKind=su={}));var au;(function(n){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}n.create=e;function t(i){let o=i;return Cn.objectLiteral(o)&&Xi.uinteger.is(o.executionOrder)&&(o.success===void 0||Cn.boolean(o.success))}n.is=t;function r(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}n.equals=r})(au||(Je.ExecutionSummary=au={}));var ms;(function(n){function e(o,s){return{kind:o,document:s}}n.create=e;function t(o){let s=o;return Cn.objectLiteral(s)&&su.is(s.kind)&&Xi.DocumentUri.is(s.document)&&(s.metadata===void 0||Cn.objectLiteral(s.metadata))}n.is=t;function r(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!au.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}n.diff=r;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let l=0;l<o.length;l++)if(!i(o[l],s[l]))return!1}if(Cn.objectLiteral(o)&&Cn.objectLiteral(s)){let l=Object.keys(o),f=Object.keys(s);if(l.length!==f.length||(l.sort(),f.sort(),!i(l,f)))return!1;for(let g=0;g<l.length;g++){let m=l[g];if(!i(o[m],s[m]))return!1}}return!0}})(ms||(Je.NotebookCell=ms={}));var rg;(function(n){function e(r,i,o,s){return{uri:r,notebookType:i,version:o,cells:s}}n.create=e;function t(r){let i=r;return Cn.objectLiteral(i)&&Cn.string(i.uri)&&Xi.integer.is(i.version)&&Cn.typedArray(i.cells,ms.is)}n.is=t})(rg||(Je.NotebookDocument=rg={}));var mi;(function(n){n.method="notebookDocument/sync",n.messageDirection=An.MessageDirection.clientToServer,n.type=new An.RegistrationType(n.method)})(mi||(Je.NotebookDocumentSyncRegistrationType=mi={}));var ig;(function(n){n.method="notebookDocument/didOpen",n.messageDirection=An.MessageDirection.clientToServer,n.type=new An.ProtocolNotificationType(n.method),n.registrationMethod=mi.method})(ig||(Je.DidOpenNotebookDocumentNotification=ig={}));var og;(function(n){function e(r){let i=r;return Cn.objectLiteral(i)&&Xi.uinteger.is(i.start)&&Xi.uinteger.is(i.deleteCount)&&(i.cells===void 0||Cn.typedArray(i.cells,ms.is))}n.is=e;function t(r,i,o){let s={start:r,deleteCount:i};return o!==void 0&&(s.cells=o),s}n.create=t})(og||(Je.NotebookCellArrayChange=og={}));var sg;(function(n){n.method="notebookDocument/didChange",n.messageDirection=An.MessageDirection.clientToServer,n.type=new An.ProtocolNotificationType(n.method),n.registrationMethod=mi.method})(sg||(Je.DidChangeNotebookDocumentNotification=sg={}));var ag;(function(n){n.method="notebookDocument/didSave",n.messageDirection=An.MessageDirection.clientToServer,n.type=new An.ProtocolNotificationType(n.method),n.registrationMethod=mi.method})(ag||(Je.DidSaveNotebookDocumentNotification=ag={}));var cg;(function(n){n.method="notebookDocument/didClose",n.messageDirection=An.MessageDirection.clientToServer,n.type=new An.ProtocolNotificationType(n.method),n.registrationMethod=mi.method})(cg||(Je.DidCloseNotebookDocumentNotification=cg={}))});var fg=k(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.InlineCompletionRequest=void 0;var lg=$e(),dg;(function(n){n.method="textDocument/inlineCompletion",n.messageDirection=lg.MessageDirection.clientToServer,n.type=new lg.ProtocolRequestType(n.method)})(dg||(vs.InlineCompletionRequest=dg={}))});var Rm=k(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.WorkspaceSymbolRequest=b.CodeActionResolveRequest=b.CodeActionRequest=b.DocumentSymbolRequest=b.DocumentHighlightRequest=b.ReferencesRequest=b.DefinitionRequest=b.SignatureHelpRequest=b.SignatureHelpTriggerKind=b.HoverRequest=b.CompletionResolveRequest=b.CompletionRequest=b.CompletionTriggerKind=b.PublishDiagnosticsNotification=b.WatchKind=b.RelativePattern=b.FileChangeType=b.DidChangeWatchedFilesNotification=b.WillSaveTextDocumentWaitUntilRequest=b.WillSaveTextDocumentNotification=b.TextDocumentSaveReason=b.DidSaveTextDocumentNotification=b.DidCloseTextDocumentNotification=b.DidChangeTextDocumentNotification=b.TextDocumentContentChangeEvent=b.DidOpenTextDocumentNotification=b.TextDocumentSyncKind=b.TelemetryEventNotification=b.LogMessageNotification=b.ShowMessageRequest=b.ShowMessageNotification=b.MessageType=b.DidChangeConfigurationNotification=b.ExitNotification=b.ShutdownRequest=b.InitializedNotification=b.InitializeErrorCodes=b.InitializeRequest=b.WorkDoneProgressOptions=b.TextDocumentRegistrationOptions=b.StaticRegistrationOptions=b.PositionEncodingKind=b.FailureHandlingKind=b.ResourceOperationKind=b.UnregistrationRequest=b.RegistrationRequest=b.DocumentSelector=b.NotebookCellTextDocumentFilter=b.NotebookDocumentFilter=b.TextDocumentFilter=void 0;b.MonikerRequest=b.MonikerKind=b.UniquenessLevel=b.WillDeleteFilesRequest=b.DidDeleteFilesNotification=b.WillRenameFilesRequest=b.DidRenameFilesNotification=b.WillCreateFilesRequest=b.DidCreateFilesNotification=b.FileOperationPatternKind=b.LinkedEditingRangeRequest=b.ShowDocumentRequest=b.SemanticTokensRegistrationType=b.SemanticTokensRefreshRequest=b.SemanticTokensRangeRequest=b.SemanticTokensDeltaRequest=b.SemanticTokensRequest=b.TokenFormat=b.CallHierarchyPrepareRequest=b.CallHierarchyOutgoingCallsRequest=b.CallHierarchyIncomingCallsRequest=b.WorkDoneProgressCancelNotification=b.WorkDoneProgressCreateRequest=b.WorkDoneProgress=b.SelectionRangeRequest=b.DeclarationRequest=b.FoldingRangeRefreshRequest=b.FoldingRangeRequest=b.ColorPresentationRequest=b.DocumentColorRequest=b.ConfigurationRequest=b.DidChangeWorkspaceFoldersNotification=b.WorkspaceFoldersRequest=b.TypeDefinitionRequest=b.ImplementationRequest=b.ApplyWorkspaceEditRequest=b.ExecuteCommandRequest=b.PrepareRenameRequest=b.RenameRequest=b.PrepareSupportDefaultBehavior=b.DocumentOnTypeFormattingRequest=b.DocumentRangesFormattingRequest=b.DocumentRangeFormattingRequest=b.DocumentFormattingRequest=b.DocumentLinkResolveRequest=b.DocumentLinkRequest=b.CodeLensRefreshRequest=b.CodeLensResolveRequest=b.CodeLensRequest=b.WorkspaceSymbolResolveRequest=void 0;b.InlineCompletionRequest=b.DidCloseNotebookDocumentNotification=b.DidSaveNotebookDocumentNotification=b.DidChangeNotebookDocumentNotification=b.NotebookCellArrayChange=b.DidOpenNotebookDocumentNotification=b.NotebookDocumentSyncRegistrationType=b.NotebookDocument=b.NotebookCell=b.ExecutionSummary=b.NotebookCellKind=b.DiagnosticRefreshRequest=b.WorkspaceDiagnosticRequest=b.DocumentDiagnosticRequest=b.DocumentDiagnosticReportKind=b.DiagnosticServerCancellationData=b.InlayHintRefreshRequest=b.InlayHintResolveRequest=b.InlayHintRequest=b.InlineValueRefreshRequest=b.InlineValueRequest=b.TypeHierarchySupertypesRequest=b.TypeHierarchySubtypesRequest=b.TypeHierarchyPrepareRequest=void 0;var $=$e(),hg=ns(),lt=rs(),Qw=Mh();Object.defineProperty(b,"ImplementationRequest",{enumerable:!0,get:function(){return Qw.ImplementationRequest}});var Yw=Hh();Object.defineProperty(b,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Yw.TypeDefinitionRequest}});var wm=zh();Object.defineProperty(b,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return wm.WorkspaceFoldersRequest}});Object.defineProperty(b,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return wm.DidChangeWorkspaceFoldersNotification}});var Zw=Bh();Object.defineProperty(b,"ConfigurationRequest",{enumerable:!0,get:function(){return Zw.ConfigurationRequest}});var Dm=Jh();Object.defineProperty(b,"DocumentColorRequest",{enumerable:!0,get:function(){return Dm.DocumentColorRequest}});Object.defineProperty(b,"ColorPresentationRequest",{enumerable:!0,get:function(){return Dm.ColorPresentationRequest}});var _m=Zh();Object.defineProperty(b,"FoldingRangeRequest",{enumerable:!0,get:function(){return _m.FoldingRangeRequest}});Object.defineProperty(b,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return _m.FoldingRangeRefreshRequest}});var eD=np();Object.defineProperty(b,"DeclarationRequest",{enumerable:!0,get:function(){return eD.DeclarationRequest}});var tD=op();Object.defineProperty(b,"SelectionRangeRequest",{enumerable:!0,get:function(){return tD.SelectionRangeRequest}});var fu=up();Object.defineProperty(b,"WorkDoneProgress",{enumerable:!0,get:function(){return fu.WorkDoneProgress}});Object.defineProperty(b,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return fu.WorkDoneProgressCreateRequest}});Object.defineProperty(b,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return fu.WorkDoneProgressCancelNotification}});var hu=hp();Object.defineProperty(b,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return hu.CallHierarchyIncomingCallsRequest}});Object.defineProperty(b,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return hu.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(b,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return hu.CallHierarchyPrepareRequest}});var vi=bp();Object.defineProperty(b,"TokenFormat",{enumerable:!0,get:function(){return vi.TokenFormat}});Object.defineProperty(b,"SemanticTokensRequest",{enumerable:!0,get:function(){return vi.SemanticTokensRequest}});Object.defineProperty(b,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return vi.SemanticTokensDeltaRequest}});Object.defineProperty(b,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return vi.SemanticTokensRangeRequest}});Object.defineProperty(b,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return vi.SemanticTokensRefreshRequest}});Object.defineProperty(b,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return vi.SemanticTokensRegistrationType}});var nD=Dp();Object.defineProperty(b,"ShowDocumentRequest",{enumerable:!0,get:function(){return nD.ShowDocumentRequest}});var rD=Rp();Object.defineProperty(b,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return rD.LinkedEditingRangeRequest}});var Nr=Fp();Object.defineProperty(b,"FileOperationPatternKind",{enumerable:!0,get:function(){return Nr.FileOperationPatternKind}});Object.defineProperty(b,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Nr.DidCreateFilesNotification}});Object.defineProperty(b,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Nr.WillCreateFilesRequest}});Object.defineProperty(b,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Nr.DidRenameFilesNotification}});Object.defineProperty(b,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Nr.WillRenameFilesRequest}});Object.defineProperty(b,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Nr.DidDeleteFilesNotification}});Object.defineProperty(b,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Nr.WillDeleteFilesRequest}});var pu=Mp();Object.defineProperty(b,"UniquenessLevel",{enumerable:!0,get:function(){return pu.UniquenessLevel}});Object.defineProperty(b,"MonikerKind",{enumerable:!0,get:function(){return pu.MonikerKind}});Object.defineProperty(b,"MonikerRequest",{enumerable:!0,get:function(){return pu.MonikerRequest}});var gu=Up();Object.defineProperty(b,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return gu.TypeHierarchyPrepareRequest}});Object.defineProperty(b,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return gu.TypeHierarchySubtypesRequest}});Object.defineProperty(b,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return gu.TypeHierarchySupertypesRequest}});var Sm=Kp();Object.defineProperty(b,"InlineValueRequest",{enumerable:!0,get:function(){return Sm.InlineValueRequest}});Object.defineProperty(b,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return Sm.InlineValueRefreshRequest}});var mu=Xp();Object.defineProperty(b,"InlayHintRequest",{enumerable:!0,get:function(){return mu.InlayHintRequest}});Object.defineProperty(b,"InlayHintResolveRequest",{enumerable:!0,get:function(){return mu.InlayHintResolveRequest}});Object.defineProperty(b,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return mu.InlayHintRefreshRequest}});var Ji=ng();Object.defineProperty(b,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Ji.DiagnosticServerCancellationData}});Object.defineProperty(b,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Ji.DocumentDiagnosticReportKind}});Object.defineProperty(b,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Ji.DocumentDiagnosticRequest}});Object.defineProperty(b,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Ji.WorkspaceDiagnosticRequest}});Object.defineProperty(b,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Ji.DiagnosticRefreshRequest}});var Mn=ug();Object.defineProperty(b,"NotebookCellKind",{enumerable:!0,get:function(){return Mn.NotebookCellKind}});Object.defineProperty(b,"ExecutionSummary",{enumerable:!0,get:function(){return Mn.ExecutionSummary}});Object.defineProperty(b,"NotebookCell",{enumerable:!0,get:function(){return Mn.NotebookCell}});Object.defineProperty(b,"NotebookDocument",{enumerable:!0,get:function(){return Mn.NotebookDocument}});Object.defineProperty(b,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Mn.NotebookDocumentSyncRegistrationType}});Object.defineProperty(b,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Mn.DidOpenNotebookDocumentNotification}});Object.defineProperty(b,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Mn.NotebookCellArrayChange}});Object.defineProperty(b,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Mn.DidChangeNotebookDocumentNotification}});Object.defineProperty(b,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Mn.DidSaveNotebookDocumentNotification}});Object.defineProperty(b,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Mn.DidCloseNotebookDocumentNotification}});var iD=fg();Object.defineProperty(b,"InlineCompletionRequest",{enumerable:!0,get:function(){return iD.InlineCompletionRequest}});var cu;(function(n){function e(t){let r=t;return lt.string(r)||lt.string(r.language)||lt.string(r.scheme)||lt.string(r.pattern)}n.is=e})(cu||(b.TextDocumentFilter=cu={}));var uu;(function(n){function e(t){let r=t;return lt.objectLiteral(r)&&(lt.string(r.notebookType)||lt.string(r.scheme)||lt.string(r.pattern))}n.is=e})(uu||(b.NotebookDocumentFilter=uu={}));var lu;(function(n){function e(t){let r=t;return lt.objectLiteral(r)&&(lt.string(r.notebook)||uu.is(r.notebook))&&(r.language===void 0||lt.string(r.language))}n.is=e})(lu||(b.NotebookCellTextDocumentFilter=lu={}));var du;(function(n){function e(t){if(!Array.isArray(t))return!1;for(let r of t)if(!lt.string(r)&&!cu.is(r)&&!lu.is(r))return!1;return!0}n.is=e})(du||(b.DocumentSelector=du={}));var pg;(function(n){n.method="client/registerCapability",n.messageDirection=$.MessageDirection.serverToClient,n.type=new $.ProtocolRequestType(n.method)})(pg||(b.RegistrationRequest=pg={}));var gg;(function(n){n.method="client/unregisterCapability",n.messageDirection=$.MessageDirection.serverToClient,n.type=new $.ProtocolRequestType(n.method)})(gg||(b.UnregistrationRequest=gg={}));var mg;(function(n){n.Create="create",n.Rename="rename",n.Delete="delete"})(mg||(b.ResourceOperationKind=mg={}));var vg;(function(n){n.Abort="abort",n.Transactional="transactional",n.TextOnlyTransactional="textOnlyTransactional",n.Undo="undo"})(vg||(b.FailureHandlingKind=vg={}));var yg;(function(n){n.UTF8="utf-8",n.UTF16="utf-16",n.UTF32="utf-32"})(yg||(b.PositionEncodingKind=yg={}));var bg;(function(n){function e(t){let r=t;return r&&lt.string(r.id)&&r.id.length>0}n.hasId=e})(bg||(b.StaticRegistrationOptions=bg={}));var Cg;(function(n){function e(t){let r=t;return r&&(r.documentSelector===null||du.is(r.documentSelector))}n.is=e})(Cg||(b.TextDocumentRegistrationOptions=Cg={}));var wg;(function(n){function e(r){let i=r;return lt.objectLiteral(i)&&(i.workDoneProgress===void 0||lt.boolean(i.workDoneProgress))}n.is=e;function t(r){let i=r;return i&&lt.boolean(i.workDoneProgress)}n.hasWorkDoneProgress=t})(wg||(b.WorkDoneProgressOptions=wg={}));var Dg;(function(n){n.method="initialize",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(Dg||(b.InitializeRequest=Dg={}));var _g;(function(n){n.unknownProtocolVersion=1})(_g||(b.InitializeErrorCodes=_g={}));var Sg;(function(n){n.method="initialized",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolNotificationType(n.method)})(Sg||(b.InitializedNotification=Sg={}));var Rg;(function(n){n.method="shutdown",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType0(n.method)})(Rg||(b.ShutdownRequest=Rg={}));var Tg;(function(n){n.method="exit",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolNotificationType0(n.method)})(Tg||(b.ExitNotification=Tg={}));var Pg;(function(n){n.method="workspace/didChangeConfiguration",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolNotificationType(n.method)})(Pg||(b.DidChangeConfigurationNotification=Pg={}));var qg;(function(n){n.Error=1,n.Warning=2,n.Info=3,n.Log=4,n.Debug=5})(qg||(b.MessageType=qg={}));var kg;(function(n){n.method="window/showMessage",n.messageDirection=$.MessageDirection.serverToClient,n.type=new $.ProtocolNotificationType(n.method)})(kg||(b.ShowMessageNotification=kg={}));var Eg;(function(n){n.method="window/showMessageRequest",n.messageDirection=$.MessageDirection.serverToClient,n.type=new $.ProtocolRequestType(n.method)})(Eg||(b.ShowMessageRequest=Eg={}));var xg;(function(n){n.method="window/logMessage",n.messageDirection=$.MessageDirection.serverToClient,n.type=new $.ProtocolNotificationType(n.method)})(xg||(b.LogMessageNotification=xg={}));var Ig;(function(n){n.method="telemetry/event",n.messageDirection=$.MessageDirection.serverToClient,n.type=new $.ProtocolNotificationType(n.method)})(Ig||(b.TelemetryEventNotification=Ig={}));var Fg;(function(n){n.None=0,n.Full=1,n.Incremental=2})(Fg||(b.TextDocumentSyncKind=Fg={}));var Og;(function(n){n.method="textDocument/didOpen",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolNotificationType(n.method)})(Og||(b.DidOpenTextDocumentNotification=Og={}));var Ng;(function(n){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}n.isIncremental=e;function t(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}n.isFull=t})(Ng||(b.TextDocumentContentChangeEvent=Ng={}));var Lg;(function(n){n.method="textDocument/didChange",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolNotificationType(n.method)})(Lg||(b.DidChangeTextDocumentNotification=Lg={}));var Ag;(function(n){n.method="textDocument/didClose",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolNotificationType(n.method)})(Ag||(b.DidCloseTextDocumentNotification=Ag={}));var Mg;(function(n){n.method="textDocument/didSave",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolNotificationType(n.method)})(Mg||(b.DidSaveTextDocumentNotification=Mg={}));var jg;(function(n){n.Manual=1,n.AfterDelay=2,n.FocusOut=3})(jg||(b.TextDocumentSaveReason=jg={}));var $g;(function(n){n.method="textDocument/willSave",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolNotificationType(n.method)})($g||(b.WillSaveTextDocumentNotification=$g={}));var Hg;(function(n){n.method="textDocument/willSaveWaitUntil",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(Hg||(b.WillSaveTextDocumentWaitUntilRequest=Hg={}));var Ug;(function(n){n.method="workspace/didChangeWatchedFiles",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolNotificationType(n.method)})(Ug||(b.DidChangeWatchedFilesNotification=Ug={}));var Wg;(function(n){n.Created=1,n.Changed=2,n.Deleted=3})(Wg||(b.FileChangeType=Wg={}));var zg;(function(n){function e(t){let r=t;return lt.objectLiteral(r)&&(hg.URI.is(r.baseUri)||hg.WorkspaceFolder.is(r.baseUri))&&lt.string(r.pattern)}n.is=e})(zg||(b.RelativePattern=zg={}));var Kg;(function(n){n.Create=1,n.Change=2,n.Delete=4})(Kg||(b.WatchKind=Kg={}));var Vg;(function(n){n.method="textDocument/publishDiagnostics",n.messageDirection=$.MessageDirection.serverToClient,n.type=new $.ProtocolNotificationType(n.method)})(Vg||(b.PublishDiagnosticsNotification=Vg={}));var Bg;(function(n){n.Invoked=1,n.TriggerCharacter=2,n.TriggerForIncompleteCompletions=3})(Bg||(b.CompletionTriggerKind=Bg={}));var Gg;(function(n){n.method="textDocument/completion",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(Gg||(b.CompletionRequest=Gg={}));var Xg;(function(n){n.method="completionItem/resolve",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(Xg||(b.CompletionResolveRequest=Xg={}));var Jg;(function(n){n.method="textDocument/hover",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(Jg||(b.HoverRequest=Jg={}));var Qg;(function(n){n.Invoked=1,n.TriggerCharacter=2,n.ContentChange=3})(Qg||(b.SignatureHelpTriggerKind=Qg={}));var Yg;(function(n){n.method="textDocument/signatureHelp",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(Yg||(b.SignatureHelpRequest=Yg={}));var Zg;(function(n){n.method="textDocument/definition",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(Zg||(b.DefinitionRequest=Zg={}));var em;(function(n){n.method="textDocument/references",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(em||(b.ReferencesRequest=em={}));var tm;(function(n){n.method="textDocument/documentHighlight",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(tm||(b.DocumentHighlightRequest=tm={}));var nm;(function(n){n.method="textDocument/documentSymbol",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(nm||(b.DocumentSymbolRequest=nm={}));var rm;(function(n){n.method="textDocument/codeAction",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(rm||(b.CodeActionRequest=rm={}));var im;(function(n){n.method="codeAction/resolve",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(im||(b.CodeActionResolveRequest=im={}));var om;(function(n){n.method="workspace/symbol",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(om||(b.WorkspaceSymbolRequest=om={}));var sm;(function(n){n.method="workspaceSymbol/resolve",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(sm||(b.WorkspaceSymbolResolveRequest=sm={}));var am;(function(n){n.method="textDocument/codeLens",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(am||(b.CodeLensRequest=am={}));var cm;(function(n){n.method="codeLens/resolve",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(cm||(b.CodeLensResolveRequest=cm={}));var um;(function(n){n.method="workspace/codeLens/refresh",n.messageDirection=$.MessageDirection.serverToClient,n.type=new $.ProtocolRequestType0(n.method)})(um||(b.CodeLensRefreshRequest=um={}));var lm;(function(n){n.method="textDocument/documentLink",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(lm||(b.DocumentLinkRequest=lm={}));var dm;(function(n){n.method="documentLink/resolve",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(dm||(b.DocumentLinkResolveRequest=dm={}));var fm;(function(n){n.method="textDocument/formatting",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(fm||(b.DocumentFormattingRequest=fm={}));var hm;(function(n){n.method="textDocument/rangeFormatting",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(hm||(b.DocumentRangeFormattingRequest=hm={}));var pm;(function(n){n.method="textDocument/rangesFormatting",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(pm||(b.DocumentRangesFormattingRequest=pm={}));var gm;(function(n){n.method="textDocument/onTypeFormatting",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(gm||(b.DocumentOnTypeFormattingRequest=gm={}));var mm;(function(n){n.Identifier=1})(mm||(b.PrepareSupportDefaultBehavior=mm={}));var vm;(function(n){n.method="textDocument/rename",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(vm||(b.RenameRequest=vm={}));var ym;(function(n){n.method="textDocument/prepareRename",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(ym||(b.PrepareRenameRequest=ym={}));var bm;(function(n){n.method="workspace/executeCommand",n.messageDirection=$.MessageDirection.clientToServer,n.type=new $.ProtocolRequestType(n.method)})(bm||(b.ExecuteCommandRequest=bm={}));var Cm;(function(n){n.method="workspace/applyEdit",n.messageDirection=$.MessageDirection.serverToClient,n.type=new $.ProtocolRequestType("workspace/applyEdit")})(Cm||(b.ApplyWorkspaceEditRequest=Cm={}))});var Pm=k(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.createProtocolConnection=void 0;var Tm=Or();function oD(n,e,t,r){return Tm.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Tm.createMessageConnection)(n,e,t,r)}ys.createProtocolConnection=oD});var km=k(Mt=>{"use strict";var sD=Mt&&Mt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),bs=Mt&&Mt.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&sD(e,n,t)};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.LSPErrorCodes=Mt.createProtocolConnection=void 0;bs(Or(),Mt);bs(ns(),Mt);bs($e(),Mt);bs(Rm(),Mt);var aD=Pm();Object.defineProperty(Mt,"createProtocolConnection",{enumerable:!0,get:function(){return aD.createProtocolConnection}});var qm;(function(n){n.lspReservedErrorRangeStart=-32899,n.RequestFailed=-32803,n.ServerCancelled=-32802,n.ContentModified=-32801,n.RequestCancelled=-32800,n.lspReservedErrorRangeEnd=-32800})(qm||(Mt.LSPErrorCodes=qm={}))});var ee=k(jn=>{"use strict";var cD=jn&&jn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Em=jn&&jn.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&cD(e,n,t)};Object.defineProperty(jn,"__esModule",{value:!0});jn.createProtocolConnection=void 0;var uD=eu();Em(eu(),jn);Em(km(),jn);function lD(n,e,t,r){return(0,uD.createMessageConnection)(n,e,t,r)}jn.createProtocolConnection=lD});var Jn=k(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.DocumentDrop_DataTransferItemFileDataRequest=qe.DocumentDrop_DataTransferItemAsStringRequest=qe.DocumentDropRequest=qe.GetVirtualFileRequest=qe.GetVirtualFilesRequest=qe.ReloadProjectNotification=qe.WriteVirtualFilesNotification=qe.LoadedTSFilesMetaRequest=qe.AutoInsertRequest=qe.GetMatchTsConfigRequest=qe.FindFileReferenceRequest=qe.FsStatRequest=qe.FsReadDirectoryRequest=qe.FsReadFileRequest=void 0;var jt=ee(),xm;(function(n){n.type=new jt.RequestType("volar/server/fs/readFile")})(xm||(qe.FsReadFileRequest=xm={}));var Im;(function(n){n.type=new jt.RequestType("volar/server/fs/readDirectory")})(Im||(qe.FsReadDirectoryRequest=Im={}));var Fm;(function(n){n.type=new jt.RequestType("volar/server/fs/stat")})(Fm||(qe.FsStatRequest=Fm={}));var Om;(function(n){n.type=new jt.RequestType("volar/client/findFileReference")})(Om||(qe.FindFileReferenceRequest=Om={}));var Nm;(function(n){n.type=new jt.RequestType("volar/client/tsconfig")})(Nm||(qe.GetMatchTsConfigRequest=Nm={}));var Lm;(function(n){n.type=new jt.RequestType("volar/client/autoInsert")})(Lm||(qe.AutoInsertRequest=Lm={}));var Am;(function(n){n.type=new jt.RequestType0("volar/client/loadedTsFiles")})(Am||(qe.LoadedTSFilesMetaRequest=Am={}));var Mm;(function(n){n.type=new jt.NotificationType("volar/client/writeVirtualFiles")})(Mm||(qe.WriteVirtualFilesNotification=Mm={}));var jm;(function(n){n.type=new jt.NotificationType("volar/client/reloadProject")})(jm||(qe.ReloadProjectNotification=jm={}));var $m;(function(n){n.type=new jt.RequestType("volar/client/virtualFiles")})($m||(qe.GetVirtualFilesRequest=$m={}));var Hm;(function(n){n.type=new jt.RequestType("volar/client/virtualFile")})(Hm||(qe.GetVirtualFileRequest=Hm={}));var Um;(function(n){n.type=new jt.RequestType("volar/client/documentDrop")})(Um||(qe.DocumentDropRequest=Um={}));var Wm;(function(n){n.type=new jt.RequestType("volar/client/documentDrop/asString")})(Wm||(qe.DocumentDrop_DataTransferItemAsStringRequest=Wm={}));var zm;(function(n){n.type=new jt.RequestType("volar/client/documentDrop/fileData")})(zm||(qe.DocumentDrop_DataTransferItemFileDataRequest=zm={}))});var Km=k(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.activate=void 0;var $t=require("vscode"),dD=Jn();function fD(n,e){let t=!1,r;s();let i=$t.workspace.onDidChangeTextDocument(a,null),o=$t.window.onDidChangeActiveTextEditor(s,null);return $t.Disposable.from(i,o);function s(){t=!1;let l=$t.window.activeTextEditor;if(!l)return;let f=l.document;$t.languages.match(n,f)&&(t=!0)}function a({document:l,contentChanges:f,reason:g}){var y;if(!t||f.length===0||g===$t.TextDocumentChangeReason.Undo||g===$t.TextDocumentChangeReason.Redo)return;let m=(y=$t.window.activeTextEditor)==null?void 0:y.document;if(l!==m)return;let w=f[f.length-1];c(l,w,async(C,P,x,L)=>{let O={...e.code2ProtocolConverter.asTextDocumentPositionParams(C,P),lastChange:{text:x.text,range:e.code2ProtocolConverter.asRange(x.range)}};if(L())return;let M=await e.sendRequest(dD.AutoInsertRequest.type,O);if(M!=null)return typeof M=="string"?M:e.protocol2CodeConverter.asTextEdit(M)})}function c(l,f,g){r&&(clearTimeout(r),r=void 0);let m=l.version;r=setTimeout(()=>{let w=f.range.start,y=new $t.Position(w.line,w.character+f.text.length);g(l,y,f,()=>{var C;return((C=$t.window.activeTextEditor)==null?void 0:C.document.version)!==m}).then(C=>{if(C&&t){let P=$t.window.activeTextEditor;if(P){let x=P.document;if(l===x&&x.version===m)if(typeof C=="string"){let L=P.selections;L.length&&L.some(O=>O.active.isEqual(y))?P.insertSnippet(new $t.SnippetString(C),L.map(O=>O.active)):P.insertSnippet(new $t.SnippetString(C),y)}else P.insertSnippet(new $t.SnippetString(C.newText),C.range)}}}),r=void 0},100)}}Cs.activate=fD});var Vm=k(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.activate=void 0;var ws=require("vscode"),vu=Jn();function hD(n,e){let t;return ws.Disposable.from(e.onRequest(vu.DocumentDrop_DataTransferItemAsStringRequest.type,async({mimeType:r})=>{let i=t.get(r);return await(i==null?void 0:i.asString())??""}),e.onRequest(vu.DocumentDrop_DataTransferItemFileDataRequest.type,async({mimeType:r})=>{var o;let i=t.get(r);return await((o=i==null?void 0:i.asFile())==null?void 0:o.data())??new Uint8Array}),ws.languages.registerDocumentDropEditProvider(n,{async provideDocumentDropEdits(r,i,o){t=o;let s=await e.sendRequest(vu.DocumentDropRequest.type,{textDocument:e.code2ProtocolConverter.asTextDocumentIdentifier(r),position:e.code2ProtocolConverter.asPosition(i),dataTransfer:[...o].map(([a,c])=>{let l=c.asFile();return{mimeType:a,value:c.value,file:l?{name:l.name,uri:l.uri?e.code2ProtocolConverter.asUri(l.uri):void 0}:void 0}})});if(s){let a=new ws.DocumentDropEdit(s.insertTextFormat===2?new ws.SnippetString(s.insertText):s.insertText);return s.additionalEdit&&(a.additionalEdit=await e.protocol2CodeConverter.asWorkspaceEdit(s.additionalEdit)),a}}}))}Ds.activate=hD});var Bm=k(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.activate=void 0;var yu=require("vscode"),pD=Jn();function gD(n,e){return yu.commands.registerCommand(n,()=>{yu.window.activeTextEditor&&e.sendNotification(pD.WriteVirtualFilesNotification.type,e.code2ProtocolConverter.asTextDocumentIdentifier(yu.window.activeTextEditor.document))})}_s.activate=gD});var Du=k(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});var bu;function Cu(){if(bu===void 0)throw new Error("No runtime abstraction layer installed");return bu}(function(n){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");bu=t}n.install=e})(Cu||(Cu={}));wu.default=Cu});var Su=k(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.config=He.loadMessageBundle=He.localize=He.format=He.setPseudo=He.isPseudo=He.isDefined=He.BundleFormat=He.MessageFormat=void 0;var Xm=Du(),mD;(function(n){n.file="file",n.bundle="bundle",n.both="both"})(mD=He.MessageFormat||(He.MessageFormat={}));var vD;(function(n){n.standalone="standalone",n.languagePack="languagePack"})(vD=He.BundleFormat||(He.BundleFormat={}));var Gm;(function(n){function e(t){var r=t;return r&&_u(r.key)&&_u(r.comment)}n.is=e})(Gm||(Gm={}));function _u(n){return typeof n<"u"}He.isDefined=_u;He.isPseudo=!1;function yD(n){He.isPseudo=n}He.setPseudo=yD;function Jm(n,e){var t;return He.isPseudo&&(n="\uFF3B"+n.replace(/[aouei]/g,"$&$&")+"\uFF3D"),e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,function(r,i){var o=i[0],s=e[o],a=r;return typeof s=="string"?a=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(a=String(s)),a}),t}He.format=Jm;function bD(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return Jm(e,t)}He.localize=bD;function CD(n){return(0,Xm.default)().loadMessageBundle(n)}He.loadMessageBundle=CD;function wD(n){return(0,Xm.default)().config(n)}He.config=wD});var tv=k($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.config=$n.loadMessageBundle=$n.BundleFormat=$n.MessageFormat=void 0;var wn=require("path"),sn=require("fs"),DD=Du(),Ht=Su(),Ym=Su();Object.defineProperty($n,"MessageFormat",{enumerable:!0,get:function(){return Ym.MessageFormat}});Object.defineProperty($n,"BundleFormat",{enumerable:!0,get:function(){return Ym.BundleFormat}});var Zm=Object.prototype.toString;function _D(n){return Zm.call(n)==="[object Number]"}function Qn(n){return Zm.call(n)==="[object String]"}function SD(n){return n===!0||n===!1}function yi(n){return JSON.parse(sn.readFileSync(n,"utf8"))}var Ss,fe;function RD(){if(fe={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:Ht.MessageFormat.bundle},Qn(process.env.VSCODE_NLS_CONFIG))try{var n=JSON.parse(process.env.VSCODE_NLS_CONFIG),e=void 0;if(n.availableLanguages){var t=n.availableLanguages["*"];Qn(t)&&(e=t)}if(Qn(n.locale)&&(fe.locale=n.locale.toLowerCase()),e===void 0?fe.language=fe.locale:e!=="en"&&(fe.language=e),SD(n._languagePackSupport)&&(fe.languagePackSupport=n._languagePackSupport),Qn(n._cacheRoot)&&(fe.cacheRoot=n._cacheRoot),Qn(n._languagePackId)&&(fe.languagePackId=n._languagePackId),Qn(n._translationsConfigFile)){fe.translationsConfigFile=n._translationsConfigFile;try{fe.translationsConfig=yi(fe.translationsConfigFile)}catch{if(n._corruptedFile){var r=wn.dirname(n._corruptedFile);sn.exists(r,function(o){o&&sn.writeFile(n._corruptedFile,"corrupted","utf8",function(s){console.error(s)})})}}}}catch{}(0,Ht.setPseudo)(fe.locale==="pseudo"),Ss=Object.create(null)}RD();function TD(){return fe.languagePackSupport===!0&&fe.cacheRoot!==void 0&&fe.languagePackId!==void 0&&fe.translationsConfigFile!==void 0&&fe.translationsConfig!==void 0}function Ru(n){return function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(_D(e)){if(e>=n.length){console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack));return}return(0,Ht.format)(n[e],r)}else{if(Qn(t))return console.warn("Message ".concat(t," didn't get externalized correctly.")),(0,Ht.format)(t,r);console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}}function PD(n){var e;if(fe.cacheLanguageResolution&&e)e=e;else{if(Ht.isPseudo||!fe.language)e=".nls.json";else for(var t=fe.language;t;){var r=".nls."+t+".json";if(sn.existsSync(n+r)){e=r;break}else{var i=t.lastIndexOf("-");i>0?t=t.substring(0,i):(e=".nls.json",t=null)}}fe.cacheLanguageResolution&&(e=e)}return n+e}function qD(n){for(var e=fe.language;e;){var t=wn.join(n,"nls.bundle.".concat(e,".json"));if(sn.existsSync(t))return t;var r=e.lastIndexOf("-");r>0?e=e.substring(0,r):e=void 0}if(e===void 0){var t=wn.join(n,"nls.bundle.json");if(sn.existsSync(t))return t}}function kD(n){var e=yi(wn.join(n,"nls.metadata.json")),t=Object.create(null);for(var r in e){var i=e[r];t[r]=i.messages}return t}function ED(n,e){var t=fe.translationsConfig[n.id];if(t){var r=yi(t).contents,i=yi(wn.join(e,"nls.metadata.json")),o=Object.create(null);for(var s in i){var a=i[s],c=r["".concat(n.outDir,"/").concat(s)];if(c){for(var l=[],f=0;f<a.keys.length;f++){var g=a.keys[f],m=Qn(g)?g:g.key,w=c[m];w===void 0&&(w=a.messages[f]),l.push(w)}o[s]=l}else o[s]=a.messages}return o}}function xD(n){var e=new Date;sn.utimes(n,e,e,function(){})}function Tu(n,e){return Ss[n]=e,e}function ID(n,e){var t,r=wn.join(fe.cacheRoot,"".concat(n.id,"-").concat(n.hash,".json")),i=!1,o=!1;try{return t=JSON.parse(sn.readFileSync(r,{encoding:"utf8",flag:"r"})),xD(r),t}catch(s){if(s.code==="ENOENT")o=!0;else if(s instanceof SyntaxError)console.log("Syntax error parsing message bundle: ".concat(s.message,".")),sn.unlink(r,function(a){a&&console.error("Deleting corrupted bundle ".concat(r," failed."))}),i=!0;else throw s}if(t=ED(n,e),!t||i)return t;if(o)try{sn.writeFileSync(r,JSON.stringify(t),{encoding:"utf8",flag:"wx"})}catch(s){if(s.code==="EEXIST")return t;throw s}return t}function Qm(n){try{return kD(n)}catch(e){console.log("Generating default bundle from meta data failed.",e);return}}function FD(n,e){var t;if(TD())try{t=ID(n,e)}catch(i){console.log("Load or create bundle failed ",i)}if(!t){if(fe.languagePackSupport)return Qm(e);var r=qD(e);if(r)try{return yi(r)}catch(i){console.log("Loading in the box message bundle failed.",i)}t=Qm(e)}return t}function OD(n){for(var e,t=wn.dirname(n);e=wn.join(t,"nls.metadata.header.json"),!sn.existsSync(e);){var r=wn.dirname(t);if(r===t){e=void 0;break}else t=r}return e}function Pu(n){if(!n)return Ht.localize;var e=wn.extname(n);if(e&&(n=n.substr(0,n.length-e.length)),fe.messageFormat===Ht.MessageFormat.both||fe.messageFormat===Ht.MessageFormat.bundle){var t=OD(n);if(t){var r=wn.dirname(t),i=Ss[r];if(i===void 0)try{var o=JSON.parse(sn.readFileSync(t,"utf8"));try{var s=FD(o,r);i=Tu(r,s?{header:o,nlsBundle:s}:null)}catch(f){console.error("Failed to load nls bundle",f),i=Tu(r,null)}}catch(f){console.error("Failed to read header file",f),i=Tu(r,null)}if(i){var a=n.substr(r.length+1).replace(/\\/g,"/"),c=i.nlsBundle[a];return c===void 0?(console.error("Messages for file ".concat(n," not found. See console for details.")),function(){return"Messages not found."}):Ru(c)}}}if(fe.messageFormat===Ht.MessageFormat.both||fe.messageFormat===Ht.MessageFormat.file)try{var l=yi(PD(n));return Array.isArray(l)?Ru(l):(0,Ht.isDefined)(l.messages)&&(0,Ht.isDefined)(l.keys)?Ru(l.messages):(console.error("String bundle '".concat(n,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(f){f.code!=="ENOENT"&&console.error("Failed to load single file bundle",f)}return console.error("Failed to load message bundle for file ".concat(n)),function(){return"Failed to load message bundle. See console for details."}}$n.loadMessageBundle=Pu;function ev(n){return n&&(Qn(n.locale)&&(fe.locale=n.locale.toLowerCase(),fe.language=fe.locale,Ss=Object.create(null)),n.messageFormat!==void 0&&(fe.messageFormat=n.messageFormat),n.bundleFormat===Ht.BundleFormat.standalone&&fe.languagePackSupport===!0&&(fe.languagePackSupport=!1)),(0,Ht.setPseudo)(fe.locale==="pseudo"),Pu}$n.config=ev;DD.default.install(Object.freeze({loadMessageBundle:Pu,config:ev}))});var nv=k(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.activate=void 0;var Lr=require("vscode"),ND=tv(),LD=Jn(),AD=ND.loadMessageBundle();function MD(n,e){return Lr.commands.registerCommand(n,async t=>{await Lr.window.withProgress({location:Lr.ProgressLocation.Window,title:AD("progress.title","Finding file references")},async r=>{if(!t){let c=Lr.window.activeTextEditor;if(!c)return;t=c.document.uri}let i=await e.sendRequest(LD.FindFileReferenceRequest.type,{textDocument:{uri:t.toString()}});if(!i)return;let o=i.map(c=>e.protocol2CodeConverter.asLocation(c)),s=Lr.workspace.getConfiguration("references"),a=s.inspect("preferredLocation");await s.update("preferredLocation","view");try{await Lr.commands.executeCommand("editor.action.showReferences",t,new Lr.Position(0,0),o)}finally{await s.update("preferredLocation",(a==null?void 0:a.workspaceFolderValue)??(a==null?void 0:a.workspaceValue))}})})}Rs.activate=MD});var rv=k(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.activate=void 0;var qu=require("vscode"),jD=Jn();function $D(n,e){return qu.commands.registerCommand(n,()=>{qu.window.activeTextEditor&&e.sendNotification(jD.ReloadProjectNotification.type,e.code2ProtocolConverter.asTextDocumentIdentifier(qu.window.activeTextEditor.document))})}Ts.activate=$D});var ku=k((Gq,ov)=>{"use strict";function Hn(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function iv(n,e){for(var t="",r=0,i=-1,o=0,s,a=0;a<=n.length;++a){if(a<n.length)s=n.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=a,o=0;continue}}else if(t.length===2||t.length===1){t="",r=0,i=a,o=0;continue}}e&&(t.length>0?t+="/..":t="..",r=2)}else t.length>0?t+="/"+n.slice(i+1,a):t=n.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o!==-1?++o:o=-1}return t}function HD(n,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+n+r:r}var bi={resolve:function(){for(var e="",t=!1,r,i=arguments.length-1;i>=-1&&!t;i--){var o;i>=0?o=arguments[i]:(r===void 0&&(r=process.cwd()),o=r),Hn(o),o.length!==0&&(e=o+"/"+e,t=o.charCodeAt(0)===47)}return e=iv(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Hn(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=iv(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return Hn(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];Hn(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":bi.normalize(e)},relative:function(e,t){if(Hn(e),Hn(t),e===t||(e=bi.resolve(e),t=bi.resolve(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,o=i-r,s=1;s<t.length&&t.charCodeAt(s)===47;++s);for(var a=t.length,c=a-s,l=o<c?o:c,f=-1,g=0;g<=l;++g){if(g===l){if(c>l){if(t.charCodeAt(s+g)===47)return t.slice(s+g+1);if(g===0)return t.slice(s+g)}else o>l&&(e.charCodeAt(r+g)===47?f=g:g===0&&(f=0));break}var m=e.charCodeAt(r+g),w=t.charCodeAt(s+g);if(m!==w)break;m===47&&(f=g)}var y="";for(g=r+f+1;g<=i;++g)(g===i||e.charCodeAt(g)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+t.slice(s+f):(s+=f,t.charCodeAt(s)===47&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(Hn(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,i=-1,o=!0,s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),t===47){if(!o){i=s;break}}else o=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Hn(e);var r=0,i=-1,o=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,c=-1;for(s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(l===47){if(!o){r=s+1;break}}else c===-1&&(o=!1,c=s+1),a>=0&&(l===t.charCodeAt(a)?--a===-1&&(i=s):(a=-1,i=c))}return r===i?i=c:i===-1&&(i=e.length),e.slice(r,i)}else{for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!o){r=s+1;break}}else i===-1&&(o=!1,i=s+1);return i===-1?"":e.slice(r,i)}},extname:function(e){Hn(e);for(var t=-1,r=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(c===47){if(!o){r=a+1;break}continue}i===-1&&(o=!1,i=a+1),c===46?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||i===-1||s===0||s===1&&t===i-1&&t===r+1?"":e.slice(t,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return HD("/",e)},parse:function(e){Hn(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),i=r===47,o;i?(t.root="/",o=1):o=0;for(var s=-1,a=0,c=-1,l=!0,f=e.length-1,g=0;f>=o;--f){if(r=e.charCodeAt(f),r===47){if(!l){a=f+1;break}continue}c===-1&&(l=!1,c=f+1),r===46?s===-1?s=f:g!==1&&(g=1):s!==-1&&(g=-1)}return s===-1||c===-1||g===0||g===1&&s===c-1&&s===a+1?c!==-1&&(a===0&&i?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(a,c)):(a===0&&i?(t.name=e.slice(1,s),t.base=e.slice(1,c)):(t.name=e.slice(a,s),t.base=e.slice(a,c)),t.ext=e.slice(s,c)),a>0?t.dir=e.slice(0,a-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};bi.posix=bi;ov.exports=bi});var sv=k(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.activate=void 0;var an=require("vscode"),UD=Jn(),WD=ku();function zD(n,e,t){let r=[],i=an.window.createStatusBarItem(an.StatusBarAlignment.Right),o;s(),an.window.onDidChangeActiveTextEditor(s,void 0,r),r.push(an.commands.registerCommand(e,async()=>{if(o){let a=await an.workspace.openTextDocument(o);await an.window.showTextDocument(a)}})),r.push(...r);async function s(){var a;if(!an.window.activeTextEditor||!an.languages.match(n,an.window.activeTextEditor.document))i.hide();else{let c=await t.sendRequest(UD.GetMatchTsConfigRequest.type,t.code2ProtocolConverter.asTextDocumentIdentifier(an.window.activeTextEditor.document));c!=null&&c.uri?(o=an.Uri.parse(c.uri),i.text=WD.relative(((a=an.workspace.rootPath)==null?void 0:a.replace(/\\/g,"/"))||"/",o.fsPath.replace(/\\/g,"/")),i.command=e):(i.text="No tsconfig",i.command=void 0),i.show()}}}Ps.activate=zD});var av=k(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.activate=void 0;var Cr=require("vscode"),Eu=Jn();function KD(n){let e=[],t=new TextDecoder,r=new Map,i=new Set,o=!1,s=0;return a(),e.push(n.onDidChangeState(()=>{n.state===2&&a()})),Cr.Disposable.from(...e);function a(){e.push(n.onRequest(Eu.FsStatRequest.type,l)),e.push(n.onRequest(Eu.FsReadFileRequest.type,C=>c(()=>f(C),C))),e.push(n.onRequest(Eu.FsReadDirectoryRequest.type,C=>c(()=>g(C),C)));async function c(C,P){if(i.has(P))return await C();i.add(P),P=Cr.Uri.parse(P).path,s++;let x;try{return x=C(),r.set(x,P),!o&&r.size>=2&&(o=!0,Cr.window.withProgress({location:Cr.ProgressLocation.Window},async L=>{for(L.report({message:`Loading ${s} resources: ${P}`});r.size;)for(let[O,M]of r){L.report({message:`Loading ${s} resources: ${M}`}),await VD(100);break}o=!1})),await x}finally{r.delete(x)}}async function l(C){let P=C.substring(0,C.lastIndexOf("/")),x=C.substring(C.lastIndexOf("/")+1);if(!(await g(P)).some(M=>M[0]===x))return;let O=n.protocol2CodeConverter.asUri(C);return await y(O)}async function f(C){let P=C.substring(0,C.lastIndexOf("/")),x=C.substring(C.lastIndexOf("/")+1),L=await g(P),O=n.protocol2CodeConverter.asUri(C);if(L.some(M=>M[0]===x&&M[1]===Cr.FileType.File))return await m(O)}async function g(C){let P=n.protocol2CodeConverter.asUri(C);return await(await w(P)).filter(([x])=>!x.startsWith("."))}async function m(C){try{return t.decode(await Cr.workspace.fs.readFile(C))}catch{}}async function w(C){try{return await Cr.workspace.fs.readDirectory(C)}catch{return[]}}async function y(C){try{return await Cr.workspace.fs.stat(C)}catch{}}}}qs.activate=KD;function VD(n){return new Promise(e=>setTimeout(e,n))}});var uv=k(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.quickPick=void 0;var cv=require("vscode");function BD(n,e){return new Promise(t=>{let r=cv.window.createQuickPick(),i=[];for(let o of Array.isArray(n)?n:[n]){let s=Object.values(o);if(s.length){i.length&&i.push({label:"",kind:cv.QuickPickItemKind.Separator});for(let a of s)a&&i.push(a)}}r.items=i,r.placeholder=e,r.onDidChangeSelection(o=>{if(o[0])for(let s of Array.isArray(n)?n:[n])for(let a in s){let c=s[a];if(o[0]===c){t(a),r.hide();break}}}),r.onDidHide(()=>{r.dispose(),t(void 0)}),r.show()})}ks.quickPick=BD});var lv=k((Yq,GD)=>{GD.exports={name:"typescript",author:"Microsoft Corp.",homepage:"https://www.typescriptlang.org/",version:"5.3.3",license:"Apache-2.0",description:"TypeScript is a language for application scale JavaScript development",keywords:["TypeScript","Microsoft","compiler","language","javascript"],bugs:{url:"https://github.com/Microsoft/TypeScript/issues"},repository:{type:"git",url:"https://github.com/Microsoft/TypeScript.git"},main:"./lib/typescript.js",typings:"./lib/typescript.d.ts",bin:{tsc:"./bin/tsc",tsserver:"./bin/tsserver"},engines:{node:">=14.17"},files:["bin","lib","!lib/enu","LICENSE.txt","README.md","SECURITY.md","ThirdPartyNoticeText.txt","!**/.gitattributes"],devDependencies:{"@esfx/canceltoken":"^1.0.0","@octokit/rest":"^19.0.13","@types/chai":"^4.3.4","@types/glob":"^8.1.0","@types/microsoft__typescript-etw":"^0.1.1","@types/minimist":"^1.2.2","@types/mocha":"^10.0.1","@types/ms":"^0.7.31","@types/node":"latest","@types/source-map-support":"^0.5.6","@types/which":"^2.0.1","@typescript-eslint/eslint-plugin":"^6.0.0","@typescript-eslint/parser":"^6.0.0","@typescript-eslint/utils":"^6.0.0","azure-devops-node-api":"^12.0.0",c8:"^7.14.0",chai:"^4.3.7",chalk:"^4.1.2",chokidar:"^3.5.3",diff:"^5.1.0",dprint:"^0.42.3",esbuild:"^0.19.0",eslint:"^8.22.0","eslint-formatter-autolinkable-stylish":"^1.2.0","eslint-plugin-local":"^1.0.0","eslint-plugin-no-null":"^1.0.2","eslint-plugin-simple-import-sort":"^10.0.0","fast-xml-parser":"^4.0.11",glob:"^8.1.0",hereby:"^1.6.4","jsonc-parser":"^3.2.0",minimist:"^1.2.8",mocha:"^10.2.0","mocha-fivemat-progress-reporter":"^0.1.0",ms:"^2.1.3","node-fetch":"^3.2.10",playwright:"^1.38.0","source-map-support":"^0.5.21",tslib:"^2.5.0",typescript:"^5.0.2",which:"^2.0.2"},overrides:{"typescript@*":"$typescript"},scripts:{test:"hereby runtests-parallel --light=false","test:eslint-rules":"hereby run-eslint-rules-tests",build:"npm run build:compiler && npm run build:tests","build:compiler":"hereby local","build:tests":"hereby tests","build:tests:notypecheck":"hereby tests --no-typecheck",start:"node lib/tsc",clean:"hereby clean",gulp:"hereby",lint:"hereby lint",format:"dprint fmt","setup-hooks":"node scripts/link-hooks.mjs"},browser:{fs:!1,os:!1,path:!1,crypto:!1,buffer:!1,"@microsoft/typescript-etw":!1,"source-map-support":!1,inspector:!1,perf_hooks:!1},packageManager:"npm@8.19.4",volta:{node:"20.1.0",npm:"8.19.4"}}});var hv=k(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.getTsdk=Ci.activate=void 0;var xs=ku(),at=require("vscode"),XD=uv(),Qi="node_modules/typescript/lib";function JD(n,e,t,r,i){let o=[],s=at.window.createStatusBarItem(at.StatusBarAlignment.Right);return s.command=e,o.push({dispose:()=>s.dispose()}),o.push(at.commands.registerCommand(e,a)),at.workspace.onDidChangeConfiguration(c,void 0,o),at.window.onDidChangeActiveTextEditor(l,void 0,o),l(),at.Disposable.from(...o);async function a(){let g=await Es(t),m=fv(),w=await dv(),y=await(0,XD.quickPick)([{useVSCodeTsdk:{label:(g.isWorkspacePath?"":"\u2022 ")+"Use VS Code's Version",description:w.version,detail:w.isWeb?w.path:void 0},useConfigWorkspaceTsdk:m&&!w.isWeb?{label:(g.isWorkspacePath?"\u2022 ":"")+"Use Workspace Version",description:await Yi(xu(m)??"/")??"Could not load the TypeScript version at this path",detail:m}:void 0,useDefaultWorkspaceTsdk:m!==Qi&&!w.isWeb?{label:(g.isWorkspacePath?"\u2022 ":"")+"Use Workspace Version",description:await Yi(xu(Qi)??"/")??"Could not load the TypeScript version at this path",detail:Qi}:void 0}]);if(y===void 0)return;y==="useDefaultWorkspaceTsdk"&&await at.workspace.getConfiguration("typescript").update("tsdk",Qi);let C=y==="useConfigWorkspaceTsdk"||y==="useDefaultWorkspaceTsdk";C!==Iu(t)&&(t.workspaceState.update("typescript.useWorkspaceTsdk",C),f()),l()}function c(g){g.affectsConfiguration("typescript.tsdk")&&Iu(t)&&f()}async function l(){if(!at.window.activeTextEditor||!at.languages.match(n,at.window.activeTextEditor.document))s.hide();else{let g=(await Es(t)).version;s.text=g??"x.x.x",s.text=i(s.text),s.show()}}async function f(){let g=await Es(t),m={...r.clientOptions.initializationOptions,typescript:g};r.clientOptions.initializationOptions=m,at.commands.executeCommand("volar.action.restartServer")}}Ci.activate=JD;async function Es(n){if(Iu(n)){let t=xu(fv()||Qi);if(t)return{tsdk:t,version:await Yi(t),isWorkspacePath:!0}}let e=await dv();return{tsdk:e.path,version:e.version,isWorkspacePath:!1}}Ci.getTsdk=Es;function xu(n){if(xs.isAbsolute(n))try{if(require.resolve("./typescript.js",{paths:[n]}))return n}catch{}if(at.workspace.workspaceFolders)for(let e of at.workspace.workspaceFolders){let t=xs.join(e.uri.fsPath.replace(/\\/g,"/"),n);try{if(require.resolve("./typescript.js",{paths:[t]}))return t}catch{}}}async function dv(){let n=at.extensions.getExtension("ms-vscode.vscode-typescript-next");if(n){let t=xs.join(n.extensionPath.replace(/\\/g,"/"),"node_modules/typescript/lib");return{path:t,version:await Yi(t),isWeb:!1}}if(at.env.appRoot){let t=xs.join(at.env.appRoot.replace(/\\/g,"/"),"extensions/node_modules/typescript/lib");return{path:t,version:await Yi(t),isWeb:!1}}let e=lv().version;return{path:`/node_modules/typescript@${e}/lib`,version:e,isWeb:!0}}function fv(){var n;return(n=at.workspace.getConfiguration("typescript").get("tsdk"))==null?void 0:n.replace(/\\/g,"/")}function Iu(n){return n.workspaceState.get("typescript.useWorkspaceTsdk",!1)}async function Yi(n){let i=n.toString().split("/").slice(0,-1).join("/")+"/package.json",o=await QD(i);if(o===void 0)return;let s=null;try{s=JSON.parse(o)}catch{return}if(!(!s||!s.version))return s.version}async function QD(n){try{let e=await at.workspace.fs.readFile(at.Uri.file(n));return new TextDecoder("utf8").decode(e)}catch{}}});var cn=k(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.asPromise=Qe.thenable=Qe.typedArray=Qe.stringArray=Qe.array=Qe.func=Qe.error=Qe.number=Qe.string=Qe.boolean=void 0;function YD(n){return n===!0||n===!1}Qe.boolean=YD;function pv(n){return typeof n=="string"||n instanceof String}Qe.string=pv;function ZD(n){return typeof n=="number"||n instanceof Number}Qe.number=ZD;function e_(n){return n instanceof Error}Qe.error=e_;function gv(n){return typeof n=="function"}Qe.func=gv;function mv(n){return Array.isArray(n)}Qe.array=mv;function t_(n){return mv(n)&&n.every(e=>pv(e))}Qe.stringArray=t_;function n_(n,e){return Array.isArray(n)&&n.every(e)}Qe.typedArray=n_;function vv(n){return n&&gv(n.then)}Qe.thenable=vv;function r_(n){return n instanceof Promise?n:vv(n)?new Promise((e,t)=>{n.then(r=>e(r),r=>t(r))}):Promise.resolve(n)}Qe.asPromise=r_});var Is=k(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.forEach=_t.mapAsync=_t.map=_t.clearTestMode=_t.setTestMode=_t.Semaphore=_t.Delayer=void 0;var eo=ee(),Fu=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,eo.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};_t.Delayer=Fu;var Ou=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,r)=>{this._waiting.push({thunk:e,resolve:t,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,eo.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};_t.Semaphore=Ou;var Nu=!1;function i_(){Nu=!0}_t.setTestMode=i_;function o_(){Nu=!1}_t.clearTestMode=o_;var yv=15,Zi=class{constructor(e=yv){this.yieldAfter=Nu===!0?Math.max(e,2):Math.max(e,yv),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function s_(n,e,t,r){if(n.length===0)return[];let i=new Array(n.length),o=new Zi(r==null?void 0:r.yieldAfter);function s(c){o.start();for(let l=c;l<n.length;l++)if(i[l]=e(n[l]),o.shouldYield())return r!=null&&r.yieldCallback&&r.yieldCallback(),l+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,eo.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}_t.map=s_;async function a_(n,e,t,r){if(n.length===0)return[];let i=new Array(n.length),o=new Zi(r==null?void 0:r.yieldAfter);async function s(c){o.start();for(let l=c;l<n.length;l++)if(i[l]=await e(n[l],t),o.shouldYield())return r!=null&&r.yieldCallback&&r.yieldCallback(),l+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,eo.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}_t.mapAsync=a_;async function c_(n,e,t,r){if(n.length===0)return;let i=new Zi(r==null?void 0:r.yieldAfter);function o(a){i.start();for(let c=a;c<n.length;c++)if(e(n[c]),i.shouldYield())return r!=null&&r.yieldCallback&&r.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,eo.RAL)().timer.setImmediate(()=>{a(o(s))})})}_t.forEach=c_});var Mu=k(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});var u_=require("vscode"),Lu=class extends u_.CompletionItem{constructor(e){super(e)}};Au.default=Lu});var Hu=k($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});var l_=require("vscode"),ju=class extends l_.CodeLens{constructor(e){super(e)}};$u.default=ju});var zu=k(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});var d_=require("vscode"),Uu=class extends d_.DocumentLink{constructor(e,t){super(e,t)}};Wu.default=Uu});var Bu=k(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});var f_=require("vscode"),Ku=class extends f_.CodeAction{constructor(e,t){super(e),this.data=t}};Vu.default=Ku});var Ju=k(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.ProtocolDiagnostic=wi.DiagnosticCode=void 0;var h_=require("vscode"),Gu=cn(),bv;(function(n){function e(t){let r=t;return r!=null&&(Gu.number(r.value)||Gu.string(r.value))&&Gu.string(r.target)}n.is=e})(bv||(wi.DiagnosticCode=bv={}));var Xu=class extends h_.Diagnostic{constructor(e,t,r,i){super(e,t,r),this.data=i,this.hasDiagnosticCode=!1}};wi.ProtocolDiagnostic=Xu});var Zu=k(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});var p_=require("vscode"),Qu=class extends p_.CallHierarchyItem{constructor(e,t,r,i,o,s,a){super(e,t,r,i,o,s),a!==void 0&&(this.data=a)}};Yu.default=Qu});var nl=k(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});var g_=require("vscode"),el=class extends g_.TypeHierarchyItem{constructor(e,t,r,i,o,s,a){super(e,t,r,i,o,s),a!==void 0&&(this.data=a)}};tl.default=el});var ol=k(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});var Fs=require("vscode"),rl=class extends Fs.SymbolInformation{constructor(e,t,r,i,o){let s=!(i instanceof Fs.Uri);super(e,t,r,s?i:new Fs.Location(i,new Fs.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};il.default=rl});var cl=k(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});var m_=require("vscode"),sl=class extends m_.InlayHint{constructor(e,t,r){super(e,t,r)}};al.default=sl});var _v=k(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.createConverter=void 0;var st=require("vscode"),ne=ee(),Ar=cn(),Cv=Is(),v_=Mu(),y_=Hu(),b_=zu(),wv=Bu(),Dv=Ju(),C_=Zu(),w_=nl(),D_=ol(),__=cl(),ul;(function(n){function e(t){let r=t;return r&&!!r.inserting&&!!r.replacing}n.is=e})(ul||(ul={}));function S_(n){let t=n||(h=>h.toString());function r(h){return t(h)}function i(h){return{uri:t(h.uri)}}function o(h){return{uri:t(h.uri),languageId:h.languageId,version:h.version,text:h.getText()}}function s(h){return{uri:t(h.uri),version:h.version}}function a(h){return{textDocument:o(h)}}function c(h){let E=h;return!!E.document&&!!E.contentChanges}function l(h){let E=h;return!!E.uri&&!!E.version}function f(h,E,z){if(l(h))return{textDocument:{uri:t(h.uri),version:h.version},contentChanges:[{text:h.getText()}]};if(c(h)){let De=E,T=z;return{textDocument:{uri:t(De),version:T},contentChanges:h.contentChanges.map(_=>{let S=_.range;return{range:{start:{line:S.start.line,character:S.start.character},end:{line:S.end.line,character:S.end.character}},rangeLength:_.rangeLength,text:_.text}})}}else throw Error("Unsupported text document change parameter")}function g(h){return{textDocument:i(h)}}function m(h,E=!1){let z={textDocument:i(h)};return E&&(z.text=h.getText()),z}function w(h){switch(h){case st.TextDocumentSaveReason.Manual:return ne.TextDocumentSaveReason.Manual;case st.TextDocumentSaveReason.AfterDelay:return ne.TextDocumentSaveReason.AfterDelay;case st.TextDocumentSaveReason.FocusOut:return ne.TextDocumentSaveReason.FocusOut}return ne.TextDocumentSaveReason.Manual}function y(h){return{textDocument:i(h.document),reason:w(h.reason)}}function C(h){return{files:h.files.map(E=>({uri:t(E)}))}}function P(h){return{files:h.files.map(E=>({oldUri:t(E.oldUri),newUri:t(E.newUri)}))}}function x(h){return{files:h.files.map(E=>({uri:t(E)}))}}function L(h){return{files:h.files.map(E=>({uri:t(E)}))}}function O(h){return{files:h.files.map(E=>({oldUri:t(E.oldUri),newUri:t(E.newUri)}))}}function M(h){return{files:h.files.map(E=>({uri:t(E)}))}}function X(h,E){return{textDocument:i(h),position:pt(E)}}function le(h){switch(h){case st.CompletionTriggerKind.TriggerCharacter:return ne.CompletionTriggerKind.TriggerCharacter;case st.CompletionTriggerKind.TriggerForIncompleteCompletions:return ne.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return ne.CompletionTriggerKind.Invoked}}function K(h,E,z){return{textDocument:i(h),position:pt(E),context:{triggerKind:le(z.triggerKind),triggerCharacter:z.triggerCharacter}}}function Z(h){switch(h){case st.SignatureHelpTriggerKind.Invoke:return ne.SignatureHelpTriggerKind.Invoked;case st.SignatureHelpTriggerKind.TriggerCharacter:return ne.SignatureHelpTriggerKind.TriggerCharacter;case st.SignatureHelpTriggerKind.ContentChange:return ne.SignatureHelpTriggerKind.ContentChange}}function ae(h){return{label:h.label}}function Ze(h){return h.map(ae)}function Ge(h){return{label:h.label,parameters:Ze(h.parameters)}}function nt(h){return h.map(Ge)}function en(h){return h===void 0?h:{signatures:nt(h.signatures),activeSignature:h.activeSignature,activeParameter:h.activeParameter}}function Tt(h,E,z){return{textDocument:i(h),position:pt(E),context:{isRetrigger:z.isRetrigger,triggerCharacter:z.triggerCharacter,triggerKind:Z(z.triggerKind),activeSignatureHelp:en(z.activeSignatureHelp)}}}function pt(h){return{line:h.line,character:h.character}}function gt(h){return h==null?h:{line:h.line>ne.uinteger.MAX_VALUE?ne.uinteger.MAX_VALUE:h.line,character:h.character>ne.uinteger.MAX_VALUE?ne.uinteger.MAX_VALUE:h.character}}function hn(h,E){return Cv.map(h,gt,E)}function qn(h){return h.map(gt)}function Ne(h){return h==null?h:{start:gt(h.start),end:gt(h.end)}}function It(h){return h.map(Ne)}function Pt(h){return h==null?h:ne.Location.create(r(h.uri),Ne(h.range))}function mt(h){switch(h){case st.DiagnosticSeverity.Error:return ne.DiagnosticSeverity.Error;case st.DiagnosticSeverity.Warning:return ne.DiagnosticSeverity.Warning;case st.DiagnosticSeverity.Information:return ne.DiagnosticSeverity.Information;case st.DiagnosticSeverity.Hint:return ne.DiagnosticSeverity.Hint}}function sr(h){if(!h)return;let E=[];for(let z of h){let De=kn(z);De!==void 0&&E.push(De)}return E.length>0?E:void 0}function kn(h){switch(h){case st.DiagnosticTag.Unnecessary:return ne.DiagnosticTag.Unnecessary;case st.DiagnosticTag.Deprecated:return ne.DiagnosticTag.Deprecated;default:return}}function En(h){return{message:h.message,location:Pt(h.location)}}function zn(h){return h.map(En)}function ar(h){if(h!=null)return Ar.number(h)||Ar.string(h)?h:{value:h.value,target:r(h.target)}}function xn(h){let E=ne.Diagnostic.create(Ne(h.range),h.message),z=h instanceof Dv.ProtocolDiagnostic?h:void 0;z!==void 0&&z.data!==void 0&&(E.data=z.data);let De=ar(h.code);return Dv.DiagnosticCode.is(De)?z!==void 0&&z.hasDiagnosticCode?E.code=De:(E.code=De.value,E.codeDescription={href:De.target}):E.code=De,Ar.number(h.severity)&&(E.severity=mt(h.severity)),Array.isArray(h.tags)&&(E.tags=sr(h.tags)),h.relatedInformation&&(E.relatedInformation=zn(h.relatedInformation)),h.source&&(E.source=h.source),E}function pn(h,E){return h==null?h:Cv.map(h,xn,E)}function gn(h){return h==null?h:h.map(xn)}function In(h,E){switch(h){case"$string":return E;case ne.MarkupKind.PlainText:return{kind:h,value:E};case ne.MarkupKind.Markdown:return{kind:h,value:E.value};default:return`Unsupported Markup content received. Kind is: ${h}`}}function rt(h){switch(h){case st.CompletionItemTag.Deprecated:return ne.CompletionItemTag.Deprecated}}function Kn(h){if(h===void 0)return h;let E=[];for(let z of h){let De=rt(z);De!==void 0&&E.push(De)}return E}function mn(h,E){return E!==void 0?E:h+1}function tn(h,E=!1){let z,De;Ar.string(h.label)?z=h.label:(z=h.label.label,E&&(h.label.detail!==void 0||h.label.description!==void 0)&&(De={detail:h.label.detail,description:h.label.description}));let T={label:z};De!==void 0&&(T.labelDetails=De);let p=h instanceof v_.default?h:void 0;h.detail&&(T.detail=h.detail),h.documentation&&(!p||p.documentationFormat==="$string"?T.documentation=h.documentation:T.documentation=In(p.documentationFormat,h.documentation)),h.filterText&&(T.filterText=h.filterText),cr(T,h),Ar.number(h.kind)&&(T.kind=mn(h.kind,p&&p.originalItemKind)),h.sortText&&(T.sortText=h.sortText),h.additionalTextEdits&&(T.additionalTextEdits=et(h.additionalTextEdits)),h.commitCharacters&&(T.commitCharacters=h.commitCharacters.slice()),h.command&&(T.command=W(h.command)),(h.preselect===!0||h.preselect===!1)&&(T.preselect=h.preselect);let _=Kn(h.tags);if(p){if(p.data!==void 0&&(T.data=p.data),p.deprecated===!0||p.deprecated===!1){if(p.deprecated===!0&&_!==void 0&&_.length>0){let S=_.indexOf(st.CompletionItemTag.Deprecated);S!==-1&&_.splice(S,1)}T.deprecated=p.deprecated}p.insertTextMode!==void 0&&(T.insertTextMode=p.insertTextMode)}return _!==void 0&&_.length>0&&(T.tags=_),T.insertTextMode===void 0&&h.keepWhitespace===!0&&(T.insertTextMode=ne.InsertTextMode.adjustIndentation),T}function cr(h,E){let z=ne.InsertTextFormat.PlainText,De,T;E.textEdit?(De=E.textEdit.newText,T=E.textEdit.range):E.insertText instanceof st.SnippetString?(z=ne.InsertTextFormat.Snippet,De=E.insertText.value):De=E.insertText,E.range&&(T=E.range),h.insertTextFormat=z,E.fromEdit&&De!==void 0&&T!==void 0?h.textEdit=nn(De,T):h.insertText=De}function nn(h,E){return ul.is(E)?ne.InsertReplaceEdit.create(h,Ne(E.inserting),Ne(E.replacing)):{newText:h,range:Ne(E)}}function Fn(h){return{range:Ne(h.range),newText:h.newText}}function et(h){return h==null?h:h.map(Fn)}function bt(h){return h<=st.SymbolKind.TypeParameter?h+1:ne.SymbolKind.Property}function vt(h){return h}function Vt(h){return h.map(vt)}function Ft(h,E,z){return{textDocument:i(h),position:pt(E),context:{includeDeclaration:z.includeDeclaration}}}async function On(h,E){let z=ne.CodeAction.create(h.title);if(h instanceof wv.default&&h.data!==void 0&&(z.data=h.data),h.kind!==void 0&&(z.kind=D(h.kind)),h.diagnostics!==void 0&&(z.diagnostics=await pn(h.diagnostics,E)),h.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return h.command!==void 0&&(z.command=W(h.command)),h.isPreferred!==void 0&&(z.isPreferred=h.isPreferred),h.disabled!==void 0&&(z.disabled={reason:h.disabled.reason}),z}function Vn(h){let E=ne.CodeAction.create(h.title);if(h instanceof wv.default&&h.data!==void 0&&(E.data=h.data),h.kind!==void 0&&(E.kind=D(h.kind)),h.diagnostics!==void 0&&(E.diagnostics=gn(h.diagnostics)),h.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return h.command!==void 0&&(E.command=W(h.command)),h.isPreferred!==void 0&&(E.isPreferred=h.isPreferred),h.disabled!==void 0&&(E.disabled={reason:h.disabled.reason}),E}async function vn(h,E){if(h==null)return h;let z;return h.only&&Ar.string(h.only.value)&&(z=[h.only.value]),ne.CodeActionContext.create(await pn(h.diagnostics,E),z,qt(h.triggerKind))}function Bn(h){if(h==null)return h;let E;return h.only&&Ar.string(h.only.value)&&(E=[h.only.value]),ne.CodeActionContext.create(gn(h.diagnostics),E,qt(h.triggerKind))}function qt(h){switch(h){case st.CodeActionTriggerKind.Invoke:return ne.CodeActionTriggerKind.Invoked;case st.CodeActionTriggerKind.Automatic:return ne.CodeActionTriggerKind.Automatic;default:return}}function D(h){if(h!=null)return h.value}function F(h){return h==null?h:ne.InlineValueContext.create(h.frameId,Ne(h.stoppedLocation))}function H(h,E,z){return{context:ne.InlineCompletionContext.create(z.triggerKind,z.selectedCompletionInfo),textDocument:i(h),position:gt(E)}}function W(h){let E=ne.Command.create(h.title,h.command);return h.arguments&&(E.arguments=h.arguments),E}function be(h){let E=ne.CodeLens.create(Ne(h.range));return h.command&&(E.command=W(h.command)),h instanceof y_.default&&h.data&&(E.data=h.data),E}function me(h,E){let z={tabSize:h.tabSize,insertSpaces:h.insertSpaces};return E.trimTrailingWhitespace&&(z.trimTrailingWhitespace=!0),E.trimFinalNewlines&&(z.trimFinalNewlines=!0),E.insertFinalNewline&&(z.insertFinalNewline=!0),z}function ve(h){return{textDocument:i(h)}}function xe(h){return{textDocument:i(h)}}function oe(h){let E=ne.DocumentLink.create(Ne(h.range));h.target&&(E.target=r(h.target)),h.tooltip!==void 0&&(E.tooltip=h.tooltip);let z=h instanceof b_.default?h:void 0;return z&&z.data&&(E.data=z.data),E}function we(h){return{textDocument:i(h)}}function de(h){let E={name:h.name,kind:bt(h.kind),uri:r(h.uri),range:Ne(h.range),selectionRange:Ne(h.selectionRange)};return h.detail!==void 0&&h.detail.length>0&&(E.detail=h.detail),h.tags!==void 0&&(E.tags=Vt(h.tags)),h instanceof C_.default&&h.data!==void 0&&(E.data=h.data),E}function Ie(h){let E={name:h.name,kind:bt(h.kind),uri:r(h.uri),range:Ne(h.range),selectionRange:Ne(h.selectionRange)};return h.detail!==void 0&&h.detail.length>0&&(E.detail=h.detail),h.tags!==void 0&&(E.tags=Vt(h.tags)),h instanceof w_.default&&h.data!==void 0&&(E.data=h.data),E}function Xe(h){let E=h instanceof D_.default?{name:h.name,kind:bt(h.kind),location:h.hasRange?Pt(h.location):{uri:t(h.location.uri)},data:h.data}:{name:h.name,kind:bt(h.kind),location:Pt(h.location)};return h.tags!==void 0&&(E.tags=Vt(h.tags)),h.containerName!==""&&(E.containerName=h.containerName),E}function ut(h){let E=typeof h.label=="string"?h.label:h.label.map(ur),z=ne.InlayHint.create(gt(h.position),E);return h.kind!==void 0&&(z.kind=h.kind),h.textEdits!==void 0&&(z.textEdits=et(h.textEdits)),h.tooltip!==void 0&&(z.tooltip=lr(h.tooltip)),h.paddingLeft!==void 0&&(z.paddingLeft=h.paddingLeft),h.paddingRight!==void 0&&(z.paddingRight=h.paddingRight),h instanceof __.default&&h.data!==void 0&&(z.data=h.data),z}function ur(h){let E=ne.InlayHintLabelPart.create(h.value);return h.location!==void 0&&(E.location=Pt(h.location)),h.command!==void 0&&(E.command=W(h.command)),h.tooltip!==void 0&&(E.tooltip=lr(h.tooltip)),E}function lr(h){return typeof h=="string"?h:{kind:ne.MarkupKind.Markdown,value:h.value}}return{asUri:r,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:f,asCloseTextDocumentParams:g,asSaveTextDocumentParams:m,asWillSaveTextDocumentParams:y,asDidCreateFilesParams:C,asDidRenameFilesParams:P,asDidDeleteFilesParams:x,asWillCreateFilesParams:L,asWillRenameFilesParams:O,asWillDeleteFilesParams:M,asTextDocumentPositionParams:X,asCompletionParams:K,asSignatureHelpParams:Tt,asWorkerPosition:pt,asRange:Ne,asRanges:It,asPosition:gt,asPositions:hn,asPositionsSync:qn,asLocation:Pt,asDiagnosticSeverity:mt,asDiagnosticTag:kn,asDiagnostic:xn,asDiagnostics:pn,asDiagnosticsSync:gn,asCompletionItem:tn,asTextEdit:Fn,asSymbolKind:bt,asSymbolTag:vt,asSymbolTags:Vt,asReferenceParams:Ft,asCodeAction:On,asCodeActionSync:Vn,asCodeActionContext:vn,asCodeActionContextSync:Bn,asInlineValueContext:F,asCommand:W,asCodeLens:be,asFormattingOptions:me,asDocumentSymbolParams:ve,asCodeLensParams:xe,asDocumentLink:oe,asDocumentLinkParams:we,asCallHierarchyItem:de,asTypeHierarchyItem:Ie,asInlayHint:ut,asWorkspaceSymbol:Xe,asInlineCompletionParams:H}}Os.createConverter=S_});var Tv=k(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.createConverter=void 0;var U=require("vscode"),Y=ee(),un=cn(),Ce=Is(),R_=Mu(),T_=Hu(),P_=zu(),q_=Bu(),Sv=Ju(),k_=Zu(),E_=nl(),x_=ol(),I_=cl(),Rv=ee(),Ns;(function(n){function e(t){let r=t;return r&&un.string(r.language)&&un.string(r.value)}n.is=e})(Ns||(Ns={}));function F_(n,e,t){let i=n||(u=>U.Uri.parse(u));function o(u){return i(u)}function s(u){let R=[];for(let A of u)if(typeof A=="string")R.push(A);else if(Rv.NotebookCellTextDocumentFilter.is(A))if(typeof A.notebook=="string")R.push({notebookType:A.notebook,language:A.language});else{let G=A.notebook.notebookType??"*";R.push({notebookType:G,scheme:A.notebook.scheme,pattern:A.notebook.pattern,language:A.language})}else Rv.TextDocumentFilter.is(A)&&R.push({language:A.language,scheme:A.scheme,pattern:A.pattern});return R}async function a(u,R){return Ce.map(u,l,R)}function c(u){let R=new Array(u.length);for(let A=0;A<u.length;A++)R[A]=l(u[A]);return R}function l(u){let R=new Sv.ProtocolDiagnostic(y(u.range),u.message,P(u.severity),u.data);if(u.code!==void 0){if(typeof u.code=="string"||typeof u.code=="number")Y.CodeDescription.is(u.codeDescription)?R.code={value:u.code,target:o(u.codeDescription.href)}:R.code=u.code;else if(Sv.DiagnosticCode.is(u.code)){R.hasDiagnosticCode=!0;let A=u.code;R.code={value:A.value,target:o(A.target)}}}return u.source&&(R.source=u.source),u.relatedInformation&&(R.relatedInformation=f(u.relatedInformation)),Array.isArray(u.tags)&&(R.tags=g(u.tags)),R}function f(u){let R=new Array(u.length);for(let A=0;A<u.length;A++){let G=u[A];R[A]=new U.DiagnosticRelatedInformation(mt(G.location),G.message)}return R}function g(u){if(!u)return;let R=[];for(let A of u){let G=m(A);G!==void 0&&R.push(G)}return R.length>0?R:void 0}function m(u){switch(u){case Y.DiagnosticTag.Unnecessary:return U.DiagnosticTag.Unnecessary;case Y.DiagnosticTag.Deprecated:return U.DiagnosticTag.Deprecated;default:return}}function w(u){return u?new U.Position(u.line,u.character):void 0}function y(u){return u?new U.Range(u.start.line,u.start.character,u.end.line,u.end.character):void 0}async function C(u,R){return Ce.map(u,A=>new U.Range(A.start.line,A.start.character,A.end.line,A.end.character),R)}function P(u){if(u==null)return U.DiagnosticSeverity.Error;switch(u){case Y.DiagnosticSeverity.Error:return U.DiagnosticSeverity.Error;case Y.DiagnosticSeverity.Warning:return U.DiagnosticSeverity.Warning;case Y.DiagnosticSeverity.Information:return U.DiagnosticSeverity.Information;case Y.DiagnosticSeverity.Hint:return U.DiagnosticSeverity.Hint}return U.DiagnosticSeverity.Error}function x(u){if(un.string(u))return O(u);if(Ns.is(u))return O().appendCodeblock(u.value,u.language);if(Array.isArray(u)){let R=[];for(let A of u){let G=O();Ns.is(A)?G.appendCodeblock(A.value,A.language):G.appendMarkdown(A),R.push(G)}return R}else return O(u)}function L(u){if(un.string(u))return u;switch(u.kind){case Y.MarkupKind.Markdown:return O(u.value);case Y.MarkupKind.PlainText:return u.value;default:return`Unsupported Markup content received. Kind is: ${u.kind}`}}function O(u){let R;if(u===void 0||typeof u=="string")R=new U.MarkdownString(u);else switch(u.kind){case Y.MarkupKind.Markdown:R=new U.MarkdownString(u.value);break;case Y.MarkupKind.PlainText:R=new U.MarkdownString,R.appendText(u.value);break;default:R=new U.MarkdownString,R.appendText(`Unsupported Markup content received. Kind is: ${u.kind}`);break}return R.isTrusted=e,R.supportHtml=t,R}function M(u){if(u)return new U.Hover(x(u.contents),y(u.range))}async function X(u,R,A){if(!u)return;if(Array.isArray(u))return Ce.map(u,Ln=>Ze(Ln,R),A);let G=u,{defaultRange:tt,commitCharacters:it}=le(G,R),Ee=await Ce.map(G.items,Ln=>{var Pe,Er,Hi;return Ze(Ln,it,tt,(Pe=G.itemDefaults)==null?void 0:Pe.insertTextMode,(Er=G.itemDefaults)==null?void 0:Er.insertTextFormat,(Hi=G.itemDefaults)==null?void 0:Hi.data)},A);return new U.CompletionList(Ee,G.isIncomplete)}function le(u,R){var tt,it;let A=(tt=u.itemDefaults)==null?void 0:tt.editRange,G=((it=u.itemDefaults)==null?void 0:it.commitCharacters)??R;return Y.Range.is(A)?{defaultRange:y(A),commitCharacters:G}:A!==void 0?{defaultRange:{inserting:y(A.insert),replacing:y(A.replace)},commitCharacters:G}:{defaultRange:void 0,commitCharacters:G}}function K(u){return Y.CompletionItemKind.Text<=u&&u<=Y.CompletionItemKind.TypeParameter?[u-1,void 0]:[U.CompletionItemKind.Text,u]}function Z(u){switch(u){case Y.CompletionItemTag.Deprecated:return U.CompletionItemTag.Deprecated}}function ae(u){if(u==null)return[];let R=[];for(let A of u){let G=Z(A);G!==void 0&&R.push(G)}return R}function Ze(u,R,A,G,tt,it){let Ee=ae(u.tags),Ln=Ge(u),Pe=new R_.default(Ln);u.detail&&(Pe.detail=u.detail),u.documentation&&(Pe.documentation=L(u.documentation),Pe.documentationFormat=un.string(u.documentation)?"$string":u.documentation.kind),u.filterText&&(Pe.filterText=u.filterText);let Er=nt(u,A,tt);if(Er&&(Pe.insertText=Er.text,Pe.range=Er.range,Pe.fromEdit=Er.fromEdit),un.number(u.kind)){let[ew,eh]=K(u.kind);Pe.kind=ew,eh&&(Pe.originalItemKind=eh)}u.sortText&&(Pe.sortText=u.sortText),u.additionalTextEdits&&(Pe.additionalTextEdits=gt(u.additionalTextEdits));let Hi=u.commitCharacters!==void 0?un.stringArray(u.commitCharacters)?u.commitCharacters:void 0:R;Hi&&(Pe.commitCharacters=Hi.slice()),u.command&&(Pe.command=et(u.command)),(u.deprecated===!0||u.deprecated===!1)&&(Pe.deprecated=u.deprecated,u.deprecated===!0&&Ee.push(U.CompletionItemTag.Deprecated)),(u.preselect===!0||u.preselect===!1)&&(Pe.preselect=u.preselect);let Zf=u.data??it;Zf!==void 0&&(Pe.data=Zf),Ee.length>0&&(Pe.tags=Ee);let Wa=u.insertTextMode??G;return Wa!==void 0&&(Pe.insertTextMode=Wa,Wa===Y.InsertTextMode.asIs&&(Pe.keepWhitespace=!0)),Pe}function Ge(u){return Y.CompletionItemLabelDetails.is(u.labelDetails)?{label:u.label,detail:u.labelDetails.detail,description:u.labelDetails.description}:u.label}function nt(u,R,A){let G=u.insertTextFormat??A;if(u.textEdit!==void 0||R!==void 0){let[tt,it]=u.textEdit!==void 0?en(u.textEdit):[R,u.textEditText??u.label];return G===Y.InsertTextFormat.Snippet?{text:new U.SnippetString(it),range:tt,fromEdit:!0}:{text:it,range:tt,fromEdit:!0}}else return u.insertText?G===Y.InsertTextFormat.Snippet?{text:new U.SnippetString(u.insertText),fromEdit:!1}:{text:u.insertText,fromEdit:!1}:void 0}function en(u){return Y.InsertReplaceEdit.is(u)?[{inserting:y(u.insert),replacing:y(u.replace)},u.newText]:[y(u.range),u.newText]}function Tt(u){if(u)return new U.TextEdit(y(u.range),u.newText)}async function pt(u,R){if(u)return Ce.map(u,Tt,R)}function gt(u){if(!u)return;let R=new Array(u.length);for(let A=0;A<u.length;A++)R[A]=Tt(u[A]);return R}async function hn(u,R){if(!u)return;let A=new U.SignatureHelp;return un.number(u.activeSignature)?A.activeSignature=u.activeSignature:A.activeSignature=0,un.number(u.activeParameter)?A.activeParameter=u.activeParameter:A.activeParameter=0,u.signatures&&(A.signatures=await qn(u.signatures,R)),A}async function qn(u,R){return Ce.mapAsync(u,Ne,R)}async function Ne(u,R){let A=new U.SignatureInformation(u.label);return u.documentation!==void 0&&(A.documentation=L(u.documentation)),u.parameters!==void 0&&(A.parameters=await It(u.parameters,R)),u.activeParameter!==void 0&&(A.activeParameter=u.activeParameter),A}function It(u,R){return Ce.map(u,Pt,R)}function Pt(u){let R=new U.ParameterInformation(u.label);return u.documentation&&(R.documentation=L(u.documentation)),R}function mt(u){return u?new U.Location(i(u.uri),y(u.range)):void 0}async function sr(u,R){if(u)return zn(u,R)}async function kn(u,R){if(u)return zn(u,R)}function En(u){if(!u)return;let R={targetUri:i(u.targetUri),targetRange:y(u.targetRange),originSelectionRange:y(u.originSelectionRange),targetSelectionRange:y(u.targetSelectionRange)};if(!R.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return R}async function zn(u,R){if(u)if(un.array(u)){if(u.length===0)return[];if(Y.LocationLink.is(u[0])){let A=u;return Ce.map(A,En,R)}else{let A=u;return Ce.map(A,mt,R)}}else return Y.LocationLink.is(u)?[En(u)]:mt(u)}async function ar(u,R){if(u)return Ce.map(u,mt,R)}async function xn(u,R){if(u)return Ce.map(u,pn,R)}function pn(u){let R=new U.DocumentHighlight(y(u.range));return un.number(u.kind)&&(R.kind=gn(u.kind)),R}function gn(u){switch(u){case Y.DocumentHighlightKind.Text:return U.DocumentHighlightKind.Text;case Y.DocumentHighlightKind.Read:return U.DocumentHighlightKind.Read;case Y.DocumentHighlightKind.Write:return U.DocumentHighlightKind.Write}return U.DocumentHighlightKind.Text}async function In(u,R){if(u)return Ce.map(u,tn,R)}function rt(u){return u<=Y.SymbolKind.TypeParameter?u-1:U.SymbolKind.Property}function Kn(u){switch(u){case Y.SymbolTag.Deprecated:return U.SymbolTag.Deprecated;default:return}}function mn(u){if(u==null)return;let R=[];for(let A of u){let G=Kn(A);G!==void 0&&R.push(G)}return R.length===0?void 0:R}function tn(u){let R=u.data,A=u.location,G=A.range===void 0||R!==void 0?new x_.default(u.name,rt(u.kind),u.containerName??"",A.range===void 0?i(A.uri):new U.Location(i(u.location.uri),y(A.range)),R):new U.SymbolInformation(u.name,rt(u.kind),u.containerName??"",new U.Location(i(u.location.uri),y(A.range)));return Fn(G,u),G}async function cr(u,R){if(u!=null)return Ce.map(u,nn,R)}function nn(u){let R=new U.DocumentSymbol(u.name,u.detail||"",rt(u.kind),y(u.range),y(u.selectionRange));if(Fn(R,u),u.children!==void 0&&u.children.length>0){let A=[];for(let G of u.children)A.push(nn(G));R.children=A}return R}function Fn(u,R){u.tags=mn(R.tags),R.deprecated&&(u.tags?u.tags.includes(U.SymbolTag.Deprecated)||(u.tags=u.tags.concat(U.SymbolTag.Deprecated)):u.tags=[U.SymbolTag.Deprecated])}function et(u){let R={title:u.title,command:u.command};return u.arguments&&(R.arguments=u.arguments),R}async function bt(u,R){if(u)return Ce.map(u,et,R)}let vt=new Map;vt.set(Y.CodeActionKind.Empty,U.CodeActionKind.Empty),vt.set(Y.CodeActionKind.QuickFix,U.CodeActionKind.QuickFix),vt.set(Y.CodeActionKind.Refactor,U.CodeActionKind.Refactor),vt.set(Y.CodeActionKind.RefactorExtract,U.CodeActionKind.RefactorExtract),vt.set(Y.CodeActionKind.RefactorInline,U.CodeActionKind.RefactorInline),vt.set(Y.CodeActionKind.RefactorRewrite,U.CodeActionKind.RefactorRewrite),vt.set(Y.CodeActionKind.Source,U.CodeActionKind.Source),vt.set(Y.CodeActionKind.SourceOrganizeImports,U.CodeActionKind.SourceOrganizeImports);function Vt(u){if(u==null)return;let R=vt.get(u);if(R)return R;let A=u.split(".");R=U.CodeActionKind.Empty;for(let G of A)R=R.append(G);return R}function Ft(u){if(u!=null)return u.map(R=>Vt(R))}async function On(u,R){if(u==null)return;let A=new q_.default(u.title,u.data);return u.kind!==void 0&&(A.kind=Vt(u.kind)),u.diagnostics!==void 0&&(A.diagnostics=c(u.diagnostics)),u.edit!==void 0&&(A.edit=await qt(u.edit,R)),u.command!==void 0&&(A.command=et(u.command)),u.isPreferred!==void 0&&(A.isPreferred=u.isPreferred),u.disabled!==void 0&&(A.disabled={reason:u.disabled.reason}),A}function Vn(u,R){return Ce.mapAsync(u,async A=>Y.Command.is(A)?et(A):On(A,R),R)}function vn(u){if(!u)return;let R=new T_.default(y(u.range));return u.command&&(R.command=et(u.command)),u.data!==void 0&&u.data!==null&&(R.data=u.data),R}async function Bn(u,R){if(u)return Ce.map(u,vn,R)}async function qt(u,R){if(!u)return;let A=new Map;if(u.changeAnnotations!==void 0){let it=u.changeAnnotations;await Ce.forEach(Object.keys(it),Ee=>{let Ln=D(it[Ee]);A.set(Ee,Ln)},R)}let G=it=>{if(it!==void 0)return A.get(it)},tt=new U.WorkspaceEdit;if(u.documentChanges){let it=u.documentChanges;await Ce.forEach(it,Ee=>{if(Y.CreateFile.is(Ee))tt.createFile(i(Ee.uri),Ee.options,G(Ee.annotationId));else if(Y.RenameFile.is(Ee))tt.renameFile(i(Ee.oldUri),i(Ee.newUri),Ee.options,G(Ee.annotationId));else if(Y.DeleteFile.is(Ee))tt.deleteFile(i(Ee.uri),Ee.options,G(Ee.annotationId));else if(Y.TextDocumentEdit.is(Ee)){let Ln=i(Ee.textDocument.uri);for(let Pe of Ee.edits)Y.AnnotatedTextEdit.is(Pe)?tt.replace(Ln,y(Pe.range),Pe.newText,G(Pe.annotationId)):tt.replace(Ln,y(Pe.range),Pe.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Ee,void 0,4)}`)},R)}else if(u.changes){let it=u.changes;await Ce.forEach(Object.keys(it),Ee=>{tt.set(i(Ee),gt(it[Ee]))},R)}return tt}function D(u){if(u!==void 0)return{label:u.label,needsConfirmation:!!u.needsConfirmation,description:u.description}}function F(u){let R=y(u.range),A=u.target?o(u.target):void 0,G=new P_.default(R,A);return u.tooltip!==void 0&&(G.tooltip=u.tooltip),u.data!==void 0&&u.data!==null&&(G.data=u.data),G}async function H(u,R){if(u)return Ce.map(u,F,R)}function W(u){return new U.Color(u.red,u.green,u.blue,u.alpha)}function be(u){return new U.ColorInformation(y(u.range),W(u.color))}async function me(u,R){if(u)return Ce.map(u,be,R)}function ve(u){let R=new U.ColorPresentation(u.label);return R.additionalTextEdits=gt(u.additionalTextEdits),u.textEdit&&(R.textEdit=Tt(u.textEdit)),R}async function xe(u,R){if(u)return Ce.map(u,ve,R)}function oe(u){if(u)switch(u){case Y.FoldingRangeKind.Comment:return U.FoldingRangeKind.Comment;case Y.FoldingRangeKind.Imports:return U.FoldingRangeKind.Imports;case Y.FoldingRangeKind.Region:return U.FoldingRangeKind.Region}}function we(u){return new U.FoldingRange(u.startLine,u.endLine,oe(u.kind))}async function de(u,R){if(u)return Ce.map(u,we,R)}function Ie(u){return new U.SelectionRange(y(u.range),u.parent?Ie(u.parent):void 0)}async function Xe(u,R){return Array.isArray(u)?Ce.map(u,Ie,R):[]}function ut(u){return Y.InlineValueText.is(u)?new U.InlineValueText(y(u.range),u.text):Y.InlineValueVariableLookup.is(u)?new U.InlineValueVariableLookup(y(u.range),u.variableName,u.caseSensitiveLookup):new U.InlineValueEvaluatableExpression(y(u.range),u.expression)}async function ur(u,R){return Array.isArray(u)?Ce.map(u,ut,R):[]}async function lr(u,R){let A=typeof u.label=="string"?u.label:await Ce.map(u.label,h,R),G=new I_.default(w(u.position),A);return u.kind!==void 0&&(G.kind=u.kind),u.textEdits!==void 0&&(G.textEdits=await pt(u.textEdits,R)),u.tooltip!==void 0&&(G.tooltip=E(u.tooltip)),u.paddingLeft!==void 0&&(G.paddingLeft=u.paddingLeft),u.paddingRight!==void 0&&(G.paddingRight=u.paddingRight),u.data!==void 0&&(G.data=u.data),G}function h(u){let R=new U.InlayHintLabelPart(u.value);return u.location!==void 0&&(R.location=mt(u.location)),u.tooltip!==void 0&&(R.tooltip=E(u.tooltip)),u.command!==void 0&&(R.command=et(u.command)),R}function E(u){return typeof u=="string"?u:O(u)}async function z(u,R){if(Array.isArray(u))return Ce.mapAsync(u,lr,R)}function De(u){if(u===null)return;let R=new k_.default(rt(u.kind),u.name,u.detail||"",o(u.uri),y(u.range),y(u.selectionRange),u.data);return u.tags!==void 0&&(R.tags=mn(u.tags)),R}async function T(u,R){if(u!==null)return Ce.map(u,De,R)}async function p(u,R){return new U.CallHierarchyIncomingCall(De(u.from),await C(u.fromRanges,R))}async function _(u,R){if(u!==null)return Ce.mapAsync(u,p,R)}async function S(u,R){return new U.CallHierarchyOutgoingCall(De(u.to),await C(u.fromRanges,R))}async function v(u,R){if(u!==null)return Ce.mapAsync(u,S,R)}async function d(u,R){if(u!=null)return new U.SemanticTokens(new Uint32Array(u.data),u.resultId)}function q(u){return new U.SemanticTokensEdit(u.start,u.deleteCount,u.data!==void 0?new Uint32Array(u.data):void 0)}async function N(u,R){if(u!=null)return new U.SemanticTokensEdits(u.edits.map(q),u.resultId)}function te(u){return u}async function je(u,R){if(u!=null)return new U.LinkedEditingRanges(await C(u.ranges,R),Fe(u.wordPattern))}function Fe(u){if(u!=null)return new RegExp(u)}function Ot(u){if(u===null)return;let R=new E_.default(rt(u.kind),u.name,u.detail||"",o(u.uri),y(u.range),y(u.selectionRange),u.data);return u.tags!==void 0&&(R.tags=mn(u.tags)),R}async function Bt(u,R){if(u!==null)return Ce.map(u,Ot,R)}function yn(u){if(un.string(u))return u;if(Y.RelativePattern.is(u)){if(Y.URI.is(u.baseUri))return new U.RelativePattern(o(u.baseUri),u.pattern);if(Y.WorkspaceFolder.is(u.baseUri)){let R=U.workspace.getWorkspaceFolder(o(u.baseUri.uri));return R!==void 0?new U.RelativePattern(R,u.pattern):void 0}}}async function ue(u,R){if(!u)return;if(Array.isArray(u))return Ce.map(u,tt=>Nn(tt),R);let A=u,G=await Ce.map(A.items,tt=>Nn(tt),R);return new U.InlineCompletionList(G)}function Nn(u){let R;typeof u.insertText=="string"?R=u.insertText:R=new U.SnippetString(u.insertText.value);let A;u.command&&(A=et(u.command));let G=new U.InlineCompletionItem(R,y(u.range),A);return u.filterText&&(G.filterText=u.filterText),G}return{asUri:o,asDocumentSelector:s,asDiagnostics:a,asDiagnostic:l,asRange:y,asRanges:C,asPosition:w,asDiagnosticSeverity:P,asDiagnosticTag:m,asHover:M,asCompletionResult:X,asCompletionItem:Ze,asTextEdit:Tt,asTextEdits:pt,asSignatureHelp:hn,asSignatureInformations:qn,asSignatureInformation:Ne,asParameterInformations:It,asParameterInformation:Pt,asDeclarationResult:sr,asDefinitionResult:kn,asLocation:mt,asReferences:ar,asDocumentHighlights:xn,asDocumentHighlight:pn,asDocumentHighlightKind:gn,asSymbolKind:rt,asSymbolTag:Kn,asSymbolTags:mn,asSymbolInformations:In,asSymbolInformation:tn,asDocumentSymbols:cr,asDocumentSymbol:nn,asCommand:et,asCommands:bt,asCodeAction:On,asCodeActionKind:Vt,asCodeActionKinds:Ft,asCodeActionResult:Vn,asCodeLens:vn,asCodeLenses:Bn,asWorkspaceEdit:qt,asDocumentLink:F,asDocumentLinks:H,asFoldingRangeKind:oe,asFoldingRange:we,asFoldingRanges:de,asColor:W,asColorInformation:be,asColorInformations:me,asColorPresentation:ve,asColorPresentations:xe,asSelectionRange:Ie,asSelectionRanges:Xe,asInlineValue:ut,asInlineValues:ur,asInlayHint:lr,asInlayHints:z,asSemanticTokensLegend:te,asSemanticTokens:d,asSemanticTokensEdit:q,asSemanticTokensEdits:N,asCallHierarchyItem:De,asCallHierarchyItems:T,asCallHierarchyIncomingCall:p,asCallHierarchyIncomingCalls:_,asCallHierarchyOutgoingCall:S,asCallHierarchyOutgoingCalls:v,asLinkedEditingRanges:je,asTypeHierarchyItem:Ot,asTypeHierarchyItems:Bt,asGlobPattern:yn,asInlineCompletionResult:ue,asInlineCompletionItem:Nn}}Ls.createConverter=F_});var Ue=k(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.generateUuid=ln.parse=ln.isUUID=ln.v4=ln.empty=void 0;var to=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},no=class n extends to{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return n._oneOf(n._chars)}constructor(){super([n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-","4",n._randomHex(),n._randomHex(),n._randomHex(),"-",n._oneOf(n._timeHighBits),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex()].join(""))}};no._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];no._timeHighBits=["8","9","a","b"];ln.empty=new to("00000000-0000-0000-0000-000000000000");function Pv(){return new no}ln.v4=Pv;var O_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function qv(n){return O_.test(n)}ln.isUUID=qv;function N_(n){if(!qv(n))throw new Error("invalid uuid");return new to(n)}ln.parse=N_;function L_(){return Pv().asHex()}ln.generateUuid=L_});var dl=k(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.ProgressPart=void 0;var kv=require("vscode"),Ev=ee(),xv=cn(),ll=class{constructor(e,t,r){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(Ev.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),r&&r(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&kv.window.withProgress({location:kv.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,r)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=r,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(Ev.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&xv.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(xv.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,t-this._reported);this._reported+=r,this._progress!==void 0&&this._progress.report({message:e.message,increment:r})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};As.ProgressPart=ll});var ye=k(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.WorkspaceFeature=dt.TextDocumentLanguageFeature=dt.TextDocumentEventFeature=dt.DynamicDocumentFeature=dt.DynamicFeature=dt.StaticFeature=dt.ensure=dt.LSPCancellationError=void 0;var Mr=require("vscode"),fl=ee(),kt=cn(),Iv=Ue(),hl=class extends Mr.CancellationError{constructor(e){super(),this.data=e}};dt.LSPCancellationError=hl;function A_(n,e){return n[e]===void 0&&(n[e]={}),n[e]}dt.ensure=A_;var Fv;(function(n){function e(t){let r=t;return r!=null&&kt.func(r.fillClientCapabilities)&&kt.func(r.initialize)&&kt.func(r.getState)&&kt.func(r.clear)&&(r.fillInitializeParams===void 0||kt.func(r.fillInitializeParams))}n.is=e})(Fv||(dt.StaticFeature=Fv={}));var Ov;(function(n){function e(t){let r=t;return r!=null&&kt.func(r.fillClientCapabilities)&&kt.func(r.initialize)&&kt.func(r.getState)&&kt.func(r.clear)&&(r.fillInitializeParams===void 0||kt.func(r.fillInitializeParams))&&kt.func(r.register)&&kt.func(r.unregister)&&r.registrationType!==void 0}n.is=e})(Ov||(dt.DynamicFeature=Ov={}));var ro=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of Mr.workspace.textDocuments)if(Mr.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let r=t>0;return{kind:"document",id:this.registrationType.method,registrations:r,matches:!1}}};dt.DynamicDocumentFeature=ro;var pl=class extends ro{static textDocumentFilter(e,t){for(let r of e)if(Mr.languages.match(r,t)>0)return!0;return!1}constructor(e,t,r,i,o,s,a){super(e),this._event=t,this._type=r,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new Mr.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(r=>{this._client.error(`Sending document notification ${this._type.method} failed.`,r)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async r=>{let i=this._createParams(r);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(r),this._type,i)};if(this.matches(e)){let r=this._middleware();return r?r(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,r){this._onNotificationSent.fire({textDocument:e,type:t,params:r})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(Mr.languages.match(t,e)>0)return{send:r=>this.callback(r)}}};dt.TextDocumentEventFeature=pl;var gl=class extends ro{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(fl.TextDocumentRegistrationOptions.is(t)){let r=fl.StaticRegistrationOptions.hasId(t)?t.id:Iv.generateUuid(),i=t.documentSelector??e;if(i)return[r,Object.assign({},t,{documentSelector:i})]}else if(kt.boolean(t)&&t===!0||fl.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let r=kt.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[Iv.generateUuid(),r]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return kt.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let r=t.data.registerOptions.documentSelector;if(r!==null&&Mr.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(r),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};dt.TextDocumentLanguageFeature=gl;var ml=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};dt.WorkspaceFeature=ml});var Lv=k((mk,Nv)=>{var M_=typeof process=="object"&&process&&process.platform==="win32";Nv.exports=M_?{sep:"\\"}:{sep:"/"}});var Hv=k((vk,$v)=>{"use strict";$v.exports=Mv;function Mv(n,e,t){n instanceof RegExp&&(n=Av(n,t)),e instanceof RegExp&&(e=Av(e,t));var r=jv(n,e,t);return r&&{start:r[0],end:r[1],pre:t.slice(0,r[0]),body:t.slice(r[0]+n.length,r[1]),post:t.slice(r[1]+e.length)}}function Av(n,e){var t=e.match(n);return t?t[0]:null}Mv.range=jv;function jv(n,e,t){var r,i,o,s,a,c=t.indexOf(n),l=t.indexOf(e,c+1),f=c;if(c>=0&&l>0){if(n===e)return[c,l];for(r=[],o=t.length;f>=0&&!a;)f==c?(r.push(f),c=t.indexOf(n,f+1)):r.length==1?a=[r.pop(),l]:(i=r.pop(),i<o&&(o=i,s=l),l=t.indexOf(e,f+1)),f=c<l&&c>=0?c:l;r.length&&(a=[o,s])}return a}});var Xv=k((yk,Gv)=>{var Uv=Hv();Gv.exports=H_;var Wv="\0SLASH"+Math.random()+"\0",zv="\0OPEN"+Math.random()+"\0",yl="\0CLOSE"+Math.random()+"\0",Kv="\0COMMA"+Math.random()+"\0",Vv="\0PERIOD"+Math.random()+"\0";function vl(n){return parseInt(n,10)==n?parseInt(n,10):n.charCodeAt(0)}function j_(n){return n.split("\\\\").join(Wv).split("\\{").join(zv).split("\\}").join(yl).split("\\,").join(Kv).split("\\.").join(Vv)}function $_(n){return n.split(Wv).join("\\").split(zv).join("{").split(yl).join("}").split(Kv).join(",").split(Vv).join(".")}function Bv(n){if(!n)return[""];var e=[],t=Uv("{","}",n);if(!t)return n.split(",");var r=t.pre,i=t.body,o=t.post,s=r.split(",");s[s.length-1]+="{"+i+"}";var a=Bv(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function H_(n){return n?(n.substr(0,2)==="{}"&&(n="\\{\\}"+n.substr(2)),io(j_(n),!0).map($_)):[]}function U_(n){return"{"+n+"}"}function W_(n){return/^-?0\d/.test(n)}function z_(n,e){return n<=e}function K_(n,e){return n>=e}function io(n,e){var t=[],r=Uv("{","}",n);if(!r)return[n];var i=r.pre,o=r.post.length?io(r.post,!1):[""];if(/\$$/.test(r.pre))for(var s=0;s<o.length;s++){var a=i+"{"+r.body+"}"+o[s];t.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),f=c||l,g=r.body.indexOf(",")>=0;if(!f&&!g)return r.post.match(/,.*\}/)?(n=r.pre+"{"+r.body+yl+r.post,io(n)):[n];var m;if(f)m=r.body.split(/\.\./);else if(m=Bv(r.body),m.length===1&&(m=io(m[0],!1).map(U_),m.length===1))return o.map(function(Ze){return r.pre+m[0]+Ze});var w;if(f){var y=vl(m[0]),C=vl(m[1]),P=Math.max(m[0].length,m[1].length),x=m.length==3?Math.abs(vl(m[2])):1,L=z_,O=C<y;O&&(x*=-1,L=K_);var M=m.some(W_);w=[];for(var X=y;L(X,C);X+=x){var le;if(l)le=String.fromCharCode(X),le==="\\"&&(le="");else if(le=String(X),M){var K=P-le.length;if(K>0){var Z=new Array(K+1).join("0");X<0?le="-"+Z+le.slice(1):le=Z+le}}w.push(le)}}else{w=[];for(var ae=0;ae<m.length;ae++)w.push.apply(w,io(m[ae],!1))}for(var ae=0;ae<w.length;ae++)for(var s=0;s<o.length;s++){var a=i+w[ae]+o[s];(!e||f||a)&&t.push(a)}}return t}});var js=k((Ck,_l)=>{var Jt=_l.exports=(n,e,t={})=>(Ms(e),!t.nocomment&&e.charAt(0)==="#"?!1:new Di(e,t).match(n));_l.exports=Jt;var wl=Lv();Jt.sep=wl.sep;var Dn=Symbol("globstar **");Jt.GLOBSTAR=Dn;var V_=Xv(),Jv={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Dl="[^/]",bl=Dl+"*?",B_="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",G_="(?:(?!(?:\\/|^)\\.).)*?",Zv=n=>n.split("").reduce((e,t)=>(e[t]=!0,e),{}),Qv=Zv("().*{}+?[]^$\\!"),X_=Zv("[.("),Yv=/\/+/;Jt.filter=(n,e={})=>(t,r,i)=>Jt(t,n,e);var wr=(n,e={})=>{let t={};return Object.keys(n).forEach(r=>t[r]=n[r]),Object.keys(e).forEach(r=>t[r]=e[r]),t};Jt.defaults=n=>{if(!n||typeof n!="object"||!Object.keys(n).length)return Jt;let e=Jt,t=(r,i,o)=>e(r,i,wr(n,o));return t.Minimatch=class extends e.Minimatch{constructor(i,o){super(i,wr(n,o))}},t.Minimatch.defaults=r=>e.defaults(wr(n,r)).Minimatch,t.filter=(r,i)=>e.filter(r,wr(n,i)),t.defaults=r=>e.defaults(wr(n,r)),t.makeRe=(r,i)=>e.makeRe(r,wr(n,i)),t.braceExpand=(r,i)=>e.braceExpand(r,wr(n,i)),t.match=(r,i,o)=>e.match(r,i,wr(n,o)),t};Jt.braceExpand=(n,e)=>ey(n,e);var ey=(n,e={})=>(Ms(n),e.nobrace||!/\{(?:(?!\{).)*\}/.test(n)?[n]:V_(n)),J_=1024*64,Ms=n=>{if(typeof n!="string")throw new TypeError("invalid pattern");if(n.length>J_)throw new TypeError("pattern is too long")},Cl=Symbol("subparse");Jt.makeRe=(n,e)=>new Di(n,e||{}).makeRe();Jt.match=(n,e,t={})=>{let r=new Di(e,t);return n=n.filter(i=>r.match(i)),r.options.nonull&&!n.length&&n.push(e),n};var Q_=n=>n.replace(/\\(.)/g,"$1"),Y_=n=>n.replace(/\\([^-\]])/g,"$1"),Z_=n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),eS=n=>n.replace(/[[\]\\]/g,"\\$&"),Di=class{constructor(e,t){Ms(e),t||(t={}),this.options=t,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}debug(){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let r=this.globSet=this.braceExpand();t.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,r),r=this.globParts=r.map(i=>i.split(Yv)),this.debug(this.pattern,r),r=r.map((i,o,s)=>i.map(this.parse,this)),this.debug(this.pattern,r),r=r.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,t=!1,r=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)t=!t,r++;r&&(this.pattern=e.slice(r)),this.negate=t}matchOne(e,t,r){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var l=t[s],f=e[o];if(this.debug(t,l,f),l===!1)return!1;if(l===Dn){this.debug("GLOBSTAR",[t,l,f]);var g=o,m=s+1;if(m===c){for(this.debug("** at the end");o<a;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;g<a;){var w=e[g];if(this.debug(`
globstar while`,e,g,t,m,w),this.matchOne(e.slice(g),t.slice(m),r))return this.debug("globstar found match!",g,a,w),!0;if(w==="."||w===".."||!i.dot&&w.charAt(0)==="."){this.debug("dot detected!",e,g,t,m);break}this.debug("globstar swallow a segment, and continue"),g++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,g,t,m),g===a))}var y;if(typeof l=="string"?(y=f===l,this.debug("string match",l,f,y)):(y=f.match(l),this.debug("pattern match",l,f,y)),!y)return!1}if(o===a&&s===c)return!0;if(o===a)return r;if(s===c)return o===a-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return ey(this.pattern,this.options)}parse(e,t){Ms(e);let r=this.options;if(e==="**")if(r.noglobstar)e="*";else return Dn;if(e==="")return"";let i="",o=!1,s=!1,a=[],c=[],l,f=!1,g=-1,m=-1,w,y,C,P=e.charAt(0)===".",x=r.dot||P,L=()=>P?"":x?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",O=K=>K.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",M=()=>{if(l){switch(l){case"*":i+=bl,o=!0;break;case"?":i+=Dl,o=!0;break;default:i+="\\"+l;break}this.debug("clearStateChar %j %j",l,i),l=!1}};for(let K=0,Z;K<e.length&&(Z=e.charAt(K));K++){if(this.debug("%s	%s %s %j",e,K,i,Z),s){if(Z==="/")return!1;Qv[Z]&&(i+="\\"),i+=Z,s=!1;continue}switch(Z){case"/":return!1;case"\\":if(f&&e.charAt(K+1)==="-"){i+=Z;continue}M(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,K,i,Z),f){this.debug("  in class"),Z==="!"&&K===m+1&&(Z="^"),i+=Z;continue}this.debug("call clearStateChar %j",l),M(),l=Z,r.noext&&M();continue;case"(":{if(f){i+="(";continue}if(!l){i+="\\(";continue}let ae={type:l,start:K-1,reStart:i.length,open:Jv[l].open,close:Jv[l].close};this.debug(this.pattern,"	",ae),a.push(ae),i+=ae.open,ae.start===0&&ae.type!=="!"&&(P=!0,i+=O(e.slice(K+1))),this.debug("plType %j %j",l,i),l=!1;continue}case")":{let ae=a[a.length-1];if(f||!ae){i+="\\)";continue}a.pop(),M(),o=!0,y=ae,i+=y.close,y.type==="!"&&c.push(Object.assign(y,{reEnd:i.length}));continue}case"|":{let ae=a[a.length-1];if(f||!ae){i+="\\|";continue}M(),i+="|",ae.start===0&&ae.type!=="!"&&(P=!0,i+=O(e.slice(K+1)));continue}case"[":if(M(),f){i+="\\"+Z;continue}f=!0,m=K,g=i.length,i+=Z;continue;case"]":if(K===m+1||!f){i+="\\"+Z;continue}w=e.substring(m+1,K);try{RegExp("["+eS(Y_(w))+"]"),i+=Z}catch{i=i.substring(0,g)+"(?:$.)"}o=!0,f=!1;continue;default:M(),Qv[Z]&&!(Z==="^"&&f)&&(i+="\\"),i+=Z;break}}for(f&&(w=e.slice(m+1),C=this.parse(w,Cl),i=i.substring(0,g)+"\\["+C[0],o=o||C[1]),y=a.pop();y;y=a.pop()){let K;K=i.slice(y.reStart+y.open.length),this.debug("setting tail",i,y),K=K.replace(/((?:\\{2}){0,64})(\\?)\|/g,(ae,Ze,Ge)=>(Ge||(Ge="\\"),Ze+Ze+Ge+"|")),this.debug(`tail=%j
   %s`,K,K,y,i);let Z=y.type==="*"?bl:y.type==="?"?Dl:"\\"+y.type;o=!0,i=i.slice(0,y.reStart)+Z+"\\("+K}M(),s&&(i+="\\\\");let X=X_[i.charAt(0)];for(let K=c.length-1;K>-1;K--){let Z=c[K],ae=i.slice(0,Z.reStart),Ze=i.slice(Z.reStart,Z.reEnd-8),Ge=i.slice(Z.reEnd),nt=i.slice(Z.reEnd-8,Z.reEnd)+Ge,en=ae.split(")").length,Tt=ae.split("(").length-en,pt=Ge;for(let hn=0;hn<Tt;hn++)pt=pt.replace(/\)[+*?]?/,"");Ge=pt;let gt=Ge===""&&t!==Cl?"(?:$|\\/)":"";i=ae+Ze+Ge+gt+nt}if(i!==""&&o&&(i="(?=.)"+i),X&&(i=L()+i),t===Cl)return[i,o];if(r.nocase&&!o&&(o=e.toUpperCase()!==e.toLowerCase()),!o)return Q_(e);let le=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",le),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,r=t.noglobstar?bl:t.dot?B_:G_,i=t.nocase?"i":"",o=e.map(s=>(s=s.map(a=>typeof a=="string"?Z_(a):a===Dn?Dn:a._src).reduce((a,c)=>(a[a.length-1]===Dn&&c===Dn||a.push(c),a),[]),s.forEach((a,c)=>{a!==Dn||s[c-1]===Dn||(c===0?s.length>1?s[c+1]="(?:\\/|"+r+"\\/)?"+s[c+1]:s[c]=r:c===s.length-1?s[c-1]+="(?:\\/|"+r+")?":(s[c-1]+="(?:\\/|\\/"+r+"\\/)"+s[c+1],s[c+1]=Dn))}),s.filter(a=>a!==Dn).join("/"))).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,i)}catch{this.regexp=!1}return this.regexp}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;let r=this.options;wl.sep!=="/"&&(e=e.split(wl.sep).join("/")),e=e.split(Yv),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let o;for(let s=e.length-1;s>=0&&(o=e[s],!o);s--);for(let s=0;s<i.length;s++){let a=i[s],c=e;if(r.matchBase&&a.length===1&&(c=[o]),this.matchOne(c,a,t))return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}static defaults(e){return Jt.defaults(e).Minimatch}};Jt.Minimatch=Di});var xl=k(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.DiagnosticFeature=Dr.DiagnosticPullMode=Dr.vsdiag=void 0;var tS=js(),he=require("vscode"),Ye=ee(),nS=Ue(),Sl=ye();function $s(n,e){return n[e]===void 0&&(n[e]={}),n[e]}var dn;(function(n){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=n.DocumentDiagnosticReportKind||(n.DocumentDiagnosticReportKind={}))})(dn||(Dr.vsdiag=dn={}));var Hs;(function(n){n.onType="onType",n.onSave="onSave"})(Hs||(Dr.DiagnosticPullMode=Hs={}));var St;(function(n){n.active="open",n.reschedule="reschedule",n.outDated="drop"})(St||(St={}));var Rl=class n{constructor(){this.open=new Set,this._onOpen=new he.EventEmitter,this._onClose=new he.EventEmitter,n.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let r=this.open,i=new Set;n.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of r.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(he.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(he.Uri.parse(c));this._onOpen.fire(a)}};he.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=he.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){var t,r;return e instanceof he.Uri?((t=he.window.activeTextEditor)==null?void 0:t.document.uri)===e:((r=he.window.activeTextEditor)==null?void 0:r.document)===e}isVisible(e){let t=e instanceof he.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){let e=new Set;return n.fillTabResources(new Set,e),e}static fillTabResources(e,t){let r=e??new Set;for(let i of he.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof he.TabInputText?a=s.uri:s instanceof he.TabInputTextDiff?a=s.modified:s instanceof he.TabInputCustom&&(a=s.uri),a!==void 0&&!r.has(a.toString())&&(r.add(a.toString()),t!==void 0&&t.add(a))}}},ct;(function(n){n[n.document=1]="document",n[n.workspace=2]="workspace"})(ct||(ct={}));var Yn;(function(n){function e(t){return t instanceof he.Uri?t.toString():t.uri.toString()}n.asKey=e})(Yn||(Yn={}));var Tl=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,r){let i=e===ct.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof he.Uri?[t.toString(),t,r]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,r,i){let o=e===ct.document?this.documentPullStates:this.workspacePullStates,[s,a,c,l]=t instanceof he.Uri?[t.toString(),t,r,i]:[t.uri.toString(),t.uri,t.version,r],f=o.get(s);f===void 0?(f={document:a,pulledVersion:c,resultId:l},o.set(s,f)):(f.pulledVersion=c,f.resultId=l)}unTrack(e,t){let r=Yn.asKey(t);(e===ct.document?this.documentPullStates:this.workspacePullStates).delete(r)}tracks(e,t){let r=Yn.asKey(t);return(e===ct.document?this.documentPullStates:this.workspacePullStates).has(r)}getResultId(e,t){var o;let r=Yn.asKey(t);return(o=(e===ct.document?this.documentPullStates:this.workspacePullStates).get(r))==null?void 0:o.resultId}getAllResultIds(){let e=[];for(let[t,r]of this.workspacePullStates)this.documentPullStates.has(t)&&(r=this.documentPullStates.get(t)),r.resultId!==void 0&&e.push({uri:t,value:r.resultId});return e}},Pl=class{constructor(e,t,r){this.client=e,this.tabs=t,this.options=r,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new he.EventEmitter,this.provider=this.createProvider(),this.diagnostics=he.languages.createDiagnosticCollection(r.identifier),this.openRequests=new Map,this.documentStates=new Tl,this.workspaceErrorCounter=0}knows(e,t){let r=t instanceof he.Uri?t:t.uri;return this.documentStates.tracks(e,t)||this.openRequests.has(r.toString())}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let r=e instanceof he.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${r.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let r=e instanceof he.Uri,i=r?e:e.uri,o=i.toString();t=r?t:e.version;let s=this.openRequests.get(o),a=r?this.documentStates.track(ct.document,e,t):this.documentStates.track(ct.document,e);if(s===void 0){let c=new he.CancellationTokenSource;this.openRequests.set(o,{state:St.active,document:e,version:t,tokenSource:c});let l,f;try{l=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:dn.DocumentDiagnosticReportKind.full,items:[]}}catch(g){if(g instanceof Sl.LSPCancellationError&&Ye.DiagnosticServerCancellationData.is(g.data)&&g.data.retriggerRequest===!1&&(f={state:St.outDated,document:e}),f===void 0&&g instanceof he.CancellationError)f={state:St.reschedule,document:e};else throw g}if(f=f??this.openRequests.get(o),f===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(ct.document,e);return}if(f.state===St.outDated)return;l!==void 0&&(l.kind===dn.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,l.items),a.pulledVersion=t,a.resultId=l.resultId),f.state===St.reschedule&&this.pull(e)}else s.state===St.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:St.reschedule,document:s.document})):s.state===St.outDated&&this.openRequests.set(o,{state:St.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof he.Uri?e:e.uri,r=t.toString(),i=this.openRequests.get(r);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(r,{state:St.reschedule,document:e}):this.pull(e,()=>{this.forget(ct.document,e)}):(i!==void 0&&(i.state===St.active&&i.tokenSource.cancel(),this.openRequests.set(r,{state:St.outDated,document:e})),this.diagnostics.delete(t),this.forget(ct.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,Ye.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof Sl.LSPCancellationError)&&!Ye.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,Ye.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new he.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let r of t.items)r.kind===dn.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(ct.document,r.uri)||this.diagnostics.set(r.uri,r.items)),this.documentStates.update(ct.workspace,r.uri,r.version??void 0,r.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,r,i)=>{let o=(a,c,l)=>{let f={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof he.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:dn.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(Ye.DocumentDiagnosticRequest.type,f,l).then(async g=>g==null||this.isDisposed||l.isCancellationRequested?{kind:dn.DocumentDiagnosticReportKind.full,items:[]}:g.kind===Ye.DocumentDiagnosticReportKind.Full?{kind:dn.DocumentDiagnosticReportKind.full,resultId:g.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(g.items,l)}:{kind:dn.DocumentDiagnosticReportKind.unChanged,resultId:g.resultId},g=>this.client.handleFailedRequest(Ye.DocumentDiagnosticRequest.type,l,g,{kind:dn.DocumentDiagnosticReportKind.full,items:[]}))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,r,i,o):o(t,r,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,r,i)=>{let o=async l=>l.kind===Ye.DocumentDiagnosticReportKind.Full?{kind:dn.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(l.uri),resultId:l.resultId,version:l.version,items:await this.client.protocol2CodeConverter.asDiagnostics(l.items,r)}:{kind:dn.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(l.uri),resultId:l.resultId,version:l.version},s=l=>{let f=[];for(let g of l)f.push({uri:this.client.code2ProtocolConverter.asUri(g.uri),value:g.value});return f},a=(l,f)=>{let g=(0,nS.generateUuid)(),m=this.client.onProgress(Ye.WorkspaceDiagnosticRequest.partialResult,g,async y=>{if(y==null){i(null);return}let C={items:[]};for(let P of y.items)try{C.items.push(await o(P))}catch(x){this.client.error("Converting workspace diagnostics failed.",x)}i(C)}),w={identifier:this.options.identifier,previousResultIds:s(l),partialResultToken:g};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(Ye.WorkspaceDiagnosticRequest.type,w,f).then(async y=>{if(f.isCancellationRequested)return{items:[]};let C={items:[]};for(let P of y.items)C.items.push(await o(P));return m.dispose(),i(C),{items:[]}},y=>(m.dispose(),this.client.handleFailedRequest(Ye.DocumentDiagnosticRequest.type,f,y,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,r,i,a):a(t,r,i)}),e}dispose(){var e,t;this.isDisposed=!0,(e=this.workspaceCancellation)==null||e.cancel(),(t=this.workspaceTimeout)==null||t.dispose();for(let[r,i]of this.openRequests)i.state===St.active&&i.tokenSource.cancel(),this.openRequests.set(r,{state:St.outDated,document:i.document});this.diagnostics.dispose()}},ql=class{constructor(e){this.diagnosticRequestor=e,this.documents=new Ye.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=Yn.asKey(e);this.documents.has(t)||(this.documents.set(t,e,Ye.Touch.Last),this.trigger())}remove(e){let t=Yn.asKey(e);this.documents.delete(t),this.documents.size===0?this.stop():t===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,Ye.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let t=Yn.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(t,e,Ye.Touch.Last),t===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){var e;(e=this.intervalHandle)==null||e.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?Yn.asKey(this.endDocument):void 0}},kl=class{constructor(e,t,r){var y;let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},o=e.protocol2CodeConverter.asDocumentSelector(r.documentSelector),s=[],a=C=>{let P=r.documentSelector;if(i.match!==void 0)return i.match(P,C);for(let x of P)if(Ye.TextDocumentFilter.is(x)){if(typeof x=="string"||x.language!==void 0&&x.language!=="*"||x.scheme!==void 0&&x.scheme!=="*"&&x.scheme!==C.scheme)return!1;if(x.pattern!==void 0){let L=new tS.Minimatch(x.pattern,{noext:!0});if(!L.makeRe()||!L.match(C.fsPath))return!1}}return!0},c=C=>C instanceof he.Uri?a(C):he.languages.match(o,C)>0&&t.isVisible(C),l=C=>{var P;return C instanceof he.Uri?((P=this.activeTextDocument)==null?void 0:P.uri.toString())===C.toString():this.activeTextDocument===C};this.diagnosticRequestor=new Pl(e,t,r),this.backgroundScheduler=new ql(this.diagnosticRequestor);let f=C=>{!c(C)||!r.interFileDependencies||l(C)||this.backgroundScheduler.add(C)};this.activeTextDocument=(y=he.window.activeTextEditor)==null?void 0:y.document,he.window.onDidChangeActiveTextEditor(C=>{let P=this.activeTextDocument;this.activeTextDocument=C==null?void 0:C.document,P!==void 0&&f(P),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let g=e.getFeature(Ye.DidOpenTextDocumentNotification.method);s.push(g.onNotificationSent(C=>{let P=C.textDocument;this.diagnosticRequestor.knows(ct.document,P)||c(P)&&this.diagnosticRequestor.pull(P,()=>{f(P)})})),s.push(t.onOpen(C=>{for(let P of C){if(this.diagnosticRequestor.knows(ct.document,P))continue;let x=P.toString(),L;for(let O of he.workspace.textDocuments)if(x===O.uri.toString()){L=O;break}L!==void 0&&c(L)&&this.diagnosticRequestor.pull(L,()=>{f(L)})}}));let m=new Set;for(let C of he.workspace.textDocuments)c(C)&&(this.diagnosticRequestor.pull(C,()=>{f(C)}),m.add(C.uri.toString()));if(i.onTabs===!0)for(let C of t.getTabResources())!m.has(C.toString())&&c(C)&&this.diagnosticRequestor.pull(C,()=>{f(C)});if(i.onChange===!0){let C=e.getFeature(Ye.DidChangeTextDocumentNotification.method);s.push(C.onNotificationSent(async P=>{let x=P.textDocument;(i.filter===void 0||!i.filter(x,Hs.onType))&&this.diagnosticRequestor.knows(ct.document,x)&&this.diagnosticRequestor.pull(x,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let C=e.getFeature(Ye.DidSaveTextDocumentNotification.method);s.push(C.onNotificationSent(P=>{let x=P.textDocument;(i.filter===void 0||!i.filter(x,Hs.onSave))&&this.diagnosticRequestor.knows(ct.document,x)&&this.diagnosticRequestor.pull(P.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let w=e.getFeature(Ye.DidCloseTextDocumentNotification.method);s.push(w.onNotificationSent(C=>{this.cleanUpDocument(C.textDocument)})),t.onClose(C=>{for(let P of C)this.cleanUpDocument(P)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let C of he.workspace.textDocuments)c(C)&&this.diagnosticRequestor.pull(C)}),r.workspaceDiagnostics===!0&&r.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=he.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(ct.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},El=class extends Sl.TextDocumentLanguageFeature{constructor(e){super(e,Ye.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=$s($s(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,$s($s(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(Ye.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new Rl);let t=new kl(this._client,this.tabs,e);return[t.disposable,t]}};Dr.DiagnosticFeature=El});var ry=k(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.NotebookDocumentSyncFeature=void 0;var Rt=require("vscode"),rS=js(),Zn=ee(),iS=Ue(),ty=cn();function ny(n,e){return n[e]===void 0&&(n[e]={}),n[e]}var _i;(function(n){let e;(function(t){function r(m,w){return{version:m.version,uri:w.asUri(m.uri)}}t.asVersionedNotebookDocumentIdentifier=r;function i(m,w,y){let C=Zn.NotebookDocument.create(y.asUri(m.uri),m.notebookType,m.version,o(w,y));return Object.keys(m.metadata).length>0&&(C.metadata=s(m.metadata)),C}t.asNotebookDocument=i;function o(m,w){return m.map(y=>a(y,w))}t.asNotebookCells=o;function s(m){return l(new Set,m)}t.asMetadata=s;function a(m,w){let y=Zn.NotebookCell.create(c(m.kind),w.asUri(m.document.uri));return Object.keys(m.metadata).length>0&&(y.metadata=s(m.metadata)),m.executionSummary!==void 0&&ty.number(m.executionSummary.executionOrder)&&ty.boolean(m.executionSummary.success)&&(y.executionSummary={executionOrder:m.executionSummary.executionOrder,success:m.executionSummary.success}),y}t.asNotebookCell=a;function c(m){switch(m){case Rt.NotebookCellKind.Markup:return Zn.NotebookCellKind.Markup;case Rt.NotebookCellKind.Code:return Zn.NotebookCellKind.Code}}function l(m,w){if(m.has(w))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(w)){let y=[];for(let C of w)if(C!==null&&typeof C=="object"||Array.isArray(C))y.push(l(m,C));else{if(C instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");y.push(C)}return y}else{let y=Object.keys(w),C=Object.create(null);for(let P of y){let x=w[P];if(x!==null&&typeof x=="object"||Array.isArray(x))C[P]=l(m,x);else{if(x instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");C[P]=x}}return C}}function f(m,w){let y=w.asChangeTextDocumentParams(m,m.document.uri,m.document.version);return{document:y.textDocument,changes:y.contentChanges}}t.asTextContentChange=f;function g(m,w){let y=Object.create(null);if(m.metadata&&(y.metadata=n.c2p.asMetadata(m.metadata)),m.cells!==void 0){let C=Object.create(null),P=m.cells;P.structure&&(C.structure={array:{start:P.structure.array.start,deleteCount:P.structure.array.deleteCount,cells:P.structure.array.cells!==void 0?P.structure.array.cells.map(x=>n.c2p.asNotebookCell(x,w)):void 0},didOpen:P.structure.didOpen!==void 0?P.structure.didOpen.map(x=>w.asOpenTextDocumentParams(x.document).textDocument):void 0,didClose:P.structure.didClose!==void 0?P.structure.didClose.map(x=>w.asCloseTextDocumentParams(x.document).textDocument):void 0}),P.data!==void 0&&(C.data=P.data.map(x=>n.c2p.asNotebookCell(x,w))),P.textContent!==void 0&&(C.textContent=P.textContent.map(x=>n.c2p.asTextContentChange(x,w))),Object.keys(C).length>0&&(y.cells=C)}return y}t.asNotebookDocumentChangeEvent=g})(e=n.c2p||(n.c2p={}))})(_i||(_i={}));var Il;(function(n){function e(a,c,l){let f=a.length,g=c.length,m=0;for(;m<g&&m<f&&t(a[m],c[m],l);)m++;if(m<g&&m<f){let w=f-1,y=g-1;for(;w>=0&&y>=0&&t(a[w],c[y],l);)w--,y--;let C=w+1-m,P=m===y+1?void 0:c.slice(m,y+1);return P!==void 0?{start:m,deleteCount:C,cells:P}:{start:m,deleteCount:C}}else return m<g?{start:m,deleteCount:0,cells:c.slice(m)}:m<f?{start:m,deleteCount:f-m}:void 0}n.computeDiff=e;function t(a,c,l=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!r(a.executionSummary,c.executionSummary)?!1:!l||l&&o(a.metadata,c.metadata)}function r(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let l=Array.isArray(a),f=Array.isArray(c);if(l!==f)return!1;if(l&&f){if(a.length!==c.length)return!1;for(let g=0;g<a.length;g++)if(!o(a[g],c[g]))return!1}if(s(a)&&s(c)){let g=Object.keys(a),m=Object.keys(c);if(g.length!==m.length||(g.sort(),m.sort(),!o(g,m)))return!1;for(let w=0;w<g.length;w++){let y=g[w];if(!o(a[y],c[y]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}n.isObjectLiteral=s})(Il||(Il={}));var Fl;(function(n){function e(t,r){if(typeof t=="string")return t==="*"||r.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&r.notebookType!==t.notebookType)return!1;let i=r.uri;if(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme)return!1;if(t.pattern!==void 0){let o=new rS.Minimatch(t.pattern,{noext:!0});if(!o.makeRe()||!o.match(i.fsPath))return!1}return!0}n.matchNotebook=e})(Fl||(Fl={}));var Us;(function(n){function e(r){var s,a,c;let i=r.notebookSelector,o=[];for(let l of i){let f=(typeof l.notebook=="string"?l.notebook:(s=l.notebook)==null?void 0:s.notebookType)??"*",g=typeof l.notebook=="string"||(a=l.notebook)==null?void 0:a.scheme,m=typeof l.notebook=="string"||(c=l.notebook)==null?void 0:c.pattern;if(l.cells!==void 0)for(let w of l.cells)o.push(t(f,g,m,w.language));else o.push(t(f,g,m,void 0))}return o}n.asDocumentSelector=e;function t(r,i,o,s){return i===void 0&&o===void 0?{notebook:r,language:s}:{notebook:{notebookType:r,scheme:i,pattern:o},language:s}}})(Us||(Us={}));var Ws;(function(n){function e(t){return{cells:t,uris:new Set(t.map(r=>r.document.uri.toString()))}}n.create=e})(Ws||(Ws={}));var Si=class{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(Us.asDocumentSelector(t)),Rt.workspace.onDidOpenNotebookDocument(r=>{this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r)},void 0,this.disposables);for(let r of Rt.workspace.notebookDocuments)this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r);Rt.workspace.onDidChangeNotebookDocument(r=>this.didChangeNotebookDocument(r),void 0,this.disposables),this.options.save===!0&&Rt.workspace.onDidSaveNotebookDocument(r=>this.didSave(r),void 0,this.disposables),Rt.workspace.onDidCloseNotebookDocument(r=>{this.didClose(r),this.notebookDidOpen.delete(r.uri.toString())},void 0,this.disposables)}getState(){for(let e of Rt.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return Rt.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(Rt.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let r=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,t);if(r!==void 0){let o=r.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.getMatchingCells(e);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,r,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t){Rt.languages.match(this.selector,t.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let r=this.notebookSyncInfo.get(e.uri.toString());if(r===void 0)return;let i=t.document.uri,o=r.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&r.cells.length===1)this.doSendClose(e,r.cells).catch(()=>{});else{let s=r.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),r=this.notebookSyncInfo.get(e.uri.toString())){if(r!==void 0)if(t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,r,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,r=this.notebookSyncInfo.get(t.uri.toString());if(r===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,r)}else{let i=this.getMatchingCells(t);if(i===void 0){this.didClose(t,r);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,r,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(t===void 0)return;let r=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,r).catch(()=>{})}async sendDidOpenNotebookDocument(e){let t=this.getMatchingCells(e);if(t!==void 0)return this.doSendOpen(e,t)}async doSendOpen(e,t){var o;let r=async(s,a)=>{let c=_i.c2p.asNotebookDocument(s,a,this.client.code2ProtocolConverter),l=a.map(f=>this.client.code2ProtocolConverter.asTextDocumentItem(f.document));try{await this.client.sendNotification(Zn.DidOpenNotebookDocumentNotification.type,{notebookDocument:c,cellTextDocuments:l})}catch(f){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",f),f}},i=(o=this.client.middleware)==null?void 0:o.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),Ws.create(t)),(i==null?void 0:i.didOpen)!==void 0?i.didOpen(e,t,r):r(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){var o,s;let r=async a=>{try{await this.client.sendNotification(Zn.DidChangeNotebookDocumentNotification.type,{notebookDocument:_i.c2p.asVersionedNotebookDocumentIdentifier(a.notebook,this.client.code2ProtocolConverter),change:_i.c2p.asNotebookDocumentChangeEvent(a,this.client.code2ProtocolConverter)})}catch(c){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",c),c}},i=(o=this.client.middleware)==null?void 0:o.notebooks;return((s=e.cells)==null?void 0:s.structure)!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),Ws.create(t??[])),(i==null?void 0:i.didChange)!==void 0?i==null?void 0:i.didChange(e,r):r(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){var i;let t=async o=>{try{await this.client.sendNotification(Zn.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)}})}catch(s){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",s),s}},r=(i=this.client.middleware)==null?void 0:i.notebooks;return(r==null?void 0:r.didSave)!==void 0?r.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){var o;let r=async(s,a)=>{try{await this.client.sendNotification(Zn.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(s.uri)},cellTextDocuments:a.map(c=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(c.document))})}catch(c){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",c),c}},i=(o=this.client.middleware)==null?void 0:o.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),(i==null?void 0:i.didClose)!==void 0?i.didClose(e,t,r):r(e,t)}asNotebookDocumentChangeEvent(e,t,r,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};(t==null?void 0:t.metadata)!==void 0&&(o.metadata=_i.c2p.asMetadata(t.metadata));let s;if((t==null?void 0:t.cellChanges)!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if(((t==null?void 0:t.contentChanges)!==void 0&&t.contentChanges.length>0||t===void 0)&&r!==void 0&&i!==void 0){let a=r.cells,c=i,l=Il.computeDiff(a,c,!1),f,g;if(l!==void 0){f=l.cells===void 0?new Map:new Map(l.cells.map(y=>[y.document.uri.toString(),y])),g=l.deleteCount===0?new Map:new Map(a.slice(l.start,l.start+l.deleteCount).map(y=>[y.document.uri.toString(),y]));for(let y of Array.from(g.keys()))f.has(y)&&(g.delete(y),f.delete(y));o.cells=o.cells??{};let m=[],w=[];if(f.size>0||g.size>0){for(let y of f.values())m.push(y);for(let y of g.values())w.push(y)}o.cells.structure={array:l,didOpen:m,didClose:w}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let r of this.options.notebookSelector)if(r.notebook===void 0||Fl.matchNotebook(r.notebook,e)){let i=this.filterCells(e,t,r.cells);return i.length===0?void 0:i}}}cellMatches(e,t){let r=this.getMatchingCells(e,[t]);return r!==void 0&&r[0]===t}filterCells(e,t,r){var o;let i=r!==void 0?t.filter(s=>{let a=s.document.languageId;return r.some(c=>c.language==="*"||a===c.language)}):t;return typeof((o=this.client.clientOptions.notebookDocumentOptions)==null?void 0:o.filterCells)=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},zs=class n{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Zn.NotebookDocumentSyncRegistrationType.type,Rt.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==n.CellScheme)return;let[r,i]=this.findNotebookDocumentAndCell(t);if(!(r===void 0||i===void 0))for(let o of this.registrations.values())o instanceof Si&&o.didOpenNotebookCellTextDocument(r,i)}),Rt.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let r=t.document;if(r.uri.scheme!==n.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(r);if(i!==void 0)for(let o of this.registrations.values())o instanceof Si&&o.didChangeNotebookCellTextDocument(i,t)}),Rt.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==n.CellScheme)return;let[r,i]=this.findNotebookDocumentAndCell(t);if(!(r===void 0||i===void 0))for(let o of this.registrations.values())o instanceof Si&&o.didCloseNotebookCellTextDocument(r,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let t=ny(ny(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(Us.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let r=t.id??iS.generateUuid();this.register({id:r,registerOptions:t})}register(e){let t=new Si(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t&&t.dispose()}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==n.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&Rt.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let r of Rt.workspace.notebookDocuments)for(let i of r.getCells())if(i.document.uri.toString()===t)return[r,i];return[void 0,void 0]}};Ks.NotebookDocumentSyncFeature=zs;zs.CellScheme="vscode-notebook-cell"});var oy=k(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.SyncConfigurationFeature=_r.toJSONObject=_r.ConfigurationFeature=void 0;var Ri=require("vscode"),oo=ee(),oS=cn(),sS=Ue(),iy=ye(),Ol=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(oo.ConfigurationRequest.type,(t,r)=>{let i=s=>{let a=[];for(let c of s.items){let l=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(l,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,r,i):i(t,r)})}getConfiguration(e,t){let r=null;if(t){let i=t.lastIndexOf(".");if(i===-1)r=jr(Ri.workspace.getConfiguration(void 0,e).get(t));else{let o=Ri.workspace.getConfiguration(t.substr(0,i),e);o&&(r=jr(o.get(t.substr(i+1))))}}else{let i=Ri.workspace.getConfiguration(void 0,e);r={};for(let o of Object.keys(i))i.has(o)&&(r[o]=jr(i.get(o)))}return r===void 0&&(r=null),r}clear(){}};_r.ConfigurationFeature=Ol;function jr(n){if(n){if(Array.isArray(n))return n.map(jr);if(typeof n=="object"){let e=Object.create(null);for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=jr(n[t]));return e}}return n}_r.toJSONObject=jr;var Nl=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return oo.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,iy.ensure)((0,iy.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){var t;this.isCleared=!1;let e=(t=this._client.clientOptions.synchronize)==null?void 0:t.configurationSection;e!==void 0&&this.register({id:sS.generateUuid(),registerOptions:{section:e}})}register(e){let t=Ri.workspace.onDidChangeConfiguration(r=>{this.onDidChangeConfiguration(e.registerOptions.section,r)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,t){var s;if(this.isCleared)return;let r;if(oS.string(e)?r=[e]:r=e,r!==void 0&&t!==void 0&&!r.some(c=>t.affectsConfiguration(c)))return;let i=async a=>a===void 0?this._client.sendNotification(oo.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(oo.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(a)}),o=(s=this._client.middleware.workspace)==null?void 0:s.didChangeConfiguration;(o?o(r,i):i(r)).catch(a=>{this._client.error(`Sending notification ${oo.DidChangeConfigurationNotification.type.method} failed`,a)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let l=a[s[c]];l||(l=Object.create(null),a[s[c]]=l),a=l}return a}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=Ri.workspace.getConfiguration(s.substr(0,a),r).get(s.substr(a+1)):c=Ri.workspace.getConfiguration(void 0,r).get(s),c){let l=e[o].split(".");t(i,l)[l[l.length-1]]=jr(c)}}return i}};_r.SyncConfigurationFeature=Nl});var sy=k(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.DidSaveTextDocumentFeature=Ut.WillSaveWaitUntilFeature=Ut.WillSaveFeature=Ut.DidChangeTextDocumentFeature=Ut.DidCloseTextDocumentFeature=Ut.DidOpenTextDocumentFeature=void 0;var Qt=require("vscode"),Oe=ee(),Ke=ye(),Ti=Ue(),Ll=class extends Ke.TextDocumentEventFeature{constructor(e,t){super(e,Qt.workspace.onDidOpenTextDocument,Oe.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),r=>r,Ke.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Ke.ensure)((0,Ke.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.openClose&&this.register({id:Ti.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return Oe.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);Qt.workspace.textDocuments.forEach(r=>{let i=r.uri.toString();if(!this._syncedDocuments.has(i)&&Qt.languages.match(t,r)>0&&!this._client.hasDedicatedTextSynchronizationFeature(r)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));(o.didOpen?o.didOpen(r,s):s(r)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,r)}})}getTextDocument(e){return e}notificationSent(e,t,r){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,t,r)}};Ut.DidOpenTextDocumentFeature=Ll;var Al=class extends Ke.TextDocumentEventFeature{constructor(e,t,r){super(e,Qt.workspace.onDidCloseTextDocument,Oe.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,Ke.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingTextDocumentChanges=r}get registrationType(){return Oe.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Ke.ensure)((0,Ke.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.openClose&&this.register({id:Ti.generateUuid(),registerOptions:{documentSelector:t}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,t,r){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,t,r)}unregister(e){let t=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(i=>{if(Qt.languages.match(t,i)>0&&!this._selectorFilter(r,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};Ut.DidCloseTextDocumentFeature=Al;var Ml=class extends Ke.DynamicDocumentFeature{constructor(e,t){super(e),this._changeData=new Map,this._onNotificationSent=new Qt.EventEmitter,this._onPendingChangeAdded=new Qt.EventEmitter,this._pendingTextDocumentChanges=t,this._syncKind=Oe.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return Oe.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Ke.ensure)((0,Ke.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.change!==void 0&&r.change!==Oe.TextDocumentSyncKind.None&&this.register({id:Ti.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:r.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Qt.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=e.document.uri,r=e.document.version,i=[];for(let o of this._changeData.values())if(Qt.languages.match(o.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let s=this._client.middleware;if(o.syncKind===Oe.TextDocumentSyncKind.Incremental){let a=async c=>{let l=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,t,r);await this._client.sendNotification(Oe.DidChangeTextDocumentNotification.type,l),this.notificationSent(c.document,Oe.DidChangeTextDocumentNotification.type,l)};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}else if(o.syncKind===Oe.TextDocumentSyncKind.Full){let a=async c=>{let l=c.document.uri.toString();this._pendingTextDocumentChanges.set(l,c.document),this._onPendingChangeAdded.fire()};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}}return Promise.all(i).then(void 0,o=>{throw this._client.error(`Sending document notification ${Oe.DidChangeTextDocumentNotification.type.method} failed`,o),o})}notificationSent(e,t,r){this._onNotificationSent.fire({textDocument:e,type:t,params:r})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=Oe.TextDocumentSyncKind.None;else{this._syncKind=Oe.TextDocumentSyncKind.None;for(let t of this._changeData.values())if(this.updateSyncKind(t.syncKind),this._syncKind===Oe.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=Oe.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let t;if(e.size===0)t=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{t=[];for(let r of this._pendingTextDocumentChanges)e.has(r[0])||(t.push(r[1]),this._pendingTextDocumentChanges.delete(r[0]))}return t}getProvider(e){for(let t of this._changeData.values())if(Qt.languages.match(t.documentSelector,e)>0)return{send:r=>this.callback(r)}}updateSyncKind(e){if(this._syncKind!==Oe.TextDocumentSyncKind.Full)switch(e){case Oe.TextDocumentSyncKind.Full:this._syncKind=e;break;case Oe.TextDocumentSyncKind.Incremental:this._syncKind===Oe.TextDocumentSyncKind.None&&(this._syncKind=Oe.TextDocumentSyncKind.Incremental);break}}};Ut.DidChangeTextDocumentFeature=Ml;var jl=class extends Ke.TextDocumentEventFeature{constructor(e){super(e,Qt.workspace.onWillSaveTextDocument,Oe.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,r)=>Ke.TextDocumentEventFeature.textDocumentFilter(t,r.document))}get registrationType(){return Oe.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,Ke.ensure)((0,Ke.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.willSave&&this.register({id:Ti.generateUuid(),registerOptions:{documentSelector:t}})}getTextDocument(e){return e.document}};Ut.WillSaveFeature=jl;var $l=class extends Ke.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return Oe.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,Ke.ensure)((0,Ke.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.willSaveWaitUntil&&this.register({id:Ti.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Qt.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Ke.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,r=i=>this._client.sendRequest(Oe.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};Ut.WillSaveWaitUntilFeature=$l;var Hl=class extends Ke.TextDocumentEventFeature{constructor(e){super(e,Qt.workspace.onDidSaveTextDocument,Oe.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,Ke.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return Oe.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Ke.ensure)((0,Ke.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;if(t&&r&&r.save){let i=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:Ti.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};Ut.DidSaveTextDocumentFeature=Hl});var ay=k(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.CompletionItemFeature=void 0;var aS=require("vscode"),pe=ee(),Ul=ye(),cS=Ue(),uS=[pe.CompletionItemKind.Text,pe.CompletionItemKind.Method,pe.CompletionItemKind.Function,pe.CompletionItemKind.Constructor,pe.CompletionItemKind.Field,pe.CompletionItemKind.Variable,pe.CompletionItemKind.Class,pe.CompletionItemKind.Interface,pe.CompletionItemKind.Module,pe.CompletionItemKind.Property,pe.CompletionItemKind.Unit,pe.CompletionItemKind.Value,pe.CompletionItemKind.Enum,pe.CompletionItemKind.Keyword,pe.CompletionItemKind.Snippet,pe.CompletionItemKind.Color,pe.CompletionItemKind.File,pe.CompletionItemKind.Reference,pe.CompletionItemKind.Folder,pe.CompletionItemKind.EnumMember,pe.CompletionItemKind.Constant,pe.CompletionItemKind.Struct,pe.CompletionItemKind.Event,pe.CompletionItemKind.Operator,pe.CompletionItemKind.TypeParameter],Wl=class extends Ul.TextDocumentLanguageFeature{constructor(e){super(e,pe.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,Ul.ensure)((0,Ul.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[pe.MarkupKind.Markdown,pe.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[pe.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[pe.InsertTextMode.asIs,pe.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=pe.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:uS},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,t){let r=this.getRegistrationOptions(t,e.completionProvider);r&&this.register({id:cS.generateUuid(),registerOptions:r})}registerLanguageProvider(e,t){var a;this.labelDetailsSupport.set(t,!!((a=e.completionItem)!=null&&a.labelDetailsSupport));let r=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(c,l,f,g)=>{let m=this._client,w=this._client.middleware,y=(C,P,x,L)=>m.sendRequest(pe.CompletionRequest.type,m.code2ProtocolConverter.asCompletionParams(C,P,x),L).then(O=>L.isCancellationRequested?null:m.protocol2CodeConverter.asCompletionResult(O,i,L),O=>m.handleFailedRequest(pe.CompletionRequest.type,L,O,null));return w.provideCompletionItem?w.provideCompletionItem(c,l,g,f,y):y(c,l,g,f)},resolveCompletionItem:e.resolveProvider?(c,l)=>{let f=this._client,g=this._client.middleware,m=(w,y)=>f.sendRequest(pe.CompletionResolveRequest.type,f.code2ProtocolConverter.asCompletionItem(w,!!this.labelDetailsSupport.get(t)),y).then(C=>y.isCancellationRequested?null:f.protocol2CodeConverter.asCompletionItem(C),C=>f.handleFailedRequest(pe.CompletionResolveRequest.type,y,C,w));return g.resolveCompletionItem?g.resolveCompletionItem(c,l,m):m(c,l)}:void 0};return[aS.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...r),s]}};Vs.CompletionItemFeature=Wl});var cy=k(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.HoverFeature=void 0;var lS=require("vscode"),so=ee(),zl=ye(),dS=Ue(),Kl=class extends zl.TextDocumentLanguageFeature{constructor(e){super(e,so.HoverRequest.type)}fillClientCapabilities(e){let t=(0,zl.ensure)((0,zl.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[so.MarkupKind.Markdown,so.MarkupKind.PlainText]}initialize(e,t){let r=this.getRegistrationOptions(t,e.hoverProvider);r&&this.register({id:dS.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideHover:(i,o,s)=>{let a=this._client,c=(f,g,m)=>a.sendRequest(so.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),m).then(w=>m.isCancellationRequested?null:a.protocol2CodeConverter.asHover(w),w=>a.handleFailedRequest(so.HoverRequest.type,m,w,null)),l=a.middleware;return l.provideHover?l.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return lS.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Bs.HoverFeature=Kl});var uy=k(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.DefinitionFeature=void 0;var fS=require("vscode"),Vl=ee(),Bl=ye(),hS=Ue(),Gl=class extends Bl.TextDocumentLanguageFeature{constructor(e){super(e,Vl.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,Bl.ensure)((0,Bl.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.definitionProvider);r&&this.register({id:hS.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDefinition:(i,o,s)=>{let a=this._client,c=(f,g,m)=>a.sendRequest(Vl.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),m).then(w=>m.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(w,m),w=>a.handleFailedRequest(Vl.DefinitionRequest.type,m,w,null)),l=a.middleware;return l.provideDefinition?l.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return fS.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Gs.DefinitionFeature=Gl});var dy=k(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.SignatureHelpFeature=void 0;var ly=require("vscode"),ao=ee(),Xl=ye(),pS=Ue(),Jl=class extends Xl.TextDocumentLanguageFeature{constructor(e){super(e,ao.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,Xl.ensure)((0,Xl.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[ao.MarkupKind.Markdown,ao.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.signatureHelpProvider);r&&this.register({id:pS.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t={provideSignatureHelp:(r,i,o,s)=>{let a=this._client,c=(f,g,m,w)=>a.sendRequest(ao.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(f,g,m),w).then(y=>w.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(y,w),y=>a.handleFailedRequest(ao.SignatureHelpRequest.type,w,y,null)),l=a.middleware;return l.provideSignatureHelp?l.provideSignatureHelp(r,i,s,o,c):c(r,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let r=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return ly.languages.registerSignatureHelpProvider(r,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return ly.languages.registerSignatureHelpProvider(r,t,i)}}};Xs.SignatureHelpFeature=Jl});var fy=k(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.DocumentHighlightFeature=void 0;var gS=require("vscode"),Ql=ee(),Yl=ye(),mS=Ue(),Zl=class extends Yl.TextDocumentLanguageFeature{constructor(e){super(e,Ql.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,Yl.ensure)((0,Yl.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentHighlightProvider);r&&this.register({id:mS.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(f,g,m)=>a.sendRequest(Ql.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),m).then(w=>m.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(w,m),w=>a.handleFailedRequest(Ql.DocumentHighlightRequest.type,m,w,null)),l=a.middleware;return l.provideDocumentHighlights?l.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[gS.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};Js.DocumentHighlightFeature=Zl});var nd=k(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.DocumentSymbolFeature=Un.SupportedSymbolTags=Un.SupportedSymbolKinds=void 0;var vS=require("vscode"),Re=ee(),ed=ye(),yS=Ue();Un.SupportedSymbolKinds=[Re.SymbolKind.File,Re.SymbolKind.Module,Re.SymbolKind.Namespace,Re.SymbolKind.Package,Re.SymbolKind.Class,Re.SymbolKind.Method,Re.SymbolKind.Property,Re.SymbolKind.Field,Re.SymbolKind.Constructor,Re.SymbolKind.Enum,Re.SymbolKind.Interface,Re.SymbolKind.Function,Re.SymbolKind.Variable,Re.SymbolKind.Constant,Re.SymbolKind.String,Re.SymbolKind.Number,Re.SymbolKind.Boolean,Re.SymbolKind.Array,Re.SymbolKind.Object,Re.SymbolKind.Key,Re.SymbolKind.Null,Re.SymbolKind.EnumMember,Re.SymbolKind.Struct,Re.SymbolKind.Event,Re.SymbolKind.Operator,Re.SymbolKind.TypeParameter];Un.SupportedSymbolTags=[Re.SymbolTag.Deprecated];var td=class extends ed.TextDocumentLanguageFeature{constructor(e){super(e,Re.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,ed.ensure)((0,ed.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Un.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:Un.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentSymbolProvider);r&&this.register({id:yS.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentSymbols:(o,s)=>{let a=this._client,c=async(f,g)=>{try{let m=await a.sendRequest(Re.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(f),g);if(g.isCancellationRequested||m===void 0||m===null)return null;if(m.length===0)return[];{let w=m[0];return Re.DocumentSymbol.is(w)?await a.protocol2CodeConverter.asDocumentSymbols(m,g):await a.protocol2CodeConverter.asSymbolInformations(m,g)}}catch(m){return a.handleFailedRequest(Re.DocumentSymbolRequest.type,g,m,null)}},l=a.middleware;return l.provideDocumentSymbols?l.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[vS.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r,i),r]}};Un.DocumentSymbolFeature=td});var py=k(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.WorkspaceSymbolFeature=void 0;var bS=require("vscode"),co=ee(),rd=ye(),hy=nd(),CS=Ue(),id=class extends rd.WorkspaceFeature{constructor(e){super(e,co.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,rd.ensure)((0,rd.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:hy.SupportedSymbolKinds},t.tagSupport={valueSet:hy.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:CS.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(r,i)=>{let o=this._client,s=(c,l)=>o.sendRequest(co.WorkspaceSymbolRequest.type,{query:c},l).then(f=>l.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(f,l),f=>o.handleFailedRequest(co.WorkspaceSymbolRequest.type,l,f,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(r,i,s):s(r,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(r,i)=>{let o=this._client,s=(c,l)=>o.sendRequest(co.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),l).then(f=>l.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(f),f=>o.handleFailedRequest(co.WorkspaceSymbolResolveRequest.type,l,f,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(r,i,s):s(r,i)}:void 0};return[bS.languages.registerWorkspaceSymbolProvider(t),t]}};Qs.WorkspaceSymbolFeature=id});var gy=k(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.ReferencesFeature=void 0;var wS=require("vscode"),od=ee(),sd=ye(),DS=Ue(),ad=class extends sd.TextDocumentLanguageFeature{constructor(e){super(e,od.ReferencesRequest.type)}fillClientCapabilities(e){(0,sd.ensure)((0,sd.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.referencesProvider);r&&this.register({id:DS.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideReferences:(i,o,s,a)=>{let c=this._client,l=(g,m,w,y)=>c.sendRequest(od.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(g,m,w),y).then(C=>y.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(C,y),C=>c.handleFailedRequest(od.ReferencesRequest.type,y,C,null)),f=c.middleware;return f.provideReferences?f.provideReferences(i,o,s,a,l):l(i,o,s,a)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return wS.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Ys.ReferencesFeature=ad});var my=k(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.CodeActionFeature=void 0;var _S=require("vscode"),Yt=ee(),SS=Ue(),cd=ye(),ud=class extends cd.TextDocumentLanguageFeature{constructor(e){super(e,Yt.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,cd.ensure)((0,cd.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[Yt.CodeActionKind.Empty,Yt.CodeActionKind.QuickFix,Yt.CodeActionKind.Refactor,Yt.CodeActionKind.RefactorExtract,Yt.CodeActionKind.RefactorInline,Yt.CodeActionKind.RefactorRewrite,Yt.CodeActionKind.Source,Yt.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.codeActionProvider);r&&this.register({id:SS.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideCodeActions:(i,o,s,a)=>{let c=this._client,l=async(g,m,w,y)=>{let C={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(m),context:c.code2ProtocolConverter.asCodeActionContextSync(w)};return c.sendRequest(Yt.CodeActionRequest.type,C,y).then(P=>y.isCancellationRequested||P===null||P===void 0?null:c.protocol2CodeConverter.asCodeActionResult(P,y),P=>c.handleFailedRequest(Yt.CodeActionRequest.type,y,P,null))},f=c.middleware;return f.provideCodeActions?f.provideCodeActions(i,o,s,a,l):l(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(l,f)=>s.sendRequest(Yt.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeActionSync(l),f).then(g=>f.isCancellationRequested?l:s.protocol2CodeConverter.asCodeAction(g,f),g=>s.handleFailedRequest(Yt.CodeActionResolveRequest.type,f,g,l));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[_S.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),r]}};Zs.CodeActionFeature=ud});var yy=k(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.CodeLensFeature=void 0;var vy=require("vscode"),Pi=ee(),RS=Ue(),uo=ye(),ld=class extends uo.TextDocumentLanguageFeature{constructor(e){super(e,Pi.CodeLensRequest.type)}fillClientCapabilities(e){(0,uo.ensure)((0,uo.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,uo.ensure)((0,uo.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Pi.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:RS.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r=new vy.EventEmitter,i={onDidChangeCodeLenses:r.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(f,g)=>a.sendRequest(Pi.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(f),g).then(m=>g.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(m,g),m=>a.handleFailedRequest(Pi.CodeLensRequest.type,g,m,null)),l=a.middleware;return l.provideCodeLenses?l.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(f,g)=>a.sendRequest(Pi.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(f),g).then(m=>g.isCancellationRequested?f:a.protocol2CodeConverter.asCodeLens(m),m=>a.handleFailedRequest(Pi.CodeLensResolveRequest.type,g,m,f)),l=a.middleware;return l.resolveCodeLens?l.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[vy.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:r}]}};ea.CodeLensFeature=ld});var by=k(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.DocumentOnTypeFormattingFeature=Sr.DocumentRangeFormattingFeature=Sr.DocumentFormattingFeature=void 0;var ta=require("vscode"),_n=ee(),pd=Ue(),er=ye(),qi;(function(n){function e(t){let r=ta.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:r.get("trimTrailingWhitespace"),trimFinalNewlines:r.get("trimFinalNewlines"),insertFinalNewline:r.get("insertFinalNewline")}}n.fromConfiguration=e})(qi||(qi={}));var dd=class extends er.TextDocumentLanguageFeature{constructor(e){super(e,_n.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,er.ensure)((0,er.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentFormattingProvider);r&&this.register({id:pd.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(f,g,m)=>{let w={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),options:a.code2ProtocolConverter.asFormattingOptions(g,qi.fromConfiguration(f))};return a.sendRequest(_n.DocumentFormattingRequest.type,w,m).then(y=>m.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(y,m),y=>a.handleFailedRequest(_n.DocumentFormattingRequest.type,m,y,null))},l=a.middleware;return l.provideDocumentFormattingEdits?l.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[ta.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};Sr.DocumentFormattingFeature=dd;var fd=class extends er.TextDocumentLanguageFeature{constructor(e){super(e,_n.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let t=(0,er.ensure)((0,er.ensure)(e,"textDocument"),"rangeFormatting");t.dynamicRegistration=!0,t.rangesSupport=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);r&&this.register({id:pd.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,l=(g,m,w,y)=>{let C={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(m),options:c.code2ProtocolConverter.asFormattingOptions(w,qi.fromConfiguration(g))};return c.sendRequest(_n.DocumentRangeFormattingRequest.type,C,y).then(P=>y.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(P,y),P=>c.handleFailedRequest(_n.DocumentRangeFormattingRequest.type,y,P,null))},f=c.middleware;return f.provideDocumentRangeFormattingEdits?f.provideDocumentRangeFormattingEdits(i,o,s,a,l):l(i,o,s,a)}};return e.rangesSupport&&(r.provideDocumentRangesFormattingEdits=(i,o,s,a)=>{let c=this._client,l=(g,m,w,y)=>{let C={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),ranges:c.code2ProtocolConverter.asRanges(m),options:c.code2ProtocolConverter.asFormattingOptions(w,qi.fromConfiguration(g))};return c.sendRequest(_n.DocumentRangesFormattingRequest.type,C,y).then(P=>y.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(P,y),P=>c.handleFailedRequest(_n.DocumentRangesFormattingRequest.type,y,P,null))},f=c.middleware;return f.provideDocumentRangesFormattingEdits?f.provideDocumentRangesFormattingEdits(i,o,s,a,l):l(i,o,s,a)}),[ta.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};Sr.DocumentRangeFormattingFeature=fd;var hd=class extends er.TextDocumentLanguageFeature{constructor(e){super(e,_n.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,er.ensure)((0,er.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);r&&this.register({id:pd.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideOnTypeFormattingEdits:(o,s,a,c,l)=>{let f=this._client,g=(w,y,C,P,x)=>{let L={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(w),position:f.code2ProtocolConverter.asPosition(y),ch:C,options:f.code2ProtocolConverter.asFormattingOptions(P,qi.fromConfiguration(w))};return f.sendRequest(_n.DocumentOnTypeFormattingRequest.type,L,x).then(O=>x.isCancellationRequested?null:f.protocol2CodeConverter.asTextEdits(O,x),O=>f.handleFailedRequest(_n.DocumentOnTypeFormattingRequest.type,x,O,null))},m=f.middleware;return m.provideOnTypeFormattingEdits?m.provideOnTypeFormattingEdits(o,s,a,c,l,g):g(o,s,a,c,l)}},i=e.moreTriggerCharacter||[];return[ta.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r,e.firstTriggerCharacter,...i),r]}};Sr.DocumentOnTypeFormattingFeature=hd});var wy=k(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.RenameFeature=void 0;var TS=require("vscode"),$r=ee(),PS=Ue(),Cy=cn(),gd=ye(),md=class extends gd.TextDocumentLanguageFeature{constructor(e){super(e,$r.RenameRequest.type)}fillClientCapabilities(e){let t=(0,gd.ensure)((0,gd.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=$r.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.renameProvider);r&&(Cy.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:PS.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){let t=e.documentSelector,r={provideRenameEdits:(i,o,s,a)=>{let c=this._client,l=(g,m,w,y)=>{let C={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),position:c.code2ProtocolConverter.asPosition(m),newName:w};return c.sendRequest($r.RenameRequest.type,C,y).then(P=>y.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(P,y),P=>c.handleFailedRequest($r.RenameRequest.type,y,P,null,!1))},f=c.middleware;return f.provideRenameEdits?f.provideRenameEdits(i,o,s,a,l):l(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(f,g,m)=>{let w={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),position:a.code2ProtocolConverter.asPosition(g)};return a.sendRequest($r.PrepareRenameRequest.type,w,m).then(y=>m.isCancellationRequested?null:$r.Range.is(y)?a.protocol2CodeConverter.asRange(y):this.isDefaultBehavior(y)?y.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):y&&$r.Range.is(y.range)?{range:a.protocol2CodeConverter.asRange(y.range),placeholder:y.placeholder}:Promise.reject(new Error("The element can't be renamed.")),y=>{throw typeof y.message=="string"?new Error(y.message):new Error("The element can't be renamed.")})},l=a.middleware;return l.prepareRename?l.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,r),r]}registerProvider(e,t){return TS.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&Cy.boolean(t.defaultBehavior)}};na.RenameFeature=md});var Dy=k(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.DocumentLinkFeature=void 0;var qS=require("vscode"),lo=ee(),vd=ye(),kS=Ue(),yd=class extends vd.TextDocumentLanguageFeature{constructor(e){super(e,lo.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,vd.ensure)((0,vd.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentLinkProvider);r&&this.register({id:kS.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentLinks:(i,o)=>{let s=this._client,a=(l,f)=>s.sendRequest(lo.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(l),f).then(g=>f.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(g,f),g=>s.handleFailedRequest(lo.DocumentLinkRequest.type,f,g,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(l,f)=>s.sendRequest(lo.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(l),f).then(g=>f.isCancellationRequested?l:s.protocol2CodeConverter.asDocumentLink(g),g=>s.handleFailedRequest(lo.DocumentLinkResolveRequest.type,f,g,l)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[qS.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};ra.DocumentLinkFeature=yd});var Sy=k(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.ExecuteCommandFeature=void 0;var ES=require("vscode"),bd=ee(),xS=Ue(),_y=ye(),Cd=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return bd.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,_y.ensure)((0,_y.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:xS.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,r=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest(bd.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(bd.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(ES.commands.registerCommand(s,(...a)=>r.executeCommand?r.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(r=>r.dispose())}clear(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};ia.ExecuteCommandFeature=Cd});var Ry=k(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.FileSystemWatcherFeature=void 0;var IS=require("vscode"),Hr=ee(),oa=ye(),wd=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return Hr.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,oa.ensure)((0,oa.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,oa.ensure)((0,oa.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let r of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(r.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;r.kind!==void 0&&r.kind!==null&&(o=(r.kind&Hr.WatchKind.Create)!==0,s=(r.kind&Hr.WatchKind.Change)!==0,a=(r.kind&Hr.WatchKind.Delete)!==0);let c=IS.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let r=[];for(let i of t)this.hookListeners(i,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,t,r,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:Hr.FileChangeType.Created}),null,o),r&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:Hr.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:Hr.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let r of t)r.dispose()}clear(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};sa.FileSystemWatcherFeature=wd});var Ty=k(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.ColorProviderFeature=void 0;var FS=require("vscode"),fo=ee(),Dd=ye(),_d=class extends Dd.TextDocumentLanguageFeature{constructor(e){super(e,fo.DocumentColorRequest.type)}fillClientCapabilities(e){(0,Dd.ensure)((0,Dd.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.colorProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(f,g,m)=>{let w={color:f,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(g.document),range:a.code2ProtocolConverter.asRange(g.range)};return a.sendRequest(fo.ColorPresentationRequest.type,w,m).then(y=>m.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(y,m),y=>a.handleFailedRequest(fo.ColorPresentationRequest.type,m,y,null))},l=a.middleware;return l.provideColorPresentations?l.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(l,f)=>{let g={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(l)};return s.sendRequest(fo.DocumentColorRequest.type,g,f).then(m=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(m,f),m=>s.handleFailedRequest(fo.DocumentColorRequest.type,f,m,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[FS.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};aa.ColorProviderFeature=_d});var Py=k(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.ImplementationFeature=void 0;var OS=require("vscode"),Sd=ee(),Rd=ye(),Td=class extends Rd.TextDocumentLanguageFeature{constructor(e){super(e,Sd.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,Rd.ensure)((0,Rd.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.implementationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideImplementation:(i,o,s)=>{let a=this._client,c=(f,g,m)=>a.sendRequest(Sd.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),m).then(w=>m.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(w,m),w=>a.handleFailedRequest(Sd.ImplementationRequest.type,m,w,null)),l=a.middleware;return l.provideImplementation?l.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return OS.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};ca.ImplementationFeature=Td});var qy=k(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.TypeDefinitionFeature=void 0;var NS=require("vscode"),Pd=ee(),ho=ye(),qd=class extends ho.TextDocumentLanguageFeature{constructor(e){super(e,Pd.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,ho.ensure)((0,ho.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,ho.ensure)((0,ho.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.typeDefinitionProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(f,g,m)=>a.sendRequest(Pd.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),m).then(w=>m.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(w,m),w=>a.handleFailedRequest(Pd.TypeDefinitionRequest.type,m,w,null)),l=a.middleware;return l.provideTypeDefinition?l.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return NS.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};ua.TypeDefinitionFeature=qd});var ky=k(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.WorkspaceFoldersFeature=ki.arrayDiff=void 0;var LS=Ue(),la=require("vscode"),po=ee();function kd(n,e){if(n!=null)return n[e]}function Ed(n,e){return n.filter(t=>e.indexOf(t)<0)}ki.arrayDiff=Ed;var xd=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return po.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=la.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(r=>this.asProtocol(r))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(po.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=la.workspace.workspaceFolders;return c===void 0?null:c.map(f=>this.asProtocol(f))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let r=kd(kd(kd(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof r=="string"?i=r:r===!0&&(i=LS.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let r=Ed(this._initialFolders,e),i=Ed(e,this._initialFolders);(i.length>0||r.length>0)&&(t=this.doSendEvent(i,r))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(r=>{this._client.error(`Sending notification ${po.DidChangeWorkspaceFoldersNotification.type.method} failed`,r)})}doSendEvent(e,t){let r={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(po.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let t=e.id,r=this._client,i=la.workspace.onDidChangeWorkspaceFolders(o=>{let s=l=>this.doSendEvent(l.added,l.removed),a=r.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(l=>{this._client.error(`Sending notification ${po.DidChangeWorkspaceFoldersNotification.type.method} failed`,l)})});this._listeners.set(t,i),this.sendInitialEvent(la.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};ki.WorkspaceFoldersFeature=xd});var xy=k(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.FoldingRangeFeature=void 0;var Ey=require("vscode"),Ur=ee(),go=ye(),Id=class extends go.TextDocumentLanguageFeature{constructor(e){super(e,Ur.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,go.ensure)((0,go.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[Ur.FoldingRangeKind.Comment,Ur.FoldingRangeKind.Imports,Ur.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1},(0,go.ensure)((0,go.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,t){this._client.onRequest(Ur.FoldingRangeRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeFoldingRange.fire()});let[r,i]=this.getRegistration(t,e.foldingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r=new Ey.EventEmitter,i={onDidChangeFoldingRanges:r.event,provideFoldingRanges:(o,s,a)=>{let c=this._client,l=(g,m,w)=>{let y={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g)};return c.sendRequest(Ur.FoldingRangeRequest.type,y,w).then(C=>w.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(C,w),C=>c.handleFailedRequest(Ur.FoldingRangeRequest.type,w,C,null))},f=c.middleware;return f.provideFoldingRanges?f.provideFoldingRanges(o,s,a,l):l(o,s,a)}};return[Ey.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeFoldingRange:r}]}};da.FoldingRangeFeature=Id});var Iy=k(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.DeclarationFeature=void 0;var AS=require("vscode"),Fd=ee(),Od=ye(),Nd=class extends Od.TextDocumentLanguageFeature{constructor(e){super(e,Fd.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,Od.ensure)((0,Od.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.declarationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDeclaration:(i,o,s)=>{let a=this._client,c=(f,g,m)=>a.sendRequest(Fd.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),m).then(w=>m.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(w,m),w=>a.handleFailedRequest(Fd.DeclarationRequest.type,m,w,null)),l=a.middleware;return l.provideDeclaration?l.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return AS.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};fa.DeclarationFeature=Nd});var Fy=k(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.SelectionRangeFeature=void 0;var MS=require("vscode"),Ld=ee(),Ad=ye(),Md=class extends Ad.TextDocumentLanguageFeature{constructor(e){super(e,Ld.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,Ad.ensure)((0,Ad.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.selectionRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(f,g,m)=>{let w={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),positions:a.code2ProtocolConverter.asPositionsSync(g,m)};return a.sendRequest(Ld.SelectionRangeRequest.type,w,m).then(y=>m.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(y,m),y=>a.handleFailedRequest(Ld.SelectionRangeRequest.type,m,y,null))},l=a.middleware;return l.provideSelectionRanges?l.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return MS.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};ha.SelectionRangeFeature=Md});var Ny=k(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.ProgressFeature=void 0;var Oy=ee(),jS=dl();function $S(n,e){return n[e]===void 0&&(n[e]=Object.create(null)),n[e]}var jd=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:Oy.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){$S(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},r=i=>{this.activeParts.add(new jS.ProgressPart(this._client,i.token,t))};e.onRequest(Oy.WorkDoneProgressCreateRequest.type,r)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};pa.ProgressFeature=jd});var Ly=k(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.CallHierarchyFeature=void 0;var HS=require("vscode"),Wr=ee(),$d=ye(),Hd=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,r){let i=this.client,o=this.middleware,s=(a,c,l)=>{let f=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(Wr.CallHierarchyPrepareRequest.type,f,l).then(g=>l.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(g,l),g=>i.handleFailedRequest(Wr.CallHierarchyPrepareRequest.type,l,g,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,r,s):s(e,t,r)}provideCallHierarchyIncomingCalls(e,t){let r=this.client,i=this.middleware,o=(s,a)=>{let c={item:r.code2ProtocolConverter.asCallHierarchyItem(s)};return r.sendRequest(Wr.CallHierarchyIncomingCallsRequest.type,c,a).then(l=>a.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyIncomingCalls(l,a),l=>r.handleFailedRequest(Wr.CallHierarchyIncomingCallsRequest.type,a,l,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let r=this.client,i=this.middleware,o=(s,a)=>{let c={item:r.code2ProtocolConverter.asCallHierarchyItem(s)};return r.sendRequest(Wr.CallHierarchyOutgoingCallsRequest.type,c,a).then(l=>a.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(l,a),l=>r.handleFailedRequest(Wr.CallHierarchyOutgoingCallsRequest.type,a,l,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},Ud=class extends $d.TextDocumentLanguageFeature{constructor(e){super(e,Wr.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,r=(0,$d.ensure)((0,$d.ensure)(t,"textDocument"),"callHierarchy");r.dynamicRegistration=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.callHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=this._client,r=new Hd(t);return[HS.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};ga.CallHierarchyFeature=Ud});var Ay=k(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.SemanticTokensFeature=void 0;var ma=require("vscode"),ie=ee(),mo=ye(),US=cn(),Wd=class extends mo.TextDocumentLanguageFeature{constructor(e){super(e,ie.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,mo.ensure)((0,mo.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[ie.SemanticTokenTypes.namespace,ie.SemanticTokenTypes.type,ie.SemanticTokenTypes.class,ie.SemanticTokenTypes.enum,ie.SemanticTokenTypes.interface,ie.SemanticTokenTypes.struct,ie.SemanticTokenTypes.typeParameter,ie.SemanticTokenTypes.parameter,ie.SemanticTokenTypes.variable,ie.SemanticTokenTypes.property,ie.SemanticTokenTypes.enumMember,ie.SemanticTokenTypes.event,ie.SemanticTokenTypes.function,ie.SemanticTokenTypes.method,ie.SemanticTokenTypes.macro,ie.SemanticTokenTypes.keyword,ie.SemanticTokenTypes.modifier,ie.SemanticTokenTypes.comment,ie.SemanticTokenTypes.string,ie.SemanticTokenTypes.number,ie.SemanticTokenTypes.regexp,ie.SemanticTokenTypes.operator,ie.SemanticTokenTypes.decorator],t.tokenModifiers=[ie.SemanticTokenModifiers.declaration,ie.SemanticTokenModifiers.definition,ie.SemanticTokenModifiers.readonly,ie.SemanticTokenModifiers.static,ie.SemanticTokenModifiers.deprecated,ie.SemanticTokenModifiers.abstract,ie.SemanticTokenModifiers.async,ie.SemanticTokenModifiers.modification,ie.SemanticTokenModifiers.documentation,ie.SemanticTokenModifiers.defaultLibrary],t.formats=[ie.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,mo.ensure)((0,mo.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(ie.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,r=US.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new ma.EventEmitter,s=r?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(w,y)=>{let C=this._client,P=C.middleware,x=(L,O)=>{let M={textDocument:C.code2ProtocolConverter.asTextDocumentIdentifier(L)};return C.sendRequest(ie.SemanticTokensRequest.type,M,O).then(X=>O.isCancellationRequested?null:C.protocol2CodeConverter.asSemanticTokens(X,O),X=>C.handleFailedRequest(ie.SemanticTokensRequest.type,O,X,null))};return P.provideDocumentSemanticTokens?P.provideDocumentSemanticTokens(w,y,x):x(w,y)},provideDocumentSemanticTokensEdits:i?(w,y,C)=>{let P=this._client,x=P.middleware,L=(O,M,X)=>{let le={textDocument:P.code2ProtocolConverter.asTextDocumentIdentifier(O),previousResultId:M};return P.sendRequest(ie.SemanticTokensDeltaRequest.type,le,X).then(async K=>X.isCancellationRequested?null:ie.SemanticTokens.is(K)?await P.protocol2CodeConverter.asSemanticTokens(K,X):await P.protocol2CodeConverter.asSemanticTokensEdits(K,X),K=>P.handleFailedRequest(ie.SemanticTokensDeltaRequest.type,X,K,null))};return x.provideDocumentSemanticTokensEdits?x.provideDocumentSemanticTokensEdits(w,y,C,L):L(w,y,C)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(w,y,C)=>{let P=this._client,x=P.middleware,L=(O,M,X)=>{let le={textDocument:P.code2ProtocolConverter.asTextDocumentIdentifier(O),range:P.code2ProtocolConverter.asRange(M)};return P.sendRequest(ie.SemanticTokensRangeRequest.type,le,X).then(K=>X.isCancellationRequested?null:P.protocol2CodeConverter.asSemanticTokens(K,X),K=>P.handleFailedRequest(ie.SemanticTokensRangeRequest.type,X,K,null))};return x.provideDocumentRangeSemanticTokens?x.provideDocumentRangeSemanticTokens(w,y,C,L):L(w,y,C)}}:void 0,l=[],f=this._client,g=f.protocol2CodeConverter.asSemanticTokensLegend(e.legend),m=f.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&l.push(ma.languages.registerDocumentSemanticTokensProvider(m,s,g)),c!==void 0&&l.push(ma.languages.registerDocumentRangeSemanticTokensProvider(m,c,g)),[new ma.Disposable(()=>l.forEach(w=>w.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};va.SemanticTokensFeature=Wd});var $y=k(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.WillDeleteFilesFeature=Wt.WillRenameFilesFeature=Wt.WillCreateFilesFeature=Wt.DidDeleteFilesFeature=Wt.DidRenameFilesFeature=Wt.DidCreateFilesFeature=void 0;var fn=require("vscode"),WS=js(),tr=ee(),zS=Ue();function My(n,e){return n[e]===void 0&&(n[e]={}),n[e]}function KS(n,e){return n[e]}function jy(n,e,t){n[e]=t}var vo=class n{constructor(e,t,r,i,o){this._client=e,this._event=t,this._registrationType=r,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=My(My(e,"workspace"),"fileOperations");jy(t,"dynamicRegistration",!0),jy(t,this._clientCapability,!0)}initialize(e){var i;let t=(i=e.workspace)==null?void 0:i.fileOperations,r=t!==void 0?KS(t,this._serverCapability):void 0;if((r==null?void 0:r.filters)!==void 0)try{this.register({id:zS.generateUuid(),registerOptions:{filters:r.filters}})}catch(o){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${o}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(r=>{let i=new WS.Minimatch(r.pattern.glob,n.asMinimatchOptions(r.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${r.pattern.glob}!`);return{scheme:r.scheme,matcher:i,kind:r.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return n.getFileType(e)}async filter(e,t){let r=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let l of c)if(!(l.scheme!==void 0&&l.scheme!==s.scheme)){if(l.matcher.match(a)){if(l.kind===void 0)return!0;let f=await this.getFileType(s);if(f===void 0)return this._client.error(`Failed to determine file type for ${s.toString()}.`),!0;if(f===fn.FileType.File&&l.kind===tr.FileOperationPatternKind.file||f===fn.FileType.Directory&&l.kind===tr.FileOperationPatternKind.folder)return!0}else if(l.kind===tr.FileOperationPatternKind.folder&&await n.getFileType(s)===fn.FileType.Directory&&l.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>r[s]);return{...e,files:i}}static async getFileType(e){try{return(await fn.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let t={dot:!0};return(e==null?void 0:e.ignoreCase)===!0&&(t.nocase=!0),t}},ya=class extends vo{constructor(e,t,r,i,o,s,a){super(e,t,r,i,o),this._notificationType=r,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let r=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,r)}}},ba=class extends ya{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let r=await vo.getFileType(e);return r&&this._fsPathFileTypes.set(t,r),r}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},zd=class extends ya{constructor(e){super(e,fn.workspace.onDidCreateFiles,tr.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let r=this._client.middleware.workspace;return r!=null&&r.didCreateFiles?r.didCreateFiles(e,t):t(e)}};Wt.DidCreateFilesFeature=zd;var Kd=class extends ba{constructor(e){super(e,fn.workspace.onDidRenameFiles,tr.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=fn.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r!=null&&r.didRenameFiles?r.didRenameFiles(e,t):t(e)}};Wt.DidRenameFilesFeature=Kd;var Vd=class extends ba{constructor(e){super(e,fn.workspace.onDidDeleteFiles,tr.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=fn.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r!=null&&r.didDeleteFiles?r.didDeleteFiles(e,t):t(e)}};Wt.DidDeleteFilesFeature=Vd;var yo=class extends vo{constructor(e,t,r,i,o,s,a){super(e,t,r,i,o),this._requestType=r,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let r=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,r)}else return}},Bd=class extends yo{constructor(e){super(e,fn.workspace.onWillCreateFiles,tr.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let r=this._client.middleware.workspace;return r!=null&&r.willCreateFiles?r.willCreateFiles(e,t):t(e)}};Wt.WillCreateFilesFeature=Bd;var Gd=class extends yo{constructor(e){super(e,fn.workspace.onWillRenameFiles,tr.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let r=this._client.middleware.workspace;return r!=null&&r.willRenameFiles?r.willRenameFiles(e,t):t(e)}};Wt.WillRenameFilesFeature=Gd;var Xd=class extends yo{constructor(e){super(e,fn.workspace.onWillDeleteFiles,tr.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let r=this._client.middleware.workspace;return r!=null&&r.willDeleteFiles?r.willDeleteFiles(e,t):t(e)}};Wt.WillDeleteFilesFeature=Xd});var Hy=k(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.LinkedEditingFeature=void 0;var VS=require("vscode"),Jd=ee(),Qd=ye(),Yd=class extends Qd.TextDocumentLanguageFeature{constructor(e){super(e,Jd.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,Qd.ensure)((0,Qd.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(f,g,m)=>a.sendRequest(Jd.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),m).then(w=>m.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(w,m),w=>a.handleFailedRequest(Jd.LinkedEditingRangeRequest.type,m,w,null)),l=a.middleware;return l.provideLinkedEditingRange?l.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return VS.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Ca.LinkedEditingFeature=Yd});var Uy=k(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.TypeHierarchyFeature=void 0;var BS=require("vscode"),zr=ee(),Zd=ye(),ef=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,r){let i=this.client,o=this.middleware,s=(a,c,l)=>{let f=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(zr.TypeHierarchyPrepareRequest.type,f,l).then(g=>l.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(g,l),g=>i.handleFailedRequest(zr.TypeHierarchyPrepareRequest.type,l,g,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,r,s):s(e,t,r)}provideTypeHierarchySupertypes(e,t){let r=this.client,i=this.middleware,o=(s,a)=>{let c={item:r.code2ProtocolConverter.asTypeHierarchyItem(s)};return r.sendRequest(zr.TypeHierarchySupertypesRequest.type,c,a).then(l=>a.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(l,a),l=>r.handleFailedRequest(zr.TypeHierarchySupertypesRequest.type,a,l,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let r=this.client,i=this.middleware,o=(s,a)=>{let c={item:r.code2ProtocolConverter.asTypeHierarchyItem(s)};return r.sendRequest(zr.TypeHierarchySubtypesRequest.type,c,a).then(l=>a.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(l,a),l=>r.handleFailedRequest(zr.TypeHierarchySubtypesRequest.type,a,l,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},tf=class extends Zd.TextDocumentLanguageFeature{constructor(e){super(e,zr.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,Zd.ensure)((0,Zd.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.typeHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=this._client,r=new ef(t);return[BS.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};wa.TypeHierarchyFeature=tf});var zy=k(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.InlineValueFeature=void 0;var Wy=require("vscode"),Da=ee(),bo=ye(),nf=class extends bo.TextDocumentLanguageFeature{constructor(e){super(e,Da.InlineValueRequest.type)}fillClientCapabilities(e){(0,bo.ensure)((0,bo.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,bo.ensure)((0,bo.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(Da.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[r,i]=this.getRegistration(t,e.inlineValueProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r=new Wy.EventEmitter,i={onDidChangeInlineValues:r.event,provideInlineValues:(o,s,a,c)=>{let l=this._client,f=(m,w,y,C)=>{let P={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(m),range:l.code2ProtocolConverter.asRange(w),context:l.code2ProtocolConverter.asInlineValueContext(y)};return l.sendRequest(Da.InlineValueRequest.type,P,C).then(x=>C.isCancellationRequested?null:l.protocol2CodeConverter.asInlineValues(x,C),x=>l.handleFailedRequest(Da.InlineValueRequest.type,C,x,null))},g=l.middleware;return g.provideInlineValues?g.provideInlineValues(o,s,a,c,f):f(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:r}]}registerProvider(e,t){return Wy.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};_a.InlineValueFeature=nf});var Vy=k(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.InlayHintsFeature=void 0;var Ky=require("vscode"),Ei=ee(),Co=ye(),rf=class extends Co.TextDocumentLanguageFeature{constructor(e){super(e,Ei.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,Co.ensure)((0,Co.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,Co.ensure)((0,Co.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(Ei.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[r,i]=this.getRegistration(t,e.inlayHintProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r=new Ky.EventEmitter,i={onDidChangeInlayHints:r.event,provideInlayHints:(o,s,a)=>{let c=this._client,l=async(g,m,w)=>{let y={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(m)};try{let C=await c.sendRequest(Ei.InlayHintRequest.type,y,w);return w.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(C,w)}catch(C){return c.handleFailedRequest(Ei.InlayHintRequest.type,w,C,null)}},f=c.middleware;return f.provideInlayHints?f.provideInlayHints(o,s,a,l):l(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(f,g)=>{try{let m=await a.sendRequest(Ei.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(f),g);if(g.isCancellationRequested)return null;let w=a.protocol2CodeConverter.asInlayHint(m,g);return g.isCancellationRequested?null:w}catch(m){return a.handleFailedRequest(Ei.InlayHintResolveRequest.type,g,m,null)}},l=a.middleware;return l.resolveInlayHint?l.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:r}]}registerProvider(e,t){return Ky.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Sa.InlayHintsFeature=rf});var By=k(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.InlineCompletionItemFeature=void 0;var GS=require("vscode"),of=ee(),sf=ye(),XS=Ue(),af=class extends sf.TextDocumentLanguageFeature{constructor(e){super(e,of.InlineCompletionRequest.type)}fillClientCapabilities(e){let t=(0,sf.ensure)((0,sf.ensure)(e,"textDocument"),"inlineCompletion");t.dynamicRegistration=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.inlineCompletionProvider);r&&this.register({id:XS.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideInlineCompletionItems:(i,o,s,a)=>{let c=this._client,l=this._client.middleware,f=(g,m,w,y)=>c.sendRequest(of.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(g,m,w),y).then(C=>y.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(C,y),C=>c.handleFailedRequest(of.InlineCompletionRequest.type,y,C,null));return l.provideInlineCompletionItems?l.provideInlineCompletionItems(i,o,s,a,f):f(i,o,s,a)}};return[GS.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};Ra.InlineCompletionItemFeature=af});var hf=k(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.ProposedFeatures=ft.BaseLanguageClient=ft.MessageTransports=ft.SuspendMode=ft.State=ft.CloseAction=ft.ErrorAction=ft.RevealOutputChannelOn=void 0;var ke=require("vscode"),j=ee(),JS=_v(),QS=Tv(),Rn=cn(),Ta=Is(),Gy=Ue(),YS=dl(),Sn=ye(),ZS=xl(),Xy=ry(),Jy=oy(),xi=sy(),eR=ay(),tR=cy(),nR=uy(),rR=dy(),iR=fy(),oR=nd(),sR=py(),aR=gy(),cR=my(),uR=yy(),cf=by(),lR=wy(),dR=Dy(),fR=Sy(),hR=Ry(),pR=Ty(),gR=Py(),mR=qy(),vR=ky(),yR=xy(),bR=Iy(),CR=Fy(),wR=Ny(),DR=Ly(),_R=Ay(),Ii=$y(),SR=Hy(),RR=Uy(),TR=zy(),PR=Vy(),qR=By(),Kr;(function(n){n[n.Debug=0]="Debug",n[n.Info=1]="Info",n[n.Warn=2]="Warn",n[n.Error=3]="Error",n[n.Never=4]="Never"})(Kr||(ft.RevealOutputChannelOn=Kr={}));var Do;(function(n){n[n.Continue=1]="Continue",n[n.Shutdown=2]="Shutdown"})(Do||(ft.ErrorAction=Do={}));var Rr;(function(n){n[n.DoNotRestart=1]="DoNotRestart",n[n.Restart=2]="Restart"})(Rr||(ft.CloseAction=Rr={}));var wo;(function(n){n[n.Stopped=1]="Stopped",n[n.Starting=3]="Starting",n[n.Running=2]="Running"})(wo||(ft.State=wo={}));var Qy;(function(n){n.off="off",n.on="on"})(Qy||(ft.SuspendMode=Qy={}));var uf;(function(n){function e(t){return t==null?!1:typeof t=="boolean"||typeof t=="object"&&t!==null&&Rn.stringArray(t.enabledCommands)?t:!1}n.sanitizeIsTrusted=e})(uf||(uf={}));var lf=class{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,r){return r&&r<=3?{action:Do.Continue}:{action:Do.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Rr.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:Rr.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Rr.Restart})}},ce;(function(n){n.Initial="initial",n.Starting="starting",n.StartFailed="startFailed",n.Running="running",n.Stopping="stopping",n.Stopped="stopped"})(ce||(ce={}));var Yy;(function(n){function e(t){return t&&j.MessageReader.is(t.reader)&&j.MessageWriter.is(t.writer)}n.is=e})(Yy||(ft.MessageTransports=Yy={}));var _o=class n{constructor(e,t,r){var o;this._traceFormat=j.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new Ta.Semaphore(1),this._id=e,this._name=t,r=r||{};let i={isTrusted:!1,supportHtml:!1};r.markdown!==void 0&&(i.isTrusted=uf.sanitizeIsTrusted(r.markdown.isTrusted),i.supportHtml=r.markdown.supportHtml===!0),this._clientOptions={documentSelector:r.documentSelector??[],synchronize:r.synchronize??{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName??this._name,revealOutputChannelOn:r.revealOutputChannelOn??Kr.Error,stdioEncoding:r.stdioEncoding??"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler??this.createDefaultErrorHandler((o=r.connectionOptions)==null?void 0:o.maxRestartCount),middleware:r.middleware??{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:i,diagnosticPullOptions:r.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:r.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=ce.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new Ta.Semaphore(1),this._pendingChangeDelayer=new Ta.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new Ta.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new j.Emitter,this._stateChangeEmitter=new j.Emitter,this._trace=j.Trace.Off,this._tracer={log:(s,a)=>{Rn.string(s)?this.logTrace(s,a):this.logObjectTrace(s)}},this._c2p=JS.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=QS.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=ke.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let r=this.getPublicState();r!==t&&this._stateChangeEmitter.fire({oldState:t,newState:r})}getPublicState(){switch(this.$state){case ce.Starting:return wo.Starting;case ce.Running:return wo.Running;default:return wo.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){var o;if(this.$state===ce.StartFailed||this.$state===ce.Stopping||this.$state===ce.Stopped)return Promise.reject(new j.ResponseError(j.ErrorCodes.ConnectionInactive,"Client is not running"));let r=await this.$start();this._didChangeTextDocumentFeature.syncKind===j.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(r);let i=(o=this._clientOptions.middleware)==null?void 0:o.sendRequest;if(i!==void 0){let s,a;return t.length===1?j.CancellationToken.is(t[0])?a=t[0]:s=t[0]:t.length===2&&(s=t[0],a=t[1]),i(e,s,a,(c,l,f)=>{let g=[];return l!==void 0&&g.push(l),f!==void 0&&g.push(f),r.sendRequest(c,...g)})}else return r.sendRequest(e,...t)}onRequest(e,t){let r=typeof e=="string"?e:e.method;this._requestHandlers.set(r,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(r,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(r);s!==void 0&&(s.dispose(),this._requestDisposables.delete(r))}}):(this._pendingRequestHandlers.set(r,t),o={dispose:()=>{this._pendingRequestHandlers.delete(r);let s=this._requestDisposables.get(r);s!==void 0&&(s.dispose(),this._requestDisposables.delete(r))}}),{dispose:()=>{this._requestHandlers.delete(r),o.dispose()}}}async sendNotification(e,t){var a;if(this.$state===ce.StartFailed||this.$state===ce.Stopping||this.$state===ce.Stopped)return Promise.reject(new j.ResponseError(j.ErrorCodes.ConnectionInactive,"Client is not running"));let r=this._didChangeTextDocumentFeature.syncKind===j.TextDocumentSyncKind.Full,i;r&&typeof e!="string"&&e.method===j.DidOpenTextDocumentNotification.method&&(i=t==null?void 0:t.textDocument.uri,this._pendingOpenNotifications.add(i));let o=await this.$start();r&&await this.sendPendingFullTextDocumentChanges(o),i!==void 0&&this._pendingOpenNotifications.delete(i);let s=(a=this._clientOptions.middleware)==null?void 0:a.sendNotification;return s?s(e,o.sendNotification.bind(o),t):o.sendNotification(e,t)}onNotification(e,t){let r=typeof e=="string"?e:e.method;this._notificationHandlers.set(r,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(r,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(r);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(r))}}):(this._pendingNotificationHandlers.set(r,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(r);let s=this._notificationDisposables.get(r);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(r))}}),{dispose:()=>{this._notificationHandlers.delete(r),o.dispose()}}}async sendProgress(e,t,r){if(this.$state===ce.StartFailed||this.$state===ce.Stopping||this.$state===ce.Stopped)return Promise.reject(new j.ResponseError(j.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,r)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,r){var c;this._progressHandlers.set(t,{type:e,handler:r});let i=this.activeConnection(),o,s=(c=this._clientOptions.middleware)==null?void 0:c.handleWorkDoneProgress,a=j.WorkDoneProgress.is(e)&&s!==void 0?l=>{s(t,l,()=>r(l))}:r;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let l=this._progressDisposables.get(t);l!==void 0&&(l.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:r}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let l=this._progressDisposables.get(t);l!==void 0&&(l.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new lf(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof j.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?Rn.string(e.stack)?e.stack:e.message:Rn.string(e)?e:e.toString()}debug(e,t,r=!0){this.logOutputMessage(j.MessageType.Debug,Kr.Debug,"Debug",e,t,r)}info(e,t,r=!0){this.logOutputMessage(j.MessageType.Info,Kr.Info,"Info",e,t,r)}warn(e,t,r=!0){this.logOutputMessage(j.MessageType.Warning,Kr.Warn,"Warn",e,t,r)}error(e,t,r=!0){this.logOutputMessage(j.MessageType.Error,Kr.Error,"Error",e,t,r)}logOutputMessage(e,t,r,i,o,s){this.outputChannel.appendLine(`[${r.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${i}`),o!=null&&this.outputChannel.appendLine(this.data2String(o)),(s==="force"||s&&this._clientOptions.revealOutputChannelOn<=t)&&this.showNotificationMessage(e,i)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===j.MessageType.Error?ke.window.showErrorMessage:e===j.MessageType.Warning?ke.window.showWarningMessage:ke.window.showInformationMessage)(t,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===ce.Initial||this.$state===ce.Stopping||this.$state===ce.Stopped}needsStop(){return this.$state===ce.Starting||this.$state===ce.Running}activeConnection(){return this.$state===ce.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===ce.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===ce.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,r]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?ke.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):ke.languages.createDiagnosticCollection());for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=ce.Starting;try{let i=await this.createConnection();i.onNotification(j.LogMessageNotification.type,o=>{switch(o.type){case j.MessageType.Error:this.error(o.message,void 0,!1);break;case j.MessageType.Warning:this.warn(o.message,void 0,!1);break;case j.MessageType.Info:this.info(o.message,void 0,!1);break;case j.MessageType.Debug:this.debug(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(j.ShowMessageNotification.type,o=>{switch(o.type){case j.MessageType.Error:ke.window.showErrorMessage(o.message);break;case j.MessageType.Warning:ke.window.showWarningMessage(o.message);break;case j.MessageType.Info:ke.window.showInformationMessage(o.message);break;default:ke.window.showInformationMessage(o.message)}}),i.onRequest(j.ShowMessageRequest.type,o=>{let s;switch(o.type){case j.MessageType.Error:s=ke.window.showErrorMessage;break;case j.MessageType.Warning:s=ke.window.showWarningMessage;break;case j.MessageType.Info:s=ke.window.showInformationMessage;break;default:s=ke.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(j.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(j.ShowDocumentRequest.type,async o=>{var c;let s=async l=>{let f=this.protocol2CodeConverter.asUri(l.uri);try{if(l.external===!0)return{success:await ke.env.openExternal(f)};{let g={};return l.selection!==void 0&&(g.selection=this.protocol2CodeConverter.asRange(l.selection)),l.takeFocus===void 0||l.takeFocus===!1?g.preserveFocus=!0:l.takeFocus===!0&&(g.preserveFocus=!1),await ke.window.showTextDocument(f,g),{success:!0}}}catch{return{success:!1}}},a=(c=this._clientOptions.middleware.window)==null?void 0:c.showDocument;return a!==void 0?a(o,s):s(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=ce.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),r(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[r,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:ke.env.appName,version:ke.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(ke.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Rn.func(t)?t():t,trace:j.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=Gy.generateUuid(),a=new YS.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let r=await e.initialize(t);if(r.capabilities.positionEncoding!==void 0&&r.capabilities.positionEncoding!==j.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${r.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=r,this.$state=ce.Running;let i;Rn.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===j.TextDocumentSyncKind.None?i={openClose:!1,change:j.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(i=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(j.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(j.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(j.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(j.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(j.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),r}catch(r){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):this.stop():r instanceof j.ResponseError&&r.data&&r.data.retry?ke.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(r&&r.message&&ke.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop()),r}}_clientGetRootPath(){let e=ke.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===ce.Stopped||this.$state===ce.Initial)return;if(this.$state===ce.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let r=this.activeConnection();if(r===void 0||this.$state!==ce.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=ce.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,j.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(r);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=ce.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let r of t)r.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let r of Array.from(this._features.entries()).map(i=>i[1]).reverse())r.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){var o;let t=this;async function r(s){return t._fileEvents.push(s),t._fileEventDelayer.trigger(async()=>{await t.sendNotification(j.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents}),t._fileEvents=[]})}let i=(o=this.clientOptions.middleware)==null?void 0:o.workspace;(i!=null&&i.didChangeWatchedFile?i.didChangeWatchedFile(e,r):r(e)).catch(s=>{t.error("Notify file events failed.",s)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let t=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(t.length===0)return;for(let r of t){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(r);await e.sendNotification(j.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(r,j.DidChangeTextDocumentNotification.type,i)}}catch(t){throw this.error("Sending pending changes failed",t,!1),t}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,j.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,r]=e.value;this._diagnosticQueue.delete(t);let i=new ke.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(r,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,l)=>this.setDiagnostics(c,l)):this.setDiagnostics(s,o)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}getLocale(){return ke.env.language}async $start(){if(this.$state===ce.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s).catch(a=>this.error("Handling connection error failed",a))},t=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},r=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=kR(r.reader,r.writer,e,t,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===ce.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:Rr.DoNotRestart};if(this.$state!==ce.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===Rr.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===ce.Starting?this.$state=ce.StartFailed:this.$state=ce.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===Rr.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=ce.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}async handleConnectionError(e,t,r){let i=await this._clientOptions.errorHandler.error(e,t,r);i.action===Do.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(ke.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let r=ke.workspace.getConfiguration(this._id),i=j.Trace.Off,o=j.TraceFormat.Text;if(r){let s=r.get("trace.server","off");typeof s=="string"?i=j.Trace.fromString(s):(i=j.Trace.fromString(r.get("trace.server.verbosity","off")),o=j.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let r;Rn.array(t)?r=t:r=[t],r&&this._dynamicFeatures.get(j.DidChangeWatchedFilesNotification.type.method).registerRaw(Gy.generateUuid(),r)}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),Sn.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(j.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof Xy.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new Jy.ConfigurationFeature(this)),this.registerFeature(new xi.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new xi.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new xi.WillSaveFeature(this)),this.registerFeature(new xi.WillSaveWaitUntilFeature(this)),this.registerFeature(new xi.DidSaveTextDocumentFeature(this)),this.registerFeature(new xi.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new hR.FileSystemWatcherFeature(this,t=>this.notifyFileEvent(t))),this.registerFeature(new eR.CompletionItemFeature(this)),this.registerFeature(new tR.HoverFeature(this)),this.registerFeature(new rR.SignatureHelpFeature(this)),this.registerFeature(new nR.DefinitionFeature(this)),this.registerFeature(new aR.ReferencesFeature(this)),this.registerFeature(new iR.DocumentHighlightFeature(this)),this.registerFeature(new oR.DocumentSymbolFeature(this)),this.registerFeature(new sR.WorkspaceSymbolFeature(this)),this.registerFeature(new cR.CodeActionFeature(this)),this.registerFeature(new uR.CodeLensFeature(this)),this.registerFeature(new cf.DocumentFormattingFeature(this)),this.registerFeature(new cf.DocumentRangeFormattingFeature(this)),this.registerFeature(new cf.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new lR.RenameFeature(this)),this.registerFeature(new dR.DocumentLinkFeature(this)),this.registerFeature(new fR.ExecuteCommandFeature(this)),this.registerFeature(new Jy.SyncConfigurationFeature(this)),this.registerFeature(new mR.TypeDefinitionFeature(this)),this.registerFeature(new gR.ImplementationFeature(this)),this.registerFeature(new pR.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new vR.WorkspaceFoldersFeature(this)),this.registerFeature(new yR.FoldingRangeFeature(this)),this.registerFeature(new bR.DeclarationFeature(this)),this.registerFeature(new CR.SelectionRangeFeature(this)),this.registerFeature(new wR.ProgressFeature(this)),this.registerFeature(new DR.CallHierarchyFeature(this)),this.registerFeature(new _R.SemanticTokensFeature(this)),this.registerFeature(new SR.LinkedEditingFeature(this)),this.registerFeature(new Ii.DidCreateFilesFeature(this)),this.registerFeature(new Ii.DidRenameFilesFeature(this)),this.registerFeature(new Ii.DidDeleteFilesFeature(this)),this.registerFeature(new Ii.WillCreateFilesFeature(this)),this.registerFeature(new Ii.WillRenameFilesFeature(this)),this.registerFeature(new Ii.WillDeleteFilesFeature(this)),this.registerFeature(new RR.TypeHierarchyFeature(this)),this.registerFeature(new TR.InlineValueFeature(this)),this.registerFeature(new PR.InlayHintsFeature(this)),this.registerFeature(new ZS.DiagnosticFeature(this)),this.registerFeature(new Xy.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(ff.createAll(this))}fillInitializeParams(e){for(let t of this._features)Rn.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,Sn.ensure)(e,"workspace").applyEdit=!0;let t=(0,Sn.ensure)((0,Sn.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[j.ResourceOperationKind.Create,j.ResourceOperationKind.Rename,j.ResourceOperationKind.Delete],t.failureHandling=j.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};let r=(0,Sn.ensure)((0,Sn.ensure)(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[j.DiagnosticTag.Unnecessary,j.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;let i=(0,Sn.ensure)(e,"window"),o=(0,Sn.ensure)(i,"showMessage");o.messageActionItem={additionalPropertiesSupport:!0};let s=(0,Sn.ensure)(i,"showDocument");s.support=!0;let a=(0,Sn.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(n.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let r of this._features)Rn.func(r.preInitialize)&&r.preInitialize(this._capabilities,t);for(let r of this._features)r.initialize(this._capabilities,t)}async handleRegistrationRequest(e){var r;let t=(r=this.clientOptions.middleware)==null?void 0:r.handleRegisterCapability;return t?t(e,i=>this.doRegisterCapability(i)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let r=this._dynamicFeatures.get(t.method);if(r===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{r.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){var r;let t=(r=this.clientOptions.middleware)==null?void 0:r.handleUnregisterCapability;return t?t(e,i=>this.doUnregisterCapability(i)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let r=this._dynamicFeatures.get(t.method);if(!r)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));r.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=e.edit,r=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;ke.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(j.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=this._p2c.asUri(s.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):Rn.asPromise(ke.workspace.applyEdit(r).then(s=>({applied:s})))}handleFailedRequest(e,t,r,i,o=!0){if(r instanceof j.ResponseError){if(r.code===j.ErrorCodes.PendingResponseRejected||r.code===j.ErrorCodes.ConnectionInactive)return i;if(r.code===j.LSPErrorCodes.RequestCancelled||r.code===j.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested)return i;throw r.data!==void 0?new Sn.LSPCancellationError(r.data):new ke.CancellationError}else if(r.code===j.LSPErrorCodes.ContentModified){if(n.RequestsToCancelOnContentModified.has(e.method)||n.CancellableResolveCalls.has(e.method))throw new ke.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,r,o),r}};ft.BaseLanguageClient=_o;_o.RequestsToCancelOnContentModified=new Set([j.SemanticTokensRequest.method,j.SemanticTokensRangeRequest.method,j.SemanticTokensDeltaRequest.method]);_o.CancellableResolveCalls=new Set([j.CompletionResolveRequest.method,j.CodeLensResolveRequest.method,j.CodeActionResolveRequest.method,j.InlayHintResolveRequest.method,j.DocumentLinkResolveRequest.method,j.WorkspaceSymbolResolveRequest.method]);var df=class{error(e){(0,j.RAL)().console.error(e)}warn(e){(0,j.RAL)().console.warn(e)}info(e){(0,j.RAL)().console.info(e)}log(e){(0,j.RAL)().console.log(e)}};function kR(n,e,t,r,i){let o=new df,s=(0,j.createProtocolConnection)(n,e,o,i);return s.onError(c=>{t(c[0],c[1],c[2])}),s.onClose(r),{listen:()=>s.listen(),sendRequest:s.sendRequest,onRequest:s.onRequest,hasPendingResponse:s.hasPendingResponse,sendNotification:s.sendNotification,onNotification:s.onNotification,onProgress:s.onProgress,sendProgress:s.sendProgress,trace:(c,l,f)=>{let g={sendNotification:!1,traceFormat:j.TraceFormat.Text};return f===void 0?s.trace(c,l,g):(Rn.boolean(f),s.trace(c,l,f))},initialize:c=>s.sendRequest(j.InitializeRequest.type,c),shutdown:()=>s.sendRequest(j.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(j.ExitNotification.type),end:()=>s.end(),dispose:()=>s.dispose()}}var ff;(function(n){function e(t){return[new qR.InlineCompletionItemFeature(t)]}n.createAll=e})(ff||(ft.ProposedFeatures=ff={}))});var eb=k(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.terminate=void 0;var Zy=require("child_process"),ER=require("path"),xR=process.platform==="win32",IR=process.platform==="darwin",FR=process.platform==="linux";function OR(n,e){if(xR)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),Zy.execFileSync("taskkill",["/T","/F","/PID",n.pid.toString()],i),!0}catch{return!1}else if(FR||IR)try{var t=(0,ER.join)(__dirname,"terminateProcess.sh"),r=Zy.spawnSync(t,[n.pid.toString()]);return!r.error}catch{return!1}else return n.kill("SIGKILL"),!0}Pa.terminate=OR});var pf=k((iE,tb)=>{"use strict";tb.exports=ee()});var So=k((oE,nb)=>{var NR=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{};nb.exports=NR});var qa=k((sE,rb)=>{var LR="2.0.0",AR=Number.MAX_SAFE_INTEGER||9007199254740991,MR=16,jR=250,$R=["major","premajor","minor","preminor","patch","prepatch","prerelease"];rb.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:MR,MAX_SAFE_BUILD_LENGTH:jR,MAX_SAFE_INTEGER:AR,RELEASE_TYPES:$R,SEMVER_SPEC_VERSION:LR,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ka=k((nr,ib)=>{var{MAX_SAFE_COMPONENT_LENGTH:gf,MAX_SAFE_BUILD_LENGTH:HR,MAX_LENGTH:UR}=qa(),WR=So();nr=ib.exports={};var zR=nr.re=[],KR=nr.safeRe=[],V=nr.src=[],B=nr.t={},VR=0,mf="[a-zA-Z0-9-]",BR=[["\\s",1],["\\d",UR],[mf,HR]],GR=n=>{for(let[e,t]of BR)n=n.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return n},se=(n,e,t)=>{let r=GR(e),i=VR++;WR(n,i,e),B[n]=i,V[i]=e,zR[i]=new RegExp(e,t?"g":void 0),KR[i]=new RegExp(r,t?"g":void 0)};se("NUMERICIDENTIFIER","0|[1-9]\\d*");se("NUMERICIDENTIFIERLOOSE","\\d+");se("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${mf}*`);se("MAINVERSION",`(${V[B.NUMERICIDENTIFIER]})\\.(${V[B.NUMERICIDENTIFIER]})\\.(${V[B.NUMERICIDENTIFIER]})`);se("MAINVERSIONLOOSE",`(${V[B.NUMERICIDENTIFIERLOOSE]})\\.(${V[B.NUMERICIDENTIFIERLOOSE]})\\.(${V[B.NUMERICIDENTIFIERLOOSE]})`);se("PRERELEASEIDENTIFIER",`(?:${V[B.NUMERICIDENTIFIER]}|${V[B.NONNUMERICIDENTIFIER]})`);se("PRERELEASEIDENTIFIERLOOSE",`(?:${V[B.NUMERICIDENTIFIERLOOSE]}|${V[B.NONNUMERICIDENTIFIER]})`);se("PRERELEASE",`(?:-(${V[B.PRERELEASEIDENTIFIER]}(?:\\.${V[B.PRERELEASEIDENTIFIER]})*))`);se("PRERELEASELOOSE",`(?:-?(${V[B.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${V[B.PRERELEASEIDENTIFIERLOOSE]})*))`);se("BUILDIDENTIFIER",`${mf}+`);se("BUILD",`(?:\\+(${V[B.BUILDIDENTIFIER]}(?:\\.${V[B.BUILDIDENTIFIER]})*))`);se("FULLPLAIN",`v?${V[B.MAINVERSION]}${V[B.PRERELEASE]}?${V[B.BUILD]}?`);se("FULL",`^${V[B.FULLPLAIN]}$`);se("LOOSEPLAIN",`[v=\\s]*${V[B.MAINVERSIONLOOSE]}${V[B.PRERELEASELOOSE]}?${V[B.BUILD]}?`);se("LOOSE",`^${V[B.LOOSEPLAIN]}$`);se("GTLT","((?:<|>)?=?)");se("XRANGEIDENTIFIERLOOSE",`${V[B.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);se("XRANGEIDENTIFIER",`${V[B.NUMERICIDENTIFIER]}|x|X|\\*`);se("XRANGEPLAIN",`[v=\\s]*(${V[B.XRANGEIDENTIFIER]})(?:\\.(${V[B.XRANGEIDENTIFIER]})(?:\\.(${V[B.XRANGEIDENTIFIER]})(?:${V[B.PRERELEASE]})?${V[B.BUILD]}?)?)?`);se("XRANGEPLAINLOOSE",`[v=\\s]*(${V[B.XRANGEIDENTIFIERLOOSE]})(?:\\.(${V[B.XRANGEIDENTIFIERLOOSE]})(?:\\.(${V[B.XRANGEIDENTIFIERLOOSE]})(?:${V[B.PRERELEASELOOSE]})?${V[B.BUILD]}?)?)?`);se("XRANGE",`^${V[B.GTLT]}\\s*${V[B.XRANGEPLAIN]}$`);se("XRANGELOOSE",`^${V[B.GTLT]}\\s*${V[B.XRANGEPLAINLOOSE]}$`);se("COERCE",`(^|[^\\d])(\\d{1,${gf}})(?:\\.(\\d{1,${gf}}))?(?:\\.(\\d{1,${gf}}))?(?:$|[^\\d])`);se("COERCERTL",V[B.COERCE],!0);se("LONETILDE","(?:~>?)");se("TILDETRIM",`(\\s*)${V[B.LONETILDE]}\\s+`,!0);nr.tildeTrimReplace="$1~";se("TILDE",`^${V[B.LONETILDE]}${V[B.XRANGEPLAIN]}$`);se("TILDELOOSE",`^${V[B.LONETILDE]}${V[B.XRANGEPLAINLOOSE]}$`);se("LONECARET","(?:\\^)");se("CARETTRIM",`(\\s*)${V[B.LONECARET]}\\s+`,!0);nr.caretTrimReplace="$1^";se("CARET",`^${V[B.LONECARET]}${V[B.XRANGEPLAIN]}$`);se("CARETLOOSE",`^${V[B.LONECARET]}${V[B.XRANGEPLAINLOOSE]}$`);se("COMPARATORLOOSE",`^${V[B.GTLT]}\\s*(${V[B.LOOSEPLAIN]})$|^$`);se("COMPARATOR",`^${V[B.GTLT]}\\s*(${V[B.FULLPLAIN]})$|^$`);se("COMPARATORTRIM",`(\\s*)${V[B.GTLT]}\\s*(${V[B.LOOSEPLAIN]}|${V[B.XRANGEPLAIN]})`,!0);nr.comparatorTrimReplace="$1$2$3";se("HYPHENRANGE",`^\\s*(${V[B.XRANGEPLAIN]})\\s+-\\s+(${V[B.XRANGEPLAIN]})\\s*$`);se("HYPHENRANGELOOSE",`^\\s*(${V[B.XRANGEPLAINLOOSE]})\\s+-\\s+(${V[B.XRANGEPLAINLOOSE]})\\s*$`);se("STAR","(<|>)?=?\\s*\\*");se("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");se("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ea=k((aE,ob)=>{var XR=Object.freeze({loose:!0}),JR=Object.freeze({}),QR=n=>n?typeof n!="object"?XR:n:JR;ob.exports=QR});var ub=k((cE,cb)=>{var sb=/^[0-9]+$/,ab=(n,e)=>{let t=sb.test(n),r=sb.test(e);return t&&r&&(n=+n,e=+e),n===e?0:t&&!r?-1:r&&!t?1:n<e?-1:1},YR=(n,e)=>ab(e,n);cb.exports={compareIdentifiers:ab,rcompareIdentifiers:YR}});var Ro=k((uE,hb)=>{var xa=So(),{MAX_LENGTH:lb,MAX_SAFE_INTEGER:Ia}=qa(),{safeRe:db,t:fb}=ka(),ZR=Ea(),{compareIdentifiers:Fi}=ub(),vf=class n{constructor(e,t){if(t=ZR(t),e instanceof n){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>lb)throw new TypeError(`version is longer than ${lb} characters`);xa("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?db[fb.LOOSE]:db[fb.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Ia||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ia||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ia||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Ia)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(xa("SemVer.compare",this.version,this.options,e),!(e instanceof n)){if(typeof e=="string"&&e===this.version)return 0;e=new n(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof n||(e=new n(e,this.options)),Fi(this.major,e.major)||Fi(this.minor,e.minor)||Fi(this.patch,e.patch)}comparePre(e){if(e instanceof n||(e=new n(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],i=e.prerelease[t];if(xa("prerelease compare",t,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Fi(r,i)}while(++t)}compareBuild(e){e instanceof n||(e=new n(e,this.options));let t=0;do{let r=this.build[t],i=e.build[t];if(xa("prerelease compare",t,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Fi(r,i)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(!t&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];r===!1&&(o=[t]),Fi(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};hb.exports=vf});var mb=k((lE,gb)=>{var pb=Ro(),eT=(n,e,t=!1)=>{if(n instanceof pb)return n;try{return new pb(n,e)}catch(r){if(!t)return null;throw r}};gb.exports=eT});var yb=k((dE,vb)=>{"use strict";vb.exports=function(n){n.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Cb=k((fE,bb)=>{"use strict";bb.exports=_e;_e.Node=Vr;_e.create=_e;function _e(n){var e=this;if(e instanceof _e||(e=new _e),e.tail=null,e.head=null,e.length=0,n&&typeof n.forEach=="function")n.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);return e}_e.prototype.removeNode=function(n){if(n.list!==this)throw new Error("removing node which does not belong to this list");var e=n.next,t=n.prev;return e&&(e.prev=t),t&&(t.next=e),n===this.head&&(this.head=e),n===this.tail&&(this.tail=t),n.list.length--,n.next=null,n.prev=null,n.list=null,e};_e.prototype.unshiftNode=function(n){if(n!==this.head){n.list&&n.list.removeNode(n);var e=this.head;n.list=this,n.next=e,e&&(e.prev=n),this.head=n,this.tail||(this.tail=n),this.length++}};_e.prototype.pushNode=function(n){if(n!==this.tail){n.list&&n.list.removeNode(n);var e=this.tail;n.list=this,n.prev=e,e&&(e.next=n),this.tail=n,this.head||(this.head=n),this.length++}};_e.prototype.push=function(){for(var n=0,e=arguments.length;n<e;n++)nT(this,arguments[n]);return this.length};_e.prototype.unshift=function(){for(var n=0,e=arguments.length;n<e;n++)rT(this,arguments[n]);return this.length};_e.prototype.pop=function(){if(this.tail){var n=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,n}};_e.prototype.shift=function(){if(this.head){var n=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,n}};_e.prototype.forEach=function(n,e){e=e||this;for(var t=this.head,r=0;t!==null;r++)n.call(e,t.value,r,this),t=t.next};_e.prototype.forEachReverse=function(n,e){e=e||this;for(var t=this.tail,r=this.length-1;t!==null;r--)n.call(e,t.value,r,this),t=t.prev};_e.prototype.get=function(n){for(var e=0,t=this.head;t!==null&&e<n;e++)t=t.next;if(e===n&&t!==null)return t.value};_e.prototype.getReverse=function(n){for(var e=0,t=this.tail;t!==null&&e<n;e++)t=t.prev;if(e===n&&t!==null)return t.value};_e.prototype.map=function(n,e){e=e||this;for(var t=new _e,r=this.head;r!==null;)t.push(n.call(e,r.value,this)),r=r.next;return t};_e.prototype.mapReverse=function(n,e){e=e||this;for(var t=new _e,r=this.tail;r!==null;)t.push(n.call(e,r.value,this)),r=r.prev;return t};_e.prototype.reduce=function(n,e){var t,r=this.head;if(arguments.length>1)t=e;else if(this.head)r=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)t=n(t,r.value,i),r=r.next;return t};_e.prototype.reduceReverse=function(n,e){var t,r=this.tail;if(arguments.length>1)t=e;else if(this.tail)r=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)t=n(t,r.value,i),r=r.prev;return t};_e.prototype.toArray=function(){for(var n=new Array(this.length),e=0,t=this.head;t!==null;e++)n[e]=t.value,t=t.next;return n};_e.prototype.toArrayReverse=function(){for(var n=new Array(this.length),e=0,t=this.tail;t!==null;e++)n[e]=t.value,t=t.prev;return n};_e.prototype.slice=function(n,e){e=e||this.length,e<0&&(e+=this.length),n=n||0,n<0&&(n+=this.length);var t=new _e;if(e<n||e<0)return t;n<0&&(n=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;i!==null&&r<n;r++)i=i.next;for(;i!==null&&r<e;r++,i=i.next)t.push(i.value);return t};_e.prototype.sliceReverse=function(n,e){e=e||this.length,e<0&&(e+=this.length),n=n||0,n<0&&(n+=this.length);var t=new _e;if(e<n||e<0)return t;n<0&&(n=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;i!==null&&r>e;r--)i=i.prev;for(;i!==null&&r>n;r--,i=i.prev)t.push(i.value);return t};_e.prototype.splice=function(n,e,...t){n>this.length&&(n=this.length-1),n<0&&(n=this.length+n);for(var r=0,i=this.head;i!==null&&r<n;r++)i=i.next;for(var o=[],r=0;i&&r<e;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<t.length;r++)i=tT(this,i,t[r]);return o};_e.prototype.reverse=function(){for(var n=this.head,e=this.tail,t=n;t!==null;t=t.prev){var r=t.prev;t.prev=t.next,t.next=r}return this.head=e,this.tail=n,this};function tT(n,e,t){var r=e===n.head?new Vr(t,null,e,n):new Vr(t,e,e.next,n);return r.next===null&&(n.tail=r),r.prev===null&&(n.head=r),n.length++,r}function nT(n,e){n.tail=new Vr(e,n.tail,null,n),n.head||(n.head=n.tail),n.length++}function rT(n,e){n.head=new Vr(e,null,n.head,n),n.tail||(n.tail=n.head),n.length++}function Vr(n,e,t,r){if(!(this instanceof Vr))return new Vr(n,e,t,r);this.list=r,this.value=n,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{yb()(_e)}catch{}});var Rb=k((hE,Sb)=>{"use strict";var iT=Cb(),Br=Symbol("max"),ir=Symbol("length"),Oi=Symbol("lengthCalculator"),Po=Symbol("allowStale"),Gr=Symbol("maxAge"),rr=Symbol("dispose"),wb=Symbol("noDisposeOnSet"),ht=Symbol("lruList"),Tn=Symbol("cache"),_b=Symbol("updateAgeOnGet"),yf=()=>1,Cf=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[Br]=e.max||1/0,r=e.length||yf;if(this[Oi]=typeof r!="function"?yf:r,this[Po]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Gr]=e.maxAge||0,this[rr]=e.dispose,this[wb]=e.noDisposeOnSet||!1,this[_b]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Br]=e||1/0,To(this)}get max(){return this[Br]}set allowStale(e){this[Po]=!!e}get allowStale(){return this[Po]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Gr]=e,To(this)}get maxAge(){return this[Gr]}set lengthCalculator(e){typeof e!="function"&&(e=yf),e!==this[Oi]&&(this[Oi]=e,this[ir]=0,this[ht].forEach(t=>{t.length=this[Oi](t.value,t.key),this[ir]+=t.length})),To(this)}get lengthCalculator(){return this[Oi]}get length(){return this[ir]}get itemCount(){return this[ht].length}rforEach(e,t){t=t||this;for(let r=this[ht].tail;r!==null;){let i=r.prev;Db(this,e,r,t),r=i}}forEach(e,t){t=t||this;for(let r=this[ht].head;r!==null;){let i=r.next;Db(this,e,r,t),r=i}}keys(){return this[ht].toArray().map(e=>e.key)}values(){return this[ht].toArray().map(e=>e.value)}reset(){this[rr]&&this[ht]&&this[ht].length&&this[ht].forEach(e=>this[rr](e.key,e.value)),this[Tn]=new Map,this[ht]=new iT,this[ir]=0}dump(){return this[ht].map(e=>Fa(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ht]}set(e,t,r){if(r=r||this[Gr],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let i=r?Date.now():0,o=this[Oi](t,e);if(this[Tn].has(e)){if(o>this[Br])return Ni(this,this[Tn].get(e)),!1;let c=this[Tn].get(e).value;return this[rr]&&(this[wb]||this[rr](e,c.value)),c.now=i,c.maxAge=r,c.value=t,this[ir]+=o-c.length,c.length=o,this.get(e),To(this),!0}let s=new wf(e,t,o,i,r);return s.length>this[Br]?(this[rr]&&this[rr](e,t),!1):(this[ir]+=s.length,this[ht].unshift(s),this[Tn].set(e,this[ht].head),To(this),!0)}has(e){if(!this[Tn].has(e))return!1;let t=this[Tn].get(e).value;return!Fa(this,t)}get(e){return bf(this,e,!0)}peek(e){return bf(this,e,!1)}pop(){let e=this[ht].tail;return e?(Ni(this,e),e.value):null}del(e){Ni(this,this[Tn].get(e))}load(e){this.reset();let t=Date.now();for(let r=e.length-1;r>=0;r--){let i=e[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-t;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Tn].forEach((e,t)=>bf(this,t,!1))}},bf=(n,e,t)=>{let r=n[Tn].get(e);if(r){let i=r.value;if(Fa(n,i)){if(Ni(n,r),!n[Po])return}else t&&(n[_b]&&(r.value.now=Date.now()),n[ht].unshiftNode(r));return i.value}},Fa=(n,e)=>{if(!e||!e.maxAge&&!n[Gr])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:n[Gr]&&t>n[Gr]},To=n=>{if(n[ir]>n[Br])for(let e=n[ht].tail;n[ir]>n[Br]&&e!==null;){let t=e.prev;Ni(n,e),e=t}},Ni=(n,e)=>{if(e){let t=e.value;n[rr]&&n[rr](t.key,t.value),n[ir]-=t.length,n[Tn].delete(t.key),n[ht].removeNode(e)}},wf=class{constructor(e,t,r,i,o){this.key=e,this.value=t,this.length=r,this.now=i,this.maxAge=o||0}},Db=(n,e,t,r)=>{let i=t.value;Fa(n,i)&&(Ni(n,t),n[Po]||(i=void 0)),i&&e.call(r,i.value,i.key,n)};Sb.exports=Cf});var Xr=k((pE,Pb)=>{var Tb=Ro(),oT=(n,e,t)=>new Tb(n,t).compare(new Tb(e,t));Pb.exports=oT});var kb=k((gE,qb)=>{var sT=Xr(),aT=(n,e,t)=>sT(n,e,t)===0;qb.exports=aT});var xb=k((mE,Eb)=>{var cT=Xr(),uT=(n,e,t)=>cT(n,e,t)!==0;Eb.exports=uT});var Fb=k((vE,Ib)=>{var lT=Xr(),dT=(n,e,t)=>lT(n,e,t)>0;Ib.exports=dT});var Nb=k((yE,Ob)=>{var fT=Xr(),hT=(n,e,t)=>fT(n,e,t)>=0;Ob.exports=hT});var Ab=k((bE,Lb)=>{var pT=Xr(),gT=(n,e,t)=>pT(n,e,t)<0;Lb.exports=gT});var jb=k((CE,Mb)=>{var mT=Xr(),vT=(n,e,t)=>mT(n,e,t)<=0;Mb.exports=vT});var Hb=k((wE,$b)=>{var yT=kb(),bT=xb(),CT=Fb(),wT=Nb(),DT=Ab(),_T=jb(),ST=(n,e,t,r)=>{switch(e){case"===":return typeof n=="object"&&(n=n.version),typeof t=="object"&&(t=t.version),n===t;case"!==":return typeof n=="object"&&(n=n.version),typeof t=="object"&&(t=t.version),n!==t;case"":case"=":case"==":return yT(n,t,r);case"!=":return bT(n,t,r);case">":return CT(n,t,r);case">=":return wT(n,t,r);case"<":return DT(n,t,r);case"<=":return _T(n,t,r);default:throw new TypeError(`Invalid operator: ${e}`)}};$b.exports=ST});var Gb=k((DE,Bb)=>{var qo=Symbol("SemVer ANY"),Sf=class n{static get ANY(){return qo}constructor(e,t){if(t=Ub(t),e instanceof n){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),_f("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===qo?this.value="":this.value=this.operator+this.semver.version,_f("comp",this)}parse(e){let t=this.options.loose?Wb[zb.COMPARATORLOOSE]:Wb[zb.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Kb(r[2],this.options.loose):this.semver=qo}toString(){return this.value}test(e){if(_f("Comparator.test",e,this.options.loose),this.semver===qo||e===qo)return!0;if(typeof e=="string")try{e=new Kb(e,this.options)}catch{return!1}return Df(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Vb(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new Vb(this.value,t).test(e.semver):(t=Ub(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Df(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Df(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Bb.exports=Sf;var Ub=Ea(),{safeRe:Wb,t:zb}=ka(),Df=Hb(),_f=So(),Kb=Ro(),Vb=Rf()});var Rf=k((_E,Yb)=>{var Tf=class n{constructor(e,t){if(t=TT(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof Pf)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!Jb(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&FT(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&xT)|(this.options.loose&&IT))+":"+e,i=Xb.get(r);if(i)return i;let o=this.options.loose,s=o?zt[Et.HYPHENRANGELOOSE]:zt[Et.HYPHENRANGE];e=e.replace(s,WT(this.options.includePrerelease)),Me("hyphen replace",e),e=e.replace(zt[Et.COMPARATORTRIM],qT),Me("comparator trim",e),e=e.replace(zt[Et.TILDETRIM],kT),Me("tilde trim",e),e=e.replace(zt[Et.CARETTRIM],ET),Me("caret trim",e);let a=e.split(" ").map(g=>OT(g,this.options)).join(" ").split(/\s+/).map(g=>UT(g,this.options));o&&(a=a.filter(g=>(Me("loose invalid filter",g,this.options),!!g.match(zt[Et.COMPARATORLOOSE])))),Me("range list",a);let c=new Map,l=a.map(g=>new Pf(g,this.options));for(let g of l){if(Jb(g))return[g];c.set(g.value,g)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return Xb.set(r,f),f}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some(r=>Qb(r,t)&&e.set.some(i=>Qb(i,t)&&r.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new PT(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(zT(this.set[t],e,this.options))return!0;return!1}};Yb.exports=Tf;var RT=Rb(),Xb=new RT({max:1e3}),TT=Ea(),Pf=Gb(),Me=So(),PT=Ro(),{safeRe:zt,t:Et,comparatorTrimReplace:qT,tildeTrimReplace:kT,caretTrimReplace:ET}=ka(),{FLAG_INCLUDE_PRERELEASE:xT,FLAG_LOOSE:IT}=qa(),Jb=n=>n.value==="<0.0.0-0",FT=n=>n.value==="",Qb=(n,e)=>{let t=!0,r=n.slice(),i=r.pop();for(;t&&r.length;)t=r.every(o=>i.intersects(o,e)),i=r.pop();return t},OT=(n,e)=>(Me("comp",n,e),n=AT(n,e),Me("caret",n),n=NT(n,e),Me("tildes",n),n=jT(n,e),Me("xrange",n),n=HT(n,e),Me("stars",n),n),xt=n=>!n||n.toLowerCase()==="x"||n==="*",NT=(n,e)=>n.trim().split(/\s+/).map(t=>LT(t,e)).join(" "),LT=(n,e)=>{let t=e.loose?zt[Et.TILDELOOSE]:zt[Et.TILDE];return n.replace(t,(r,i,o,s,a)=>{Me("tilde",n,r,i,o,s,a);let c;return xt(i)?c="":xt(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:xt(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Me("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Me("tilde return",c),c})},AT=(n,e)=>n.trim().split(/\s+/).map(t=>MT(t,e)).join(" "),MT=(n,e)=>{Me("caret",n,e);let t=e.loose?zt[Et.CARETLOOSE]:zt[Et.CARET],r=e.includePrerelease?"-0":"";return n.replace(t,(i,o,s,a,c)=>{Me("caret",n,i,o,s,a,c);let l;return xt(o)?l="":xt(s)?l=`>=${o}.0.0${r} <${+o+1}.0.0-0`:xt(a)?o==="0"?l=`>=${o}.${s}.0${r} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.0${r} <${+o+1}.0.0-0`:c?(Me("replaceCaret pr",c),o==="0"?s==="0"?l=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(Me("no pr"),o==="0"?s==="0"?l=`>=${o}.${s}.${a}${r} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}${r} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Me("caret return",l),l})},jT=(n,e)=>(Me("replaceXRanges",n,e),n.split(/\s+/).map(t=>$T(t,e)).join(" ")),$T=(n,e)=>{n=n.trim();let t=e.loose?zt[Et.XRANGELOOSE]:zt[Et.XRANGE];return n.replace(t,(r,i,o,s,a,c)=>{Me("xRange",n,r,i,o,s,a,c);let l=xt(o),f=l||xt(s),g=f||xt(a),m=g;return i==="="&&m&&(i=""),c=e.includePrerelease?"-0":"",l?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&m?(f&&(s=0),a=0,i===">"?(i=">=",f?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",f?o=+o+1:s=+s+1),i==="<"&&(c="-0"),r=`${i+o}.${s}.${a}${c}`):f?r=`>=${o}.0.0${c} <${+o+1}.0.0-0`:g&&(r=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),Me("xRange return",r),r})},HT=(n,e)=>(Me("replaceStars",n,e),n.trim().replace(zt[Et.STAR],"")),UT=(n,e)=>(Me("replaceGTE0",n,e),n.trim().replace(zt[e.includePrerelease?Et.GTE0PRE:Et.GTE0],"")),WT=n=>(e,t,r,i,o,s,a,c,l,f,g,m,w)=>(xt(r)?t="":xt(i)?t=`>=${r}.0.0${n?"-0":""}`:xt(o)?t=`>=${r}.${i}.0${n?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${n?"-0":""}`,xt(l)?c="":xt(f)?c=`<${+l+1}.0.0-0`:xt(g)?c=`<${l}.${+f+1}.0-0`:m?c=`<=${l}.${f}.${g}-${m}`:n?c=`<${l}.${f}.${+g+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),zT=(n,e,t)=>{for(let r=0;r<n.length;r++)if(!n[r].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let r=0;r<n.length;r++)if(Me(n[r].semver),n[r].semver!==Pf.ANY&&n[r].semver.prerelease.length>0){let i=n[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var eC=k((SE,Zb)=>{var KT=Rf(),VT=(n,e,t)=>{try{e=new KT(e,t)}catch{return!1}return e.test(n)};Zb.exports=VT});var nC=k(Zt=>{"use strict";var BT=Zt&&Zt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),qf=Zt&&Zt.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&BT(e,n,t)};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.DiagnosticPullMode=Zt.vsdiag=void 0;qf(ee(),Zt);qf(ye(),Zt);var tC=xl();Object.defineProperty(Zt,"vsdiag",{enumerable:!0,get:function(){return tC.vsdiag}});Object.defineProperty(Zt,"DiagnosticPullMode",{enumerable:!0,get:function(){return tC.DiagnosticPullMode}});qf(hf(),Zt)});var Af=k(Kt=>{"use strict";var GT=Kt&&Kt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),oC=Kt&&Kt.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&GT(e,n,t)};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.SettingMonitor=Kt.LanguageClient=Kt.TransportKind=void 0;var or=require("child_process"),kf=require("fs"),Ef=require("path"),Pr=require("vscode"),We=cn(),rC=hf(),XT=eb(),Ve=pf(),JT=mb(),QT=eC();oC(pf(),Kt);oC(nC(),Kt);var iC="^1.82.0",Be;(function(n){n[n.stdio=0]="stdio",n[n.ipc=1]="ipc",n[n.pipe=2]="pipe",n[n.socket=3]="socket"})(Be||(Kt.TransportKind=Be={}));var Tr;(function(n){function e(t){let r=t;return r&&r.kind===Be.socket&&We.number(r.port)}n.isSocket=e})(Tr||(Tr={}));var xf;(function(n){function e(t){return We.string(t.command)}n.is=e})(xf||(xf={}));var If;(function(n){function e(t){return We.string(t.module)}n.is=e})(If||(If={}));var Ff;(function(n){function e(t){let r=t;return r&&r.writer!==void 0&&r.reader!==void 0}n.is=e})(Ff||(Ff={}));var Of;(function(n){function e(t){let r=t;return r&&r.process!==void 0&&typeof r.detached=="boolean"}n.is=e})(Of||(Of={}));var Nf=class extends rC.BaseLanguageClient{constructor(e,t,r,i,o){let s,a,c,l,f;We.string(t)?(s=e,a=t,c=r,l=i,f=!!o):(s=e.toLowerCase(),a=e,c=t,l=r,f=i),f===void 0&&(f=!1),super(s,a,l),this._serverOptions=c,this._forceDebug=f,this._isInDebugMode=f;try{this.checkVersion()}catch(g){throw We.string(g.message)&&this.outputChannel.appendLine(g.message),g}}checkVersion(){let e=JT(Pr.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Pr.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!QT(e,iC))throw new Error(`The language client requires VS Code version ${iC} but received version ${Pr.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let t=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(t),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,XT.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(f,g){if(!f&&!g)return;let m=Object.create(null);return Object.keys(process.env).forEach(w=>m[w]=process.env[w]),g&&(m.ELECTRON_RUN_AS_NODE="1",m.ELECTRON_NO_ASAR="1"),f&&Object.keys(f).forEach(w=>m[w]=f[w]),m}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let f=process.execArgv;return f?f.some(g=>r.some(m=>g.startsWith(m))||i.some(m=>g===m)):!1}function s(f){if(f.stdin===null||f.stdout===null||f.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(We.func(a))return a().then(f=>{if(rC.MessageTransports.is(f))return this._isDetached=!!f.detached,f;if(Ff.is(f))return this._isDetached=!!f.detached,{reader:new Ve.StreamMessageReader(f.reader),writer:new Ve.StreamMessageWriter(f.writer)};{let g;return Of.is(f)?(g=f.process,this._isDetached=f.detached):(g=f,this._isDetached=!1),g.stderr.on("data",m=>this.outputChannel.append(We.string(m)?m:m.toString(e))),{reader:new Ve.StreamMessageReader(g.stdout),writer:new Ve.StreamMessageWriter(g.stdin)}}});let c,l=a;return l.run||l.debug?this._forceDebug||o()?(c=l.debug,this._isInDebugMode=!0):(c=l.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(f=>{if(If.is(c)&&c.module){let g=c,m=g.transport||Be.stdio;if(g.runtime){let w=[],y=g.options??Object.create(null);y.execArgv&&y.execArgv.forEach(L=>w.push(L)),w.push(g.module),g.args&&g.args.forEach(L=>w.push(L));let C=Object.create(null);C.cwd=f,C.env=t(y.env,!1);let P=this._getRuntimePath(g.runtime,f),x;if(m===Be.ipc?(C.stdio=[null,null,null,"ipc"],w.push("--node-ipc")):m===Be.stdio?w.push("--stdio"):m===Be.pipe?(x=(0,Ve.generateRandomPipeName)(),w.push(`--pipe=${x}`)):Tr.isSocket(m)&&w.push(`--socket=${m.port}`),w.push(`--clientProcessId=${process.pid.toString()}`),m===Be.ipc||m===Be.stdio){let L=or.spawn(P,w,C);return!L||!L.pid?Li(L,`Launching server using runtime ${P} failed.`):(this._serverProcess=L,L.stderr.on("data",O=>this.outputChannel.append(We.string(O)?O:O.toString(e))),m===Be.ipc?(L.stdout.on("data",O=>this.outputChannel.append(We.string(O)?O:O.toString(e))),Promise.resolve({reader:new Ve.IPCMessageReader(L),writer:new Ve.IPCMessageWriter(L)})):Promise.resolve({reader:new Ve.StreamMessageReader(L.stdout),writer:new Ve.StreamMessageWriter(L.stdin)}))}else{if(m===Be.pipe)return(0,Ve.createClientPipeTransport)(x).then(L=>{let O=or.spawn(P,w,C);return!O||!O.pid?Li(O,`Launching server using runtime ${P} failed.`):(this._serverProcess=O,O.stderr.on("data",M=>this.outputChannel.append(We.string(M)?M:M.toString(e))),O.stdout.on("data",M=>this.outputChannel.append(We.string(M)?M:M.toString(e))),L.onConnected().then(M=>({reader:M[0],writer:M[1]})))});if(Tr.isSocket(m))return(0,Ve.createClientSocketTransport)(m.port).then(L=>{let O=or.spawn(P,w,C);return!O||!O.pid?Li(O,`Launching server using runtime ${P} failed.`):(this._serverProcess=O,O.stderr.on("data",M=>this.outputChannel.append(We.string(M)?M:M.toString(e))),O.stdout.on("data",M=>this.outputChannel.append(We.string(M)?M:M.toString(e))),L.onConnected().then(M=>({reader:M[0],writer:M[1]})))})}}else{let w;return new Promise((y,C)=>{let P=(g.args&&g.args.slice())??[];m===Be.ipc?P.push("--node-ipc"):m===Be.stdio?P.push("--stdio"):m===Be.pipe?(w=(0,Ve.generateRandomPipeName)(),P.push(`--pipe=${w}`)):Tr.isSocket(m)&&P.push(`--socket=${m.port}`),P.push(`--clientProcessId=${process.pid.toString()}`);let x=g.options??Object.create(null);if(x.env=t(x.env,!0),x.execArgv=x.execArgv||[],x.cwd=f,x.silent=!0,m===Be.ipc||m===Be.stdio){let L=or.fork(g.module,P||[],x);s(L),this._serverProcess=L,L.stderr.on("data",O=>this.outputChannel.append(We.string(O)?O:O.toString(e))),m===Be.ipc?(L.stdout.on("data",O=>this.outputChannel.append(We.string(O)?O:O.toString(e))),y({reader:new Ve.IPCMessageReader(this._serverProcess),writer:new Ve.IPCMessageWriter(this._serverProcess)})):y({reader:new Ve.StreamMessageReader(L.stdout),writer:new Ve.StreamMessageWriter(L.stdin)})}else m===Be.pipe?(0,Ve.createClientPipeTransport)(w).then(L=>{let O=or.fork(g.module,P||[],x);s(O),this._serverProcess=O,O.stderr.on("data",M=>this.outputChannel.append(We.string(M)?M:M.toString(e))),O.stdout.on("data",M=>this.outputChannel.append(We.string(M)?M:M.toString(e))),L.onConnected().then(M=>{y({reader:M[0],writer:M[1]})},C)},C):Tr.isSocket(m)&&(0,Ve.createClientSocketTransport)(m.port).then(L=>{let O=or.fork(g.module,P||[],x);s(O),this._serverProcess=O,O.stderr.on("data",M=>this.outputChannel.append(We.string(M)?M:M.toString(e))),O.stdout.on("data",M=>this.outputChannel.append(We.string(M)?M:M.toString(e))),L.onConnected().then(M=>{y({reader:M[0],writer:M[1]})},C)},C)})}}else if(xf.is(c)&&c.command){let g=c,m=c.args!==void 0?c.args.slice(0):[],w,y=c.transport;if(y===Be.stdio)m.push("--stdio");else if(y===Be.pipe)w=(0,Ve.generateRandomPipeName)(),m.push(`--pipe=${w}`);else if(Tr.isSocket(y))m.push(`--socket=${y.port}`);else if(y===Be.ipc)throw new Error("Transport kind ipc is not support for command executable");let C=Object.assign({},g.options);if(C.cwd=C.cwd||f,y===void 0||y===Be.stdio){let P=or.spawn(g.command,m,C);return!P||!P.pid?Li(P,`Launching server using command ${g.command} failed.`):(P.stderr.on("data",x=>this.outputChannel.append(We.string(x)?x:x.toString(e))),this._serverProcess=P,this._isDetached=!!C.detached,Promise.resolve({reader:new Ve.StreamMessageReader(P.stdout),writer:new Ve.StreamMessageWriter(P.stdin)}))}else{if(y===Be.pipe)return(0,Ve.createClientPipeTransport)(w).then(P=>{let x=or.spawn(g.command,m,C);return!x||!x.pid?Li(x,`Launching server using command ${g.command} failed.`):(this._serverProcess=x,this._isDetached=!!C.detached,x.stderr.on("data",L=>this.outputChannel.append(We.string(L)?L:L.toString(e))),x.stdout.on("data",L=>this.outputChannel.append(We.string(L)?L:L.toString(e))),P.onConnected().then(L=>({reader:L[0],writer:L[1]})))});if(Tr.isSocket(y))return(0,Ve.createClientSocketTransport)(y.port).then(P=>{let x=or.spawn(g.command,m,C);return!x||!x.pid?Li(x,`Launching server using command ${g.command} failed.`):(this._serverProcess=x,this._isDetached=!!C.detached,x.stderr.on("data",L=>this.outputChannel.append(We.string(L)?L:L.toString(e))),x.stdout.on("data",L=>this.outputChannel.append(We.string(L)?L:L.toString(e))),P.onConnected().then(L=>({reader:L[0],writer:L[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(f,g)=>{f!==null&&this.error(`Server process exited with code ${f}.`,void 0,!1),g!==null&&this.error(`Server process exited with signal ${g}.`,void 0,!1)})})}_getRuntimePath(e,t){if(Ef.isAbsolute(e))return e;let r=this._mainGetRootPath();if(r!==void 0){let i=Ef.join(r,e);if(kf.existsSync(i))return i}if(t!==void 0){let i=Ef.join(t,e);if(kf.existsSync(i))return i}return e}_mainGetRootPath(){let e=Pr.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(r=>{kf.lstat(t,(i,o)=>{r(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}};Kt.LanguageClient=Nf;var Lf=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return Pr.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Pr.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,i=r?Pr.workspace.getConfiguration(t).get(r,!1):Pr.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};Kt.SettingMonitor=Lf;function Li(n,e){return n===null?Promise.reject(e):new Promise((t,r)=>{n.on("error",i=>{r(`${e} ${i}`)}),setImmediate(()=>r(e))})}});var aC=k(Te=>{"use strict";var YT=Te&&Te.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),ZT=Te&&Te.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&YT(e,n,t)};Object.defineProperty(Te,"__esModule",{value:!0});Te.supportLabsVersion=Te.parseServerCommand=Te.middleware=Te.getTsdk=Te.activateTsVersionStatusItem=Te.activateServerSys=Te.activateTsConfigStatusItem=Te.activateReloadProjects=Te.activateFindFileReferences=Te.activateWriteVirtualFiles=Te.activateDocumentDropEdit=Te.activateAutoInsertion=void 0;var qr=require("vscode"),eP=Km();Object.defineProperty(Te,"activateAutoInsertion",{enumerable:!0,get:function(){return eP.activate}});var tP=Vm();Object.defineProperty(Te,"activateDocumentDropEdit",{enumerable:!0,get:function(){return tP.activate}});var nP=Bm();Object.defineProperty(Te,"activateWriteVirtualFiles",{enumerable:!0,get:function(){return nP.activate}});var rP=nv();Object.defineProperty(Te,"activateFindFileReferences",{enumerable:!0,get:function(){return rP.activate}});var iP=rv();Object.defineProperty(Te,"activateReloadProjects",{enumerable:!0,get:function(){return iP.activate}});var oP=sv();Object.defineProperty(Te,"activateTsConfigStatusItem",{enumerable:!0,get:function(){return oP.activate}});var sP=av();Object.defineProperty(Te,"activateServerSys",{enumerable:!0,get:function(){return sP.activate}});var sC=hv();Object.defineProperty(Te,"activateTsVersionStatusItem",{enumerable:!0,get:function(){return sC.activate}});Object.defineProperty(Te,"getTsdk",{enumerable:!0,get:function(){return sC.getTsdk}});ZT(Af(),Te);Te.middleware={async provideCodeActions(n,e,t,r,i){let o=await i(n,e,t,r);return o=o==null?void 0:o.map(s=>s instanceof qr.CodeAction?(s.command&&(s.command=Ai(s.command)),s):Ai(s)),o},async resolveCodeAction(n,e,t){let r=await t(n,e);return r!=null&&r.command&&(r.command=Ai(r.command)),r},async provideCodeLenses(n,e,t){let r=await t(n,e);return r=r==null?void 0:r.map(i=>(i.command&&(i.command=Ai(i.command)),i)),r},async resolveCodeLens(n,e,t){let r=await t(n,e);return r!=null&&r.command&&(r.command=Ai(r.command)),r}};function Ai(n){return n.command==="editor.action.rename"&&n.arguments?{...n,arguments:[[qr.Uri.parse(n.arguments[0]),new qr.Position(n.arguments[1].line,n.arguments[1].character)]]}:n.command==="editor.action.showReferences"&&n.arguments?{...n,arguments:[qr.Uri.parse(n.arguments[0]),new qr.Position(n.arguments[1].line,n.arguments[1].character),n.arguments[2].map(e=>new qr.Location(qr.Uri.parse(e.uri),new qr.Range(e.range.start.line,e.range.start.character,e.range.end.line,e.range.end.character)))]}:n}Te.parseServerCommand=Ai;Te.supportLabsVersion="2.0.0-alpha.3"});var uC=k((qE,cC)=>{"use strict";cC.exports=Af()});var lC=k(Jr=>{"use strict";var aP=Jr&&Jr.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),cP=Jr&&Jr.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&aP(e,n,t)};Object.defineProperty(Jr,"__esModule",{value:!0});cP(uC(),Jr)});var BP={};sw(BP,{activate:()=>zP,deactivate:()=>KP});module.exports=aw(BP);var WP=Fo(Jn()),kr=Fo(aC()),Pn=require("vscode"),Ua=Fo(lC());var Ha=Fo(require("node:path/posix")),xo=require("vscode");var dC={}.hasOwnProperty;function fC(n,e){let t=e||{};function r(i,...o){let s=r.invalid,a=r.handlers;if(i&&dC.call(i,n)){let c=String(i[n]);s=dC.call(a,c)?a[c]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=t.handlers||{},r.invalid=t.invalid,r.unknown=t.unknown,r}var uP={}.hasOwnProperty;function Mf(n,e){let t=-1,r;if(e.extensions)for(;++t<e.extensions.length;)Mf(n,e.extensions[t]);for(r in e)if(uP.call(e,r))switch(r){case"extensions":break;case"unsafe":{hC(n[r],e[r]);break}case"join":{hC(n[r],e[r]);break}case"handlers":{lP(n[r],e[r]);break}default:n.options[r]=e[r]}return n}function hC(n,e){e&&n.push(...e)}function lP(n,e){e&&Object.assign(n,e)}function pC(n,e,t,r){let i=t.enter("blockquote"),o=t.createTracker(r);o.move("> "),o.shift(2);let s=t.indentLines(t.containerFlow(n,o.current()),dP);return i(),s}function dP(n,e,t){return">"+(t?"":" ")+n}function Oa(n,e){return gC(n,e.inConstruct,!0)&&!gC(n,e.notInConstruct,!1)}function gC(n,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let r=-1;for(;++r<e.length;)if(n.includes(e[r]))return!0;return!1}function jf(n,e,t,r){let i=-1;for(;++i<t.unsafe.length;)if(t.unsafe[i].character===`
`&&Oa(t.stack,t.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function mC(n,e){let t=String(n),r=t.indexOf(e),i=r,o=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+e.length,r=t.indexOf(e,i);return s}function ko(n,e){return!!(e.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function vC(n){let e=n.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function yC(n,e,t,r){let i=vC(t),o=n.value||"",s=i==="`"?"GraveAccent":"Tilde";if(ko(n,t)){let g=t.enter("codeIndented"),m=t.indentLines(o,fP);return g(),m}let a=t.createTracker(r),c=i.repeat(Math.max(mC(o,i)+1,3)),l=t.enter("codeFenced"),f=a.move(c);if(n.lang){let g=t.enter(`codeFencedLang${s}`);f+=a.move(t.safe(n.lang,{before:f,after:" ",encode:["`"],...a.current()})),g()}if(n.lang&&n.meta){let g=t.enter(`codeFencedMeta${s}`);f+=a.move(" "),f+=a.move(t.safe(n.meta,{before:f,after:`
`,encode:["`"],...a.current()})),g()}return f+=a.move(`
`),o&&(f+=a.move(o+`
`)),f+=a.move(c),l(),f}function fP(n,e,t){return(t?"":"    ")+n}function Mi(n){let e=n.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function bC(n,e,t,r){let i=Mi(t),o=i==='"'?"Quote":"Apostrophe",s=t.enter("definition"),a=t.enter("label"),c=t.createTracker(r),l=c.move("[");return l+=c.move(t.safe(t.associationId(n),{before:l,after:"]",...c.current()})),l+=c.move("]: "),a(),!n.url||/[\0- \u007F]/.test(n.url)?(a=t.enter("destinationLiteral"),l+=c.move("<"),l+=c.move(t.safe(n.url,{before:l,after:">",...c.current()})),l+=c.move(">")):(a=t.enter("destinationRaw"),l+=c.move(t.safe(n.url,{before:l,after:n.title?" ":`
`,...c.current()}))),a(),n.title&&(a=t.enter(`title${o}`),l+=c.move(" "+i),l+=c.move(t.safe(n.title,{before:l,after:i,...c.current()})),l+=c.move(i),a()),s(),l}function CC(n){let e=n.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}$f.peek=hP;function $f(n,e,t,r){let i=CC(t),o=t.enter("emphasis"),s=t.createTracker(r),a=s.move(i);return a+=s.move(t.containerPhrasing(n,{before:a,after:i,...s.current()})),a+=s.move(i),o(),a}function hP(n,e,t){return t.options.emphasis||"*"}var ji=function(n){if(n==null)return vP;if(typeof n=="function")return Na(n);if(typeof n=="object")return Array.isArray(n)?pP(n):gP(n);if(typeof n=="string")return mP(n);throw new Error("Expected function, string, or object as test")};function pP(n){let e=[],t=-1;for(;++t<n.length;)e[t]=ji(n[t]);return Na(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function gP(n){let e=n;return Na(t);function t(r){let i=r,o;for(o in n)if(i[o]!==e[o])return!1;return!0}}function mP(n){return Na(e);function e(t){return t&&t.type===n}}function Na(n){return e;function e(t,r,i){return!!(yP(t)&&n.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function vP(){return!0}function yP(n){return n!==null&&typeof n=="object"&&"type"in n}function wC(n){return"\x1B[33m"+n+"\x1B[39m"}var DC=[],La=!0,Qr=!1,Aa="skip";function Hf(n,e,t,r){let i;typeof e=="function"&&typeof t!="function"?(r=t,t=e):i=e;let o=ji(i),s=r?-1:1;a(n,void 0,[])();function a(c,l,f){let g=c&&typeof c=="object"?c:{};if(typeof g.type=="string"){let w=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(m,"name",{value:"node ("+wC(c.type+(w?"<"+w+">":""))+")"})}return m;function m(){let w=DC,y,C,P;if((!e||o(c,l,f[f.length-1]||void 0))&&(w=bP(t(c,f)),w[0]===Qr))return w;if("children"in c&&c.children){let x=c;if(x.children&&w[0]!==Aa)for(C=(r?x.children.length:-1)+s,P=f.concat(x);C>-1&&C<x.children.length;){let L=x.children[C];if(y=a(L,C,P)(),y[0]===Qr)return y;C=typeof y[1]=="number"?y[1]:C+s}}return w}}}function bP(n){return Array.isArray(n)?n:typeof n=="number"?[La,n]:n==null?DC:[n]}function Uf(n,e,t,r){let i,o,s;typeof e=="function"&&typeof t!="function"?(o=void 0,s=e,i=t):(o=e,s=t,i=r),Hf(n,o,a,i);function a(c,l){let f=l[l.length-1],g=f?f.children.indexOf(c):void 0;return s(c,g,f)}}var CP={};function Eo(n,e){let t=e||CP,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return SC(n,r,i)}function SC(n,e,t){if(wP(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return _C(n.children,e,t)}return Array.isArray(n)?_C(n,e,t):""}function _C(n,e,t){let r=[],i=-1;for(;++i<n.length;)r[i]=SC(n[i],e,t);return r.join("")}function wP(n){return!!(n&&typeof n=="object")}function Ma(n,e){let t=!1;return Uf(n,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return t=!0,Qr}),!!((!n.depth||n.depth<3)&&Eo(n)&&(e.options.setext||t))}function RC(n,e,t,r){let i=Math.max(Math.min(6,n.depth||1),1),o=t.createTracker(r);if(Ma(n,t)){let f=t.enter("headingSetext"),g=t.enter("phrasing"),m=t.containerPhrasing(n,{...o.current(),before:`
`,after:`
`});return g(),f(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}let s="#".repeat(i),a=t.enter("headingAtx"),c=t.enter("phrasing");o.move(s+" ");let l=t.containerPhrasing(n,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(l)&&(l="&#x"+l.charCodeAt(0).toString(16).toUpperCase()+";"+l.slice(1)),l=l?s+" "+l:s,t.options.closeAtx&&(l+=" "+s),c(),a(),l}Wf.peek=DP;function Wf(n){return n.value||""}function DP(){return"<"}zf.peek=_P;function zf(n,e,t,r){let i=Mi(t),o=i==='"'?"Quote":"Apostrophe",s=t.enter("image"),a=t.enter("label"),c=t.createTracker(r),l=c.move("![");return l+=c.move(t.safe(n.alt,{before:l,after:"]",...c.current()})),l+=c.move("]("),a(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(a=t.enter("destinationLiteral"),l+=c.move("<"),l+=c.move(t.safe(n.url,{before:l,after:">",...c.current()})),l+=c.move(">")):(a=t.enter("destinationRaw"),l+=c.move(t.safe(n.url,{before:l,after:n.title?" ":")",...c.current()}))),a(),n.title&&(a=t.enter(`title${o}`),l+=c.move(" "+i),l+=c.move(t.safe(n.title,{before:l,after:i,...c.current()})),l+=c.move(i),a()),l+=c.move(")"),s(),l}function _P(){return"!"}Kf.peek=SP;function Kf(n,e,t,r){let i=n.referenceType,o=t.enter("imageReference"),s=t.enter("label"),a=t.createTracker(r),c=a.move("!["),l=t.safe(n.alt,{before:c,after:"]",...a.current()});c+=a.move(l+"]["),s();let f=t.stack;t.stack=[],s=t.enter("reference");let g=t.safe(t.associationId(n),{before:c,after:"]",...a.current()});return s(),t.stack=f,o(),i==="full"||!l||l!==g?c+=a.move(g+"]"):i==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function SP(){return"!"}Vf.peek=RP;function Vf(n,e,t){let r=n.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<t.unsafe.length;){let s=t.unsafe[o],a=t.compilePattern(s),c;if(s.atBreak)for(;c=a.exec(r);){let l=c.index;r.charCodeAt(l)===10&&r.charCodeAt(l-1)===13&&l--,r=r.slice(0,l)+" "+r.slice(c.index+1)}}return i+r+i}function RP(){return"`"}function Bf(n,e){let t=Eo(n);return!!(!e.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(t===n.url||"mailto:"+t===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}Gf.peek=TP;function Gf(n,e,t,r){let i=Mi(t),o=i==='"'?"Quote":"Apostrophe",s=t.createTracker(r),a,c;if(Bf(n,t)){let f=t.stack;t.stack=[],a=t.enter("autolink");let g=s.move("<");return g+=s.move(t.containerPhrasing(n,{before:g,after:">",...s.current()})),g+=s.move(">"),a(),t.stack=f,g}a=t.enter("link"),c=t.enter("label");let l=s.move("[");return l+=s.move(t.containerPhrasing(n,{before:l,after:"](",...s.current()})),l+=s.move("]("),c(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(c=t.enter("destinationLiteral"),l+=s.move("<"),l+=s.move(t.safe(n.url,{before:l,after:">",...s.current()})),l+=s.move(">")):(c=t.enter("destinationRaw"),l+=s.move(t.safe(n.url,{before:l,after:n.title?" ":")",...s.current()}))),c(),n.title&&(c=t.enter(`title${o}`),l+=s.move(" "+i),l+=s.move(t.safe(n.title,{before:l,after:i,...s.current()})),l+=s.move(i),c()),l+=s.move(")"),a(),l}function TP(n,e,t){return Bf(n,t)?"<":"["}Xf.peek=PP;function Xf(n,e,t,r){let i=n.referenceType,o=t.enter("linkReference"),s=t.enter("label"),a=t.createTracker(r),c=a.move("["),l=t.containerPhrasing(n,{before:c,after:"]",...a.current()});c+=a.move(l+"]["),s();let f=t.stack;t.stack=[],s=t.enter("reference");let g=t.safe(t.associationId(n),{before:c,after:"]",...a.current()});return s(),t.stack=f,o(),i==="full"||!l||l!==g?c+=a.move(g+"]"):i==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function PP(){return"["}function $i(n){let e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function TC(n){let e=$i(n),t=n.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function PC(n){let e=n.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function ja(n){let e=n.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function qC(n,e,t,r){let i=t.enter("list"),o=t.bulletCurrent,s=n.ordered?PC(t):$i(t),a=n.ordered?s==="."?")":".":TC(t),c=e&&t.bulletLastUsed?s===t.bulletLastUsed:!1;if(!n.ordered){let f=n.children?n.children[0]:void 0;if((s==="*"||s==="-")&&f&&(!f.children||!f.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(c=!0),ja(t)===s&&f){let g=-1;for(;++g<n.children.length;){let m=n.children[g];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(s=a),t.bulletCurrent=s;let l=t.containerFlow(n,r);return t.bulletLastUsed=s,t.bulletCurrent=o,i(),l}function kC(n){let e=n.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function EC(n,e,t,r){let i=kC(t),o=t.bulletCurrent||$i(t);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||n.spread))&&(s=Math.ceil(s/4)*4);let a=t.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);let c=t.enter("listItem"),l=t.indentLines(t.containerFlow(n,a.current()),f);return c(),l;function f(g,m,w){return m?(w?"":" ".repeat(s))+g:(w?o:o+" ".repeat(s-o.length))+g}}function xC(n,e,t,r){let i=t.enter("paragraph"),o=t.enter("phrasing"),s=t.containerPhrasing(n,r);return o(),i(),s}var Jf=ji(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function IC(n,e,t,r){return(n.children.some(function(s){return Jf(s)})?t.containerPhrasing:t.containerFlow).call(t,n,r)}function FC(n){let e=n.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Qf.peek=qP;function Qf(n,e,t,r){let i=FC(t),o=t.enter("strong"),s=t.createTracker(r),a=s.move(i+i);return a+=s.move(t.containerPhrasing(n,{before:a,after:i,...s.current()})),a+=s.move(i+i),o(),a}function qP(n,e,t){return t.options.strong||"*"}function OC(n,e,t,r){return t.safe(n.value,r)}function NC(n){let e=n.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function LC(n,e,t){let r=(ja(t)+(t.options.ruleSpaces?" ":"")).repeat(NC(t));return t.options.ruleSpaces?r.slice(0,-1):r}var AC={blockquote:pC,break:jf,code:yC,definition:bC,emphasis:$f,hardBreak:jf,heading:RC,html:Wf,image:zf,imageReference:Kf,inlineCode:Vf,link:Gf,linkReference:Xf,list:qC,listItem:EC,paragraph:xC,root:IC,strong:Qf,text:OC,thematicBreak:LC};var MC=[kP];function kP(n,e,t,r){if(e.type==="code"&&ko(e,r)&&(n.type==="list"||n.type===e.type&&ko(n,r)))return!1;if("spread"in t&&typeof t.spread=="boolean")return n.type==="paragraph"&&(n.type===e.type||e.type==="definition"||e.type==="heading"&&Ma(e,r))?void 0:t.spread?1:0}var Yr=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],jC=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Yr},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Yr},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Yr},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Yr},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Yr},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Yr},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Yr},{atBreak:!0,character:"~"}];var Yf={AElig:"\xC6",AMP:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",Aring:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",Bcy:"\u0411",Because:"\u2235",Bernoullis:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",Bscr:"\u212C",Bumpeq:"\u224E",CHcy:"\u0427",COPY:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",Cayleys:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",CenterDot:"\xB7",Cfr:"\u212D",Chi:"\u03A7",CircleDot:"\u2299",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",Colon:"\u2237",Colone:"\u2A74",Congruent:"\u2261",Conint:"\u222F",ContourIntegral:"\u222E",Copf:"\u2102",Coproduct:"\u2210",CounterClockwiseContourIntegral:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",DD:"\u2145",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",Diamond:"\u22C4",DifferentialD:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",Downarrow:"\u21D3",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",Equilibrium:"\u21CC",Escr:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",ExponentialE:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",HilbertSpace:"\u210B",Hopf:"\u210D",HorizontalLine:"\u2500",Hscr:"\u210B",Hstrok:"\u0126",HumpDownHump:"\u224E",HumpEqual:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Igrave:"\xCC",Im:"\u2111",Imacr:"\u012A",ImaginaryI:"\u2148",Implies:"\u21D2",Int:"\u222C",Integral:"\u222B",Intersection:"\u22C2",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Larr:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",LeftRightArrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",Leftarrow:"\u21D0",Leftrightarrow:"\u21D4",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",LongLeftRightArrow:"\u27F7",LongRightArrow:"\u27F6",Longleftarrow:"\u27F8",Longleftrightarrow:"\u27FA",Longrightarrow:"\u27F9",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",Lscr:"\u2112",Lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",Mopf:"\u{1D544}",Mscr:"\u2133",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",Poincareplane:"\u210C",Popf:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",Prime:"\u2033",Product:"\u220F",Proportion:"\u2237",Proportional:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',Qfr:"\u{1D514}",Qopf:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",REG:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",Rfr:"\u211C",Rho:"\u03A1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",Rightarrow:"\u21D2",Ropf:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",Rscr:"\u211B",Rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",SuchThat:"\u220B",Sum:"\u2211",Sup:"\u22D1",Superset:"\u2283",SupersetEqual:"\u2287",Supset:"\u22D1",THORN:"\xDE",TRADE:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",UpEquilibrium:"\u296E",UpTee:"\u22A5",UpTeeArrow:"\u21A5",Uparrow:"\u21D1",Updownarrow:"\u21D5",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",ZeroWidthSpace:"\u200B",Zeta:"\u0396",Zfr:"\u2128",Zopf:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acute:"\xB4",acy:"\u0430",aelig:"\xE6",af:"\u2061",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",amp:"&",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",ap:"\u2248",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",apid:"\u224B",apos:"'",approx:"\u2248",approxeq:"\u224A",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",asymp:"\u2248",asympeq:"\u224D",atilde:"\xE3",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",beta:"\u03B2",beth:"\u2136",between:"\u226C",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxh:"\u2500",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",bprime:"\u2035",breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",bumpeq:"\u224F",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cedil:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledR:"\xAE",circledS:"\u24C8",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",conint:"\u222E",copf:"\u{1D554}",coprod:"\u2210",copy:"\xA9",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dArr:"\u21D3",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",darr:"\u2193",dash:"\u2010",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",dcaron:"\u010F",dcy:"\u0434",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",ddotseq:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",dharl:"\u21C3",dharr:"\u21C2",diam:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",dot:"\u02D9",doteq:"\u2250",doteqdot:"\u2251",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",downarrow:"\u2193",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eDDot:"\u2A77",eDot:"\u2251",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",ecirc:"\xEA",ecolon:"\u2255",ecy:"\u044D",edot:"\u0117",ee:"\u2147",efDot:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",equals:"=",equest:"\u225F",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",erarr:"\u2971",escr:"\u212F",esdot:"\u2250",esim:"\u2242",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",expectation:"\u2130",exponentiale:"\u2147",fallingdotseq:"\u2252",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",gE:"\u2267",gEl:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gammad:"\u03DD",gap:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",ge:"\u2265",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",gjcy:"\u0453",gl:"\u2277",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",gopf:"\u{1D558}",grave:"`",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hArr:"\u21D4",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",hardcy:"\u044A",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",hbar:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hslash:"\u210F",hstrok:"\u0127",hybull:"\u2043",hyphen:"\u2010",iacute:"\xED",ic:"\u2063",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",image:"\u2111",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",int:"\u222B",intcal:"\u22BA",integers:"\u2124",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",isin:"\u2208",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAarr:"\u21DA",lArr:"\u21D0",lAtail:"\u291B",lBarr:"\u290E",lE:"\u2266",lEg:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",lambda:"\u03BB",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",laquo:"\xAB",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lceil:"\u2308",lcub:"{",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leftarrow:"\u2190",leftarrowtail:"\u21A2",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",leftthreetimes:"\u22CB",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",lessgtr:"\u2276",lesssim:"\u2272",lfisht:"\u297C",lfloor:"\u230A",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",lstrok:"\u0142",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",measuredangle:"\u2221",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",mopf:"\u{1D55E}",mp:"\u2213",mscr:"\u{1D4C2}",mstpos:"\u223E",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nGtv:"\u226B\u0338",nLeftarrow:"\u21CD",nLeftrightarrow:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nLtv:"\u226A\u0338",nRightarrow:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nabla:"\u2207",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",neArr:"\u21D7",nearhk:"\u2924",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",nexist:"\u2204",nexists:"\u2204",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",ngsim:"\u2275",ngt:"\u226F",ngtr:"\u226F",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",njcy:"\u045A",nlArr:"\u21CD",nlE:"\u2266\u0338",nlarr:"\u219A",nldr:"\u2025",nle:"\u2270",nleftarrow:"\u219A",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nlsim:"\u2274",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nmid:"\u2224",nopf:"\u{1D55F}",not:"\xAC",notin:"\u2209",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",oS:"\u24C8",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",ocirc:"\xF4",ocy:"\u043E",odash:"\u229D",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",oplus:"\u2295",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oscr:"\u2134",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimes:"\u2297",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",pr:"\u227A",prE:"\u2AB3",prap:"\u2AB7",prcue:"\u227C",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",prime:"\u2032",primes:"\u2119",prnE:"\u2AB5",prnap:"\u2AB9",prnsim:"\u22E8",prod:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qint:"\u2A0C",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',rAarr:"\u21DB",rArr:"\u21D2",rAtail:"\u291C",rBarr:"\u290F",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rarrw:"\u219D",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rceil:"\u2309",rcub:"}",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",reg:"\xAE",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",rightarrow:"\u2192",rightarrowtail:"\u21A3",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",rightthreetimes:"\u22CC",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",rsaquo:"\u203A",rscr:"\u{1D4C7}",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",sbquo:"\u201A",sc:"\u227B",scE:"\u2AB4",scap:"\u2AB8",scaron:"\u0161",sccue:"\u227D",sce:"\u2AB0",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",scnap:"\u2ABA",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",seArr:"\u21D8",searhk:"\u2925",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shortmid:"\u2223",shortparallel:"\u2225",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",square:"\u25A1",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",subE:"\u2AC5",subdot:"\u2ABD",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",sum:"\u2211",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",sup:"\u2283",supE:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supe:"\u2287",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swarhk:"\u2926",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tbrk:"\u23B4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",tfr:"\u{1D531}",there4:"\u2234",therefore:"\u2234",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223C",thorn:"\xFE",tilde:"\u02DC",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",uArr:"\u21D1",uHar:"\u2963",uacute:"\xFA",uarr:"\u2191",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udarr:"\u21C5",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uml:"\xA8",uogon:"\u0173",uopf:"\u{1D566}",uparrow:"\u2191",updownarrow:"\u2195",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",upsi:"\u03C5",upsih:"\u03D2",upsilon:"\u03C5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",uuml:"\xFC",uwangle:"\u29A7",vArr:"\u21D5",vBar:"\u2AE8",vBarv:"\u2AE9",vDash:"\u22A8",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vcy:"\u0432",vdash:"\u22A2",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",vert:"|",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeetrf:"\u2128",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"};var EP={}.hasOwnProperty;function $C(n){return EP.call(Yf,n)?Yf[n]:!1}function HC(n,e){let t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCodePoint(t)}var xP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function UC(n){return n.replace(xP,IP)}function IP(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){let i=t.charCodeAt(1),o=i===120||i===88;return HC(t.slice(o?2:1),o?16:10)}return $C(t)||n}function WC(n){return n.label||!n.identifier?n.label||"":UC(n.identifier)}function zC(n){if(!n._compiled){let e=(n.atBreak?"[\\r\\n][\\t ]*":"")+(n.before?"(?:"+n.before+")":"");n._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(n.after?"(?:"+n.after+")":""),"g")}return n._compiled}function KC(n,e,t){let r=e.indexStack,i=n.children||[],o=[],s=-1,a=t.before;r.push(-1);let c=e.createTracker(t);for(;++s<i.length;){let l=i[s],f;if(r[r.length-1]=s,s+1<i.length){let g=e.handle.handlers[i[s+1].type];g&&g.peek&&(g=g.peek),f=g?g(i[s+1],n,e,{before:"",after:"",...c.current()}).charAt(0):""}else f=t.after;o.length>0&&(a==="\r"||a===`
`)&&l.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),a=" ",c=e.createTracker(t),c.move(o.join(""))),o.push(c.move(e.handle(l,n,e,{...c.current(),before:a,after:f}))),a=o[o.length-1].slice(-1)}return r.pop(),o.join("")}function VC(n,e,t){let r=e.indexStack,i=n.children||[],o=e.createTracker(t),s=[],a=-1;for(r.push(-1);++a<i.length;){let c=i[a];r[r.length-1]=a,s.push(o.move(e.handle(c,n,e,{before:`
`,after:`
`,...o.current()}))),c.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&s.push(o.move(FP(c,i[a+1],n,e)))}return r.pop(),s.join("")}function FP(n,e,t,r){let i=r.join.length;for(;i--;){let o=r.join[i](n,e,t,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}var OP=/\r?\n|\r/g;function BC(n,e){let t=[],r=0,i=0,o;for(;o=OP.exec(n);)s(n.slice(r,o.index)),t.push(o[0]),r=o.index+o[0].length,i++;return s(n.slice(r)),t.join("");function s(a){t.push(e(a,i,!a))}}function XC(n,e,t){let r=(t.before||"")+(e||"")+(t.after||""),i=[],o=[],s={},a=-1;for(;++a<n.unsafe.length;){let f=n.unsafe[a];if(!Oa(n.stack,f))continue;let g=n.compilePattern(f),m;for(;m=g.exec(r);){let w="before"in f||!!f.atBreak,y="after"in f,C=m.index+(w?m[1].length:0);i.includes(C)?(s[C].before&&!w&&(s[C].before=!1),s[C].after&&!y&&(s[C].after=!1)):(i.push(C),s[C]={before:w,after:y})}}i.sort(NP);let c=t.before?t.before.length:0,l=r.length-(t.after?t.after.length:0);for(a=-1;++a<i.length;){let f=i[a];f<c||f>=l||f+1<l&&i[a+1]===f+1&&s[f].after&&!s[f+1].before&&!s[f+1].after||i[a-1]===f-1&&s[f].before&&!s[f-1].before&&!s[f-1].after||(c!==f&&o.push(GC(r.slice(c,f),"\\")),c=f,/[!-/:-@[-`{-~]/.test(r.charAt(f))&&(!t.encode||!t.encode.includes(r.charAt(f)))?o.push("\\"):(o.push("&#x"+r.charCodeAt(f).toString(16).toUpperCase()+";"),c++))}return o.push(GC(r.slice(c,l),t.after)),o.join("")}function NP(n,e){return n-e}function GC(n,e){let t=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=n+e,s=-1,a=0,c;for(;c=t.exec(o);)r.push(c.index);for(;++s<r.length;)a!==r[s]&&i.push(n.slice(a,r[s])),i.push("\\"),a=r[s];return i.push(n.slice(a)),i.join("")}function JC(n){let e=n||{},t=e.now||{},r=e.lineShift||0,i=t.line||1,o=t.column||1;return{move:c,current:s,shift:a};function s(){return{now:{line:i,column:o},lineShift:r}}function a(l){r+=l}function c(l){let f=l||"",g=f.split(/\r?\n|\r/g),m=g[g.length-1];return i+=g.length-1,o=g.length===1?o+m.length:1+m.length+r,f}}function $a(n,e={}){let t={enter:i,indentLines:BC,associationId:WC,containerPhrasing:jP,containerFlow:$P,createTracker:JC,compilePattern:zC,safe:HP,stack:[],unsafe:[...jC],join:[...MC],handlers:{...AC},options:{},indexStack:[],handle:void 0};Mf(t,e),t.options.tightDefinitions&&t.join.push(MP),t.handle=fC("type",{invalid:LP,unknown:AP,handlers:t.handlers});let r=t.handle(n,void 0,t,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(o){return t.stack.push(o),s;function s(){t.stack.pop()}}}function LP(n){throw new Error("Cannot handle value `"+n+"`, expected node")}function AP(n){let e=n;throw new Error("Cannot handle unknown node `"+e.type+"`")}function MP(n,e){if(n.type==="definition"&&n.type===e.type)return 0}function jP(n,e){return KC(n,this,e)}function $P(n,e){return VC(n,this,e)}function HP(n,e){return XC(this,n,e)}var UP=new Set([".bmp",".gif",".ico",".jpe",".jpeg",".jpg",".png",".psd",".svg",".tga",".tif",".tiff",".webp"]),QC={async provideDocumentDropEdits(n,e,t){let r,i;for(let[o,s]of t){if(o==="text/plain"){r=s;continue}if(o==="text/uri-list"){i=s;continue}if(!o.startsWith("image/"))continue;let a=s.asFile();if(!a)continue;let c=new xo.WorkspaceEdit;return c.createFile(xo.Uri.joinPath(n.uri,"..",a.name),{contents:a,ignoreIfExists:!0}),{insertText:$a({type:"image",url:a.name}).trim(),additionalEdit:c}}if(i){let s=(await i.asString()).split(/\r?\n/),a=[];for(let c of s)try{let l=xo.Uri.parse(c,!0),f=l.scheme===n.uri.scheme?Ha.default.relative(Ha.default.dirname(n.uri.path),l.path):c;a.push($a(UP.has(Ha.default.extname(l.path))?{type:"image",url:f}:{type:"text",value:f}).trim())}catch{continue}return{insertText:a.join(" ")}}return r?{insertText:await r.asString()}:{insertText:""}}};var Wn,YC;async function zP(n){let{tsdk:e}=await(0,kr.getTsdk)(n);return Wn=new Ua.LanguageClient("MDX",{module:n.asAbsolutePath("out/language-server.js"),transport:Ua.TransportKind.ipc},{documentSelector:[{language:"mdx"}],initializationOptions:{typescript:{tsdk:e}}}),t(),n.subscriptions.push(Pn.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration("mdx.server.enable")&&t()})),{volarLabs:{version:kr.supportLabsVersion,languageClient:Wn,languageServerProtocol:WP}};async function t(){await ZC(),Pn.workspace.getConfiguration("mdx").get("server.enable")&&await VP(n)}}async function KP(){await ZC()}async function ZC(){Wn!=null&&Wn.needsStop()&&(YC.dispose(),await Wn.stop())}async function VP(n){Wn.needsStart()&&await Pn.window.withProgress({location:Pn.ProgressLocation.Window,title:"Starting MDX Language Server\u2026"},async()=>{await Wn.start(),YC=Pn.Disposable.from(Pn.languages.registerDocumentDropEditProvider({language:"mdx"},QC),(0,kr.activateAutoInsertion)("mdx",Wn),(0,kr.activateTsVersionStatusItem)("mdx","mdx.selectTypescriptVersion",n,Wn,e=>"TS "+e))})}0&&(module.exports={activate,deactivate});
