"use strict";var Nk=Object.create;var C_=Object.defineProperty;var Ok=Object.getOwnPropertyDescriptor;var kk=Object.getOwnPropertyNames;var xk=Object.getPrototypeOf,Fk=Object.prototype.hasOwnProperty;var Ie=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Lk=(t,e)=>{for(var n in e)C_(t,n,{get:e[n],enumerable:!0})},K0=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of kk(e))!Fk.call(t,o)&&o!==n&&C_(t,o,{get:()=>e[o],enumerable:!(r=Ok(e,o))||r.enumerable});return t};var Mi=(t,e,n)=>(n=t!=null?Nk(xk(t)):{},K0(e||!t||!t.__esModule?C_(n,"default",{value:t,enumerable:!0}):n,t)),Ak=t=>K0(C_({},"__esModule",{value:!0}),t);var X0=Ie(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.BaseTelemetryReporter=void 0;var jS=class{constructor(e,n,r){this.telemetrySender=e,this.vscodeAPI=n,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,n,r,o){o?this.telemetrySender.sendEventData(e,{properties:n,measurements:r}):this.telemetryLogger.logUsage(e,{properties:n,measurements:r})}sendTelemetryEvent(e,n,r){this.internalSendTelemetryEvent(e,n,r,!1)}sendRawTelemetryEvent(e,n,r){let o={...n};for(let f of Object.keys(o??{})){let h=o[f];typeof f=="string"&&h!==void 0&&(o[f]=new this.vscodeAPI.TelemetryTrustedValue(typeof h=="string"?h:h.value))}this.sendTelemetryEvent(e,o,r)}sendDangerousTelemetryEvent(e,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,n,r,!0)}internalSendTelemetryErrorEvent(e,n,r,o){o?this.telemetrySender.sendEventData(e,{properties:n,measurements:r}):this.telemetryLogger.logError(e,{properties:n,measurements:r})}sendTelemetryErrorEvent(e,n,r){this.internalSendTelemetryErrorEvent(e,n,r,!1)}sendDangerousTelemetryErrorEvent(e,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,n,r,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}};E_.BaseTelemetryReporter=jS});var J0=Ie(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.BaseTelemetrySender=void 0;var $h;(function(t){t[t.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",t[t.INSTANTIATING=1]="INSTANTIATING",t[t.INSTANTIATED=2]="INSTANTIATED"})($h||($h={}));var HS=class{constructor(e,n){this._instantiationStatus=$h.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=n,this._key=e}sendEventData(e,n){if(!this._telemetryClient){this._instantiationStatus!==$h.INSTANTIATED&&this._eventQueue.push({eventName:e,data:n});return}this._telemetryClient.logEvent(e,n)}sendErrorData(e,n){if(!this._telemetryClient){this._instantiationStatus!==$h.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:n});return}let r={stack:e.stack,message:e.message,name:e.name};n?n.properties={...n.properties,...r}:n={properties:r},this._telemetryClient.logEvent("unhandlederror",n)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:n})=>this.sendEventData(e,n)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:n})=>this.sendErrorData(e,n)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===$h.NOT_INSTANTIATED&&(this._instantiationStatus=$h.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=$h.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=$h.INSTANTIATED}))}};b_.BaseTelemetrySender=HS});var YS=Ie(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.TelemetryUtil=void 0;var $S=class t{static applyReplacements(e,n){for(let r of Object.keys(e))for(let o of n)o.lookup.test(r)&&(o.replacementString!==void 0?e[r]=o.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.0"}}static getInstance(){return t._instance||(t._instance=new t),t._instance}};w_.TelemetryUtil=$S});var Z0=Ie((R_,Q0)=>{(function(t,e){typeof R_=="object"&&typeof Q0<"u"?e(R_):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.oneDS=t.oneDS||{}))})(R_,function(t){"use strict";var e="function",n="object",r="undefined",o="prototype",f=Object,h=f[o],_=void 0,T=null,N="",A="boolean",U="function",H="number",te="object",Y="prototype",ye="__proto__",Ce="string",qe="undefined",_e="constructor",he="Symbol",$e="_polyfill",Qe="indexOf",Et="length",Ge="done",pt="value",Ft="name",zn="slice",Vt=Object,Nn=Vt[Y],Zr=String,Wn=Zr[Y],er=Math,Ii=Array,Kt=Ii[Y];function At(s,c){var p=c;try{p=s()}catch{}return p}var vr=[Ce,H,A,qe,"symbol","bigint"];function hr(s){return function(c){return typeof c===s}}function co(s){var c="[object "+s+"]";return function(p){return!!(p&&Kn(p)===c)}}function Kn(s){return Nn.toString.call(s)}function or(s,c){return typeof s===c}function Bt(s){return typeof s===qe||s===qe}function dt(s){return s===T||Bt(s)}function si(s){return s===T||!Pr(s)}function Pr(s){return!!s||s!==_}var Ss=function(s){return s!==te&&vr.indexOf(s)!==-1},mr=hr(Ce),jt=hr(U);function Ir(s){return!s&&dt(s)?!1:!!s&&typeof s===te}var _t=Ii.isArray,ei=co("Date"),yi=hr(H),ko=hr(A),Gn=co("Error");function zi(s){return!!s&&jt(s.then)}function dr(s){return!s||!At(function(){return s&&0+s},s)}function sr(s){return!(!s||At(function(){return!(s&&0+s)},!s))}var Ni=Vt.getOwnPropertyDescriptor;function fn(s,c){return s&&Nn.hasOwnProperty.call(s,c)}var Yr=Vt.hasOwn||Vr;function Vr(s,c){return fn(s,c)||!!Ni(s,c)}function Vn(s,c,p){if(s&&Ir(s)){for(var S in s)if(Yr(s,S)&&c.call(p||s,S,s[S])===-1)break}}function xo(s,c,p,S){var b={};return Vn(s,function(F,q){b[F]=c?q:F,b[q]=p?q:F}),S(b)}function Xr(s){throw new Error(s)}function Xn(s){throw new TypeError(s)}var pi=Vt.freeze,X=function(s){return s},Me=function(s){return s[ye]||T},ot=Vt.assign;function Tt(s){return(!Ir(s)||s===T)&&Xn("objKeys called on non-object"),Vt.keys(s)}function yn(s){return pi&&Vn(s,function(c,p){(_t(p)||Ir(p))&&pi(p)}),Fn(s)}var Fn=pi||X,En=Vt.seal||X,tr=Vt.getPrototypeOf||Me;function mn(s){return xo(s,1,0,yn)}function Lt(s){return xo(s,0,0,yn)}var Ln=Lt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),$t=Zr,Jr="__tsUtils$gblCfg",Mr;function Ds(){var s;return typeof globalThis!==qe&&(s=globalThis),!s&&typeof self!==qe&&(s=self),!s&&typeof window!==qe&&(s=window),!s&&typeof global!==qe&&(s=global),s}function uo(){if(!Mr){var s=Ds()||{};Mr=s[Jr]=s[Jr]||{}}return Mr}function O(s,c){var p=N;if(Gn(s))p="{ stack: '"+s.stack+"', message: '"+s.message+"', name: '"+s.name+"'";else try{p=JSON.stringify(s,T,c?yi(c)?c:4:_)}catch(S){p=" - "+O(S,c)}return Kn(s)+": "+p}var Ee=Kt[zn],Dt=function(s,c){Xn("'"+$t(s)+"' not defined for "+O(c))},en=function(s){return function(c){return c[s].apply(c,Ee.call(arguments,1))}},oe=function(s,c){var p=c&&c[s];return function(S){var b=S&&S[s]||p;if(b)return b.apply(S,Ee.call(arguments,1));Dt(s,S)}},x=function(s,c,p){var S=c&&c[s];return function(b){var F=b&&b[s]||S;if(F||p){var q=arguments;return(F||p).apply(b,F?Ee.call(q,1):q)}Dt(s,b)}};function J(s){return function(c){return c[s]}}var Q=er.max,j=oe(zn,Wn),I=oe("substring",Wn),le=x("substr",Wn,He);function He(s,c,p){return dt(s)&&Xn("'polyStrSubstr called with invalid "+O(s)),p<0?N:(c=c||0,c<0&&(c=Q(c+s[Et],0)),Bt(p)?j(s,c):j(s,c,c+p))}function tn(s,c){return I(s,0,c)}var pr=x("startsWith",Wn,ar);function ar(s,c,p){mr(s)||Xn("'"+O(s)+"' is not a string");var S=mr(c)?c:$t(c),b=S[Et],F=p>0?p:0;return I(s,F,F+b)===S}var gi="_urid",gr;function _r(){if(!gr){var s=uo();gr=s.gblSym=s.gblSym||{k:{},s:{}}}return gr}var dn={};function ai(s){var c={description:$t(s),toString:function(){return he+"("+s+")"}};return c[$e]=!0,c}function D(s){var c=_r();if(!Yr(c.k,s)){var p=ai(s),S=Tt(c.s).length;p[gi]=function(){return S+"_"+p.toString()},c.k[s]=p,c.s[p[gi]()]=$t(s)}return c.k[s]}function ee(s){var c,p=Ln[s];return p&&(c=dn[p]=dn[p]||ai(he+"."+p)),c}var Fe={e:"enumerable",c:"configurable",v:pt,w:"writable",g:"get",s:"set"};function It(s){var c={};if(c[Fe.c]=!0,c[Fe.e]=!0,s.l){c.get=function(){return s.l.v};var p=Ni(s.l,"v");p&&p.set&&(c.set=function(S){s.l.v=S})}return Vn(s,function(S,b){c[Fe[S]]=Bt(b)?c[Fe[S]]:b}),c}var Nr=Vt.defineProperty;function Lr(s,c,p,S,b,F){var q={e:F,c:b};return p&&(q.g=p),S&&(q.s=S),Nr(s,c,It(q))}function nn(s,c,p){return Nr(s,c,It(p))}var Sn,vn=function(){Sn=uo(),vn=T};function Ar(s){var c={};return vn&&vn(),c.b=Sn.lzy,Nr(c,"v",{configurable:!0,get:function(){var p=s();return Sn.lzy||(Nr(c,"v",{value:p}),c.b&&delete c.b),Sn.lzy&&c.b!==Sn.lzy&&(c.b=Sn.lzy),p}}),c}function lo(s,c){return Ar(function(){return At(s,c)})}var Go="window",Si,ss,Xs,Js,Uc,Bi,Bo=function(s){return lo(function(){return Or(s)||_},_)},Dl=function(s){return(!Si||s===!1||Sn&&Sn.lzy&&!Si.b)&&(Si=lo(Ds,T)),Si.v},Or=function(s,c){var p=!Si||c===!1?Dl(c):Si.v;return p&&p[s]?p[s]:s===Go&&ss?ss.v:T},Cl=function(){return!!Cs()},Cs=function(){return(!Xs||Sn&&Sn.lzy&&!Xs.b)&&(Xs=Bo("document")),Xs.v},Tl=function(){return!!nc()},nc=function(){return(!ss||Sn&&Sn.lzy&&!ss.b)&&(ss=Bo(Go)),ss.v},El=function(){return!!Qs()},Qs=function(){return(!Js||Sn&&Sn.lzy&&!Js.b)&&(Js=Bo("navigator")),Js.v},Zs=function(){return!!jc()},jc=function(){return(!Uc||Sn&&Sn.lzy&&!Uc.b)&&(Uc=Bo("history")),Uc.v},Ed=function(){return!Bi&&(Bi=lo(function(){return!!(process&&(process.versions||{}).node)},!1)),Bi.v},Oi,Fo,hn;function fo(s){return lo(function(){return Oi.v?Oi.v[s]:_},_)}function Pf(){return!!Jn()}function Jn(){var s=!Oi||Sn&&Sn.lzy&&!Oi.b;return s&&(Oi=Bo(he)),(!Fo||s)&&(Fo=fo("for")),(!hn||s)&&(hn=fo("keyFor")),Oi.v}function as(s,c){var p=Ln[s];return(!Oi||Sn.lzy&&!Oi.b)&&Jn(),Oi.v?Oi.v[p||s]:c?_:ee(s)}function ea(s,c){return(!Oi||Sn.lzy&&!Oi.b)&&Jn(),Oi.v?Oi.v(s):c?T:ai(s)}function bd(s){return(!Fo||Sn.lzy&&!Oi.b)&&Jn(),(Fo.v||D)(s)}function If(s){return!!s&&jt(s.next)}function oh(s){return!si(s)&&jt(s[as(3)])}var Nf;function _v(s,c,p){if(s&&(If(s)||(!Nf&&(Nf=Ar(function(){return as(3)})),s=s[Nf.v]?s[Nf.v]():null),If(s))){var S=void 0,b=void 0;try{for(var F=0;!(b=s.next())[Ge]&&c.call(p||s,b[pt],F,s)!==-1;)F++}catch(q){S={e:q},s.throw&&(b=null,s.throw(S))}finally{try{b&&!b[Ge]&&s.return&&s.return(b)}finally{if(S)throw S.e}}}}var bl=en("apply");function Hc(s,c){return!Bt(c)&&s&&(_t(c)?bl(s.push,s,c):If(c)||oh(c)?_v(c,function(p){s.push(p)}):s.push(c)),s}function Bn(s,c,p){if(s)for(var S=s[Et]>>>0,b=0;b<S&&!(b in s&&c.call(p||s,s[b],b,s)===-1);b++);}var Vi=oe(Qe,Kt),$c=oe("map",Kt),zr=oe(zn,Kt),Of=en("call");function sh(s,c,p){return Vi(s,c,p)!==-1}var Vo=x("includes",Kt,sh),Ms=oe("reduce",Kt),wl=Vt.create,Su=wl||qi;function qi(s){if(!s)return{};var c=typeof s;if(c!==te&&c!==U)throw new TypeError("Prototype must be an Object or function: "+O(s));function p(){}return p[Y]=s,new p}var Du;function ta(s,c){var p=Vt.setPrototypeOf||function(S,b){!Du&&(Du=Ar(function(){var F;return F={},F[ye]=[],F instanceof Array})),Du.v?S[ye]=b:Vn(b,function(F,q){return S[F]=q})};return p(s,c)}var $p=function(s,c,p){yv(c,s),c=ta(c,p);function S(){this.constructor=c,yv(this,s)}return c[Y]=p===T?Su(p):(S[Y]=p[Y],new S),c},wd=function(s,c){try{c&&(s[Ft]=c)}catch{}},yv=function(s,c){try{nn(s,Ft,{v:c,c:!0,e:!1})}catch{}};function kf(s,c,p){var S=p||Error,b=S[Y][Ft],F=Error.captureStackTrace;return $p(s,function(){var q=this;try{wd(S,s);var G=bl(S,q,zr(arguments))||q;if(G!==q){var Z=tr(q);Z!==tr(G)&&ta(G,Z)}return F&&F(G,q[_e]),c&&c(G,arguments),G}finally{wd(S,b)}},S)}function Cu(){return(Date.now||Rd)()}function Rd(){return new Date().getTime()}function np(s){return function(p){return dt(p)&&Xn("strTrim called ["+O(p)+"]"),p&&p.replace&&(p=p.replace(s,N)),p}}var ah=np(/^\s+|(?=\s)\s+$/g),cs=x("trim",Wn,ah),xf,Pd,ch;function Lo(s){if(!s||typeof s!==te)return!1;ch||(ch=Tl()?nc():!0);var c=!1;if(s!==ch){Pd||(xf=Function[Y].toString,Pd=Of(xf,Vt));try{var p=tr(s);c=!p,c||(fn(p,_e)&&(p=p[_e]),c=p&&typeof p===U&&xf.call(p)===Pd)}catch{}}return c}var Yp=function(s){return s.value&&ic(s),!0},rc=[Rl,ic,Ff,Pl];function Tu(s,c,p,S){var b;return Bn(s,function(F){if(F.k===c)return b=F,-1}),b||(b={k:c,v:c},s.push(b),S(b)),b.v}function us(s,c,p,S){var b=p.handler,F=p.path?S?p.path.concat(S):p.path:[],q={handler:p.handler,src:p.src,path:F},G=typeof c,Z=!1,ue=!1;c&&G===te?Z=Lo(c):ue=c===T||Ss(G);var re={type:G,isPrim:ue,isPlain:Z,value:c,result:c,path:F,origin:p.src,copy:function(Re,ve){return us(s,Re,ve?q:p,ve)},copyTo:function(Re,ve){return Yc(s,Re,ve,q)}};return re.isPrim?b&&Of(b,p,re)?re.result:c:Tu(s,c,F,function(Re){nn(re,"result",{g:function(){return Re.v},s:function(de){Re.v=de}});for(var ve=0,be=b;!Of(be||(ve<rc.length?rc[ve++]:Yp),p,re);)be=T})}function Yc(s,c,p,S){if(!dt(p))for(var b in p)c[b]=us(s,p[b],S,b);return c}function Id(s,c,p){var S={handler:p,src:c,path:[]};return Yc([],s,c,S)}function uh(s,c){var p={handler:c,src:s};return us([],s,p)}function Rl(s){var c=s.value;if(_t(c)){var p=s.result=[];return p.length=c.length,s.copyTo(p,c),!0}return!1}function Pl(s){var c=s.value;return ei(c)?(s.result=new Date(c.getTime()),!0):!1}function Ff(s){return s.type===U}function ic(s){var c=s.value;if(c&&s.isPlain){var p=s.result={};return s.copyTo(p,c),!0}return!1}function Nd(s,c){return Bn(c,function(p){Id(s,p)}),s}function Oa(s,c,p,S,b,F,q){return Nd(uh(s)||{},zr(arguments))}var Il=J(Et),qs;function Eu(){return(!qs||!qs.b&&Sn&&Sn.lzy)&&(qs=Bo("performance")),qs.v}function zc(){var s=Eu();return s&&s.now?s.now():Cu()}var bu=x("endsWith",Wn,wu);function wu(s,c,p){mr(s)||Xn("'"+O(s)+"' is not a string");var S=mr(c)?c:$t(c),b=S[Et],F=s[Et],q=!Bt(p)&&p<F?p:F;return I(s,q-b,q)===S}var Ao=oe(Qe,Wn),na="ref",Ru="un"+na,Nl="hasRef",ra="enabled";function lh(s,c,p){var S,b=!0,F=s?c(T):T,q,G=function(){return b=!1,F&&F[Ru]&&F[Ru](),q},Z=function(){return b=!0,F&&F[na]&&F[na](),q},ue=function(){return F&&F[Nl]?F[Nl]():b},re=function(){return F=c(F),b||G(),q},Re=function(){F&&p(F),F=T},ve=function(be){!be&&F&&Re(),be&&!F&&re()};return q=(S={cancel:Re,refresh:re},S[Nl]=ue,S[na]=Z,S[Ru]=G,S[ra]=!1,S),Nr(q,ra,{get:function(){return!!F},set:ve}),{h:q,dn:function(){F=T}}}function Pu(s,c,p,S){var b=_t(p),F=b?p.length:0,q=(F>0?p[0]:b?_:p)||setTimeout,G=(F>1?p[1]:_)||clearTimeout,Z=S[0];S[0]=function(){ue.dn(),bl(Z,s,zr(arguments))};var ue=lh(c,function(re){if(re){if(re.refresh)return re.refresh(),re;bl(G,s,[re])}return bl(q,s,S)},function(re){bl(G,s,[re])});return ue.h}function Xi(s,c){return Pu(this,!0,_,zr(arguments))}function Ol(s,c){return Pu(this,!1,_,zr(arguments))}(Dl()||{}).Symbol,(Dl()||{}).Reflect;var Lf="hasOwnProperty",ka=function(s,c){return ka=f.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,S){p.__proto__=S}||function(p,S){for(var b in S)S[Lf](b)&&(p[b]=S[b])},ka(s,c)};function Af(s,c){typeof c!==e&&c!==null&&Xn("Class extends value "+String(c)+" is not a constructor or null"),ka(s,c);function p(){this.constructor=s}s[o]=c===null?Su(c):(p[o]=c[o],new p)}function Mf(s,c){for(var p=0,S=c.length,b=s.length;p<S;p++,b++)s[b]=c[p];return s}var Iu,Nu="constructor",ia="prototype",oa="function",xa="_dynInstFuncs",Ou="_isDynProxy",vo="_dynClass",fh="_dynCls$",sa="_dynInstChk",kl=sa,Fa="_dfOpts",Ui="_unknown_",xl="__proto__",Wc="_dyn"+xl,Fl="__dynProto$Gbl",ki="_dynInstProto",Ll="useBaseInst",qf="setInstFuncs",aa=Object,oc=aa.getPrototypeOf,Ts=aa.getOwnPropertyNames,Od=Dl(),Al=Od[Fl]||(Od[Fl]={o:(Iu={},Iu[qf]=!0,Iu[Ll]=!0,Iu),n:1e3});function rp(s){return s&&(s===aa[ia]||s===Array[ia])}function xi(s){return rp(s)||s===Function[ia]}function sc(s){var c;if(s){if(oc)return oc(s);var p=s[xl]||s[ia]||(s[Nu]?s[Nu][ia]:null);c=s[Wc]||p,fn(s,Wc)||(delete s[ki],c=s[Wc]=s[ki]||s[Wc],s[ki]=p)}return c}function Kc(s,c){var p=[];if(Ts)p=Ts(s);else for(var S in s)typeof S=="string"&&fn(s,S)&&p.push(S);if(p&&p.length>0)for(var b=0;b<p.length;b++)c(p[b])}function kd(s,c,p){return c!==Nu&&typeof s[c]===oa&&(p||fn(s,c))}function Uf(s){Xn("DynamicProto: "+s)}function xd(s){var c={};return Kc(s,function(p){!c[p]&&kd(s,p,!1)&&(c[p]=s[p])}),c}function Es(s,c){for(var p=s.length-1;p>=0;p--)if(s[p]===c)return!0;return!1}function Fd(s,c,p,S){function b(Z,ue,re){var Re=ue[re];if(Re[Ou]&&S){var ve=Z[xa]||{};ve[kl]!==!1&&(Re=(ve[ue[vo]]||{})[re]||Re)}return function(){return Re.apply(Z,arguments)}}var F={};Kc(p,function(Z){F[Z]=b(c,p,Z)});for(var q=sc(s),G=[];q&&!xi(q)&&!Es(G,q);)Kc(q,function(Z){!F[Z]&&kd(q,Z,!oc)&&(F[Z]=b(c,q,Z))}),G.push(q),q=sc(q);return F}function yr(s,c,p,S){var b=null;if(s&&fn(p,vo)){var F=s[xa]||{};if(b=(F[p[vo]]||{})[c],b||Uf("Missing ["+c+"] "+oa),!b[sa]&&F[kl]!==!1){for(var q=!fn(s,c),G=sc(s),Z=[];q&&G&&!xi(G)&&!Es(Z,G);){var ue=G[c];if(ue){q=ue===S;break}Z.push(G),G=sc(G)}try{q&&(s[c]=b),b[sa]=1}catch{F[kl]=!1}}}return b}function Gc(s,c,p){var S=c[s];return S===p&&(S=sc(c)[s]),typeof S!==oa&&Uf("["+s+"] is not a "+oa),S}function ku(s,c,p,S,b){function F(Z,ue){var re=function(){var Re=yr(this,ue,Z,re)||Gc(ue,Z,re);return Re.apply(this,arguments)};return re[Ou]=1,re}if(!rp(s)){var q=p[xa]=p[xa]||{},G=q[c]=q[c]||{};q[kl]!==!1&&(q[kl]=!!b),Kc(p,function(Z){kd(p,Z,!1)&&p[Z]!==S[Z]&&(G[Z]=p[Z],delete p[Z],(!fn(s,Z)||s[Z]&&!s[Z][Ou])&&(s[Z]=F(s,Z)))})}}function ac(s,c){if(oc){for(var p=[],S=sc(c);S&&!xi(S)&&!Es(p,S);){if(S===s)return!0;p.push(S),S=sc(S)}return!1}return!0}function cc(s,c){return fn(s,ia)?s.name||c||Ui:((s||{})[Nu]||{}).name||c||Ui}function ho(s,c,p,S){fn(s,ia)||Uf("theClass is an invalid class definition.");var b=s[ia];ac(b,c)||Uf("["+cc(s)+"] not in hierarchy of ["+cc(c)+"]");var F=null;fn(b,vo)?F=b[vo]:(F=fh+cc(s,"_")+"$"+Al.n,Al.n++,b[vo]=F);var q=ho[Fa],G=!!q[Ll];G&&S&&S[Ll]!==void 0&&(G=!!S[Ll]);var Z=xd(c),ue=Fd(b,c,Z,G);p(c,ue);var re=!!oc&&!!q[qf];re&&S&&(re=!!S[qf]),ku(b,F,c,Z,re!==!1)}ho[Fa]=Al.o;var La=100,Er=mn,Ld=Er({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),cr="toLowerCase",Xo="blkVal",An="length",Bc="rdOnly",uc="notify",bs="warnToConsole",Ji="throwInternal",lc="setDf",po="watch",Wr="logger",Aa="apply",Dn="push",ws="splice",xu="hdlr",Mo="cancel",Fu="initialize",ls="identifier",Us="isInitialized",Qi="getPlugin",Vc="pollInternalLogs",Rs="name",Lu="time",ji="processNext",Ps="getProcessTelContext",fc="getNotifyMgr",dc="addNotificationListener",Xc="removeNotificationListener",Is="enabled",Sv="stopPollingInternalLogs",js="unload",go="onComplete",vc="version",Au="loggingLevelConsole",ca="createNew",mo="teardown",ci="messageId",_o="message",fs="isAsync",Ns="diagLog",hc="_doTeardown",ua="update",Hi="getNext",Ml="setNextPlugin",Mu="userAgent",ql="split",Ul="nodeType",qu="replace",jl="logInternalMessage",Zi="type",Uu="handler",Jc="isChildEvt",Ma="getCtx",ds="setCtx",jf="complete",Dv="traceId",ju="spanId",Hu="traceFlags",Cv;function Tv(s,c){Cv||(Cv=kf("AggregationError",function(S,b){b[An]>1&&(S.errors=b[1])}));var p=s||"One or more errors occurred.";throw Bn(c,function(S,b){p+=`
`.concat(b," > ").concat(O(S))}),new Cv(p,c||[])}function Ev(s,c){return dh(s,function(p){c&&c({value:p,rejected:!1})},function(p){c&&c({rejected:!0,reason:p})})}function dh(s,c,p,S){var b=s;return zi(s)?(c||p)&&(b=s.then(c,p)):c&&c(s),S&&(b=Hl(b,S)),b}function Hl(s,c){var p=s;return c&&(zi(s)?s.finally?p=s.finally(c):p=s.then(function(S){return c(),S},function(S){throw c(),S}):c()),p}var Ad=["pending","resolving","resolved","rejected"],bv="dispatchEvent",wv;function $l(s,c,p,S){var b=Cs();!wv&&(wv=lo(function(){var Z;return b&&b.createEvent&&(Z=b.createEvent("Event")),!!Z&&Z.initEvent},null));var F=wv.v?b.createEvent("Event"):S?new Event(c):{};if(p&&p(F),wv.v&&F.initEvent(c,!1,!0),F&&s[bv])s[bv](F);else{var q=s["on"+c];if(q)q(F);else{var G=Or("console");G&&(G.error||G.log)(c,O(F))}}}var $u="Promise",vh="unhandledRejection",Rv=vh.toLowerCase(),Yu=10,Md;function qa(s){return jt(s)?s.toString():O(s)}function Sr(s,c,p){var S=zr(arguments,3),b=0,F=!1,q,G=[],Z=!1,ue=null,re;!Md&&(Md=Bo($u+"RejectionEvent"));var Re=function(Pt,un){try{Z=!0,ue&&ue.cancel(),ue=null;var nr=s(function(Gr,ie){G.push(function(){try{var Ue=b===2?Pt:un,et=Bt(Ue)?q:jt(Ue)?Ue(q):Ue;zi(et)?et.then(Gr,ie):Ue?Gr(et):b===3?ie(et):Gr(et)}catch(ut){ie(ut)}}),F&&Ze()},S);return nr}finally{}},ve=function(Pt){return Re(void 0,Pt)},be=function(Pt){var un=Pt,nr=Pt;return jt(Pt)&&(un=function(Gr){return Pt&&Pt(),Gr},nr=function(Gr){throw Pt&&Pt(),Gr}),Re(un,nr)},de=function(){return Ad[b]},Ze=function(){if(G.length>0){var Pt=G.slice();G=[],Z=!0,c(Pt),ue&&ue.cancel(),ue=null}},Xe=function(Pt,un){return function(nr){if(b===un){if(Pt===2&&zi(nr)){b=1,nr.then(Xe(2,1),Xe(3,1));return}b=Pt,F=!0,q=nr,Ze(),!Z&&Pt===3&&!ue&&(ue=Xi(mt,Yu))}}},mt=function(){if(!Z)if(Ed())process.emit(vh,q,re);else{var Pt=nc()||Dl();$l(Pt,Rv,function(un){return nn(un,"promise",{g:function(){return re}}),un.reason=q,un},!!Md.v)}};re={then:Re,catch:ve,finally:be},Nr(re,"state",{get:de}),Pf()&&(re[as(11)]="IPromise");var wt=function(){return"IPromise "+de()+(F?" - "+qa(q):"")};return re.toString=wt,function(){jt(p)||Xn($u+": executor is not a function - "+qa(p));var un=Xe(3,0);try{p.call(re,Xe(2,0),un)}catch(nr){un(nr)}}(),re}function Yl(s){return function(c){var p=zr(arguments,1);return s(function(S,b){try{var F=[],q=1;Bn(c,function(G,Z){G&&(q++,dh(G,function(ue){F[Z]=ue,--q===0&&S(F)},b))}),q--,q===0&&S(F)}catch(G){b(G)}},p)}}var kr=function(s){Bn(s,function(c){try{c()}catch{}})};function Pv(s){var c=yi(s)?s:0;return function(p){Xi(function(){kr(p)},c)}}function qd(s,c){return Sr(qd,Pv(c),s,c)}var Ua;function zu(s,c){!Ua&&(Ua=Bo($u));var p=Ua.v;if(!p)return qd(s);jt(s)||Xn($u+": executor is not a function - "+O(s));var S=0;function b(){return Ad[S]}var F=new p(function(q,G){function Z(re){S=2,q(re)}function ue(re){S=3,G(re)}s(Z,ue)});return Nr(F,"state",{get:b}),F}var Jo;function ja(s,c){return!Jo&&(Jo=Ar(function(){return zu})),Jo.v.call(this,s,c)}var Ha=Yl(ja),Ei=void 0,Mn="",vs="channels",ui="core",$a="createPerfMgr",zl="disabled",Wu="extensionConfig",Ku="extensions",pc="processTelemetry",Iv="priority",Wl="eventsSent",Kl="eventsDiscarded",eo="eventsSendRequest",Ya="perfEvent",qo="getPerfMgr",hs="domain",Gl="path",Hs="Not dynamic - ",Bl=/-([a-z])/g,Hf=/([^\w\d_$])/g,Gu=/^(\d+[\w\d_$])/;function rn(s){return!dt(s)}function za(s){var c=s;return c&&mr(c)&&(c=c[qu](Bl,function(p,S){return S.toUpperCase()}),c=c[qu](Hf,"_"),c=c[qu](Gu,function(p,S){return"_"+S})),c}function bi(s,c){return s&&c?Ao(s,c)!==-1:!1}function gc(s){return s&&s.toISOString()||""}function Ud(s){return Gn(s)?s[Rs]:Mn}function yo(s,c,p,S,b){var F=p;return s&&(F=s[c],F!==p&&(!b||b(F))&&(!S||S(p))&&(F=p,s[c]=F)),F}function Wa(s,c,p){var S;return s?(S=s[c],!S&&dt(S)&&(S=Bt(p)?{}:p,s[c]=S)):S=Bt(p)?{}:p,S}function Bu(s,c){var p=null,S=null;return jt(s)?p=s:S=s,function(){var b=arguments;if(p&&(S=p()),S)return S[c][Aa](S,b)}}function jd(s,c,p){if(s&&c&&Ir(s)&&Ir(c)){var S=function(F){if(mr(F)){var q=c[F];jt(q)?(!p||p(F,!0,c,s))&&(s[F]=Bu(c,F)):(!p||p(F,!1,c,s))&&(Yr(s,F)&&delete s[F],nn(s,F,{g:function(){return c[F]},s:function(G){c[F]=G}}))}};for(var b in c)S(b)}return s}function $s(s,c,p,S,b){s&&c&&p&&(b!==!1||Bt(s[c]))&&(s[c]=Bu(p,S))}function $f(s,c,p,S){return s&&c&&Ir(s)&&_t(p)&&Bn(p,function(b){mr(b)&&$s(s,b,c,b,S)}),s}function Vl(s){return s&&ot&&(s=f(ot({},s))),s}var Hd="documentMode",Yf="location",Ka="console",mc="JSON",Xl="crypto",Vu="msCrypto",zf="ReactNative",Qo="msie",So="trident/",_c="XMLHttpRequest",Os=null,ps=null,Qc=!1,Ga=null,Wf=null;function Xu(s,c){var p=!1;if(s){try{if(p=c in s,!p){var S=s[o];S&&(p=c in S)}}catch{}if(!p)try{var b=new s;p=!Bt(b[c])}catch{}}return p}function Ju(s){Qc=s}function Zc(s){if(s&&Qc){var c=Or("__mockLocation");if(c)return c}return typeof location===n&&location?location:Or(Yf)}function Ba(){return typeof console!==r?console:Or(Ka)}function Jl(){return!!(typeof JSON===n&&JSON||Or(mc)!==null)}function Qu(){return Jl()?JSON||Or(mc):null}function Ql(){return Or(Xl)}function yc(){return Or(Vu)}function eu(){var s=Qs();return s&&s.product?s.product===zf:!1}function Zl(){var s=Qs();if(s&&(s[Mu]!==ps||Os===null)){ps=s[Mu];var c=(ps||Mn)[cr]();Os=bi(c,Qo)||bi(c,So)}return Os}function hh(s){if(s===void 0&&(s=null),!s){var c=Qs()||{};s=c?(c.userAgent||Mn)[cr]():Mn}var p=(s||Mn)[cr]();if(bi(p,Qo)){var S=Cs()||{};return Math.max(parseInt(p[ql](Qo)[1]),S[Hd]||0)}else if(bi(p,So)){var b=parseInt(p[ql](So)[1]);if(b)return b+4}return null}function Do(s){return(Wf===null||s===!1)&&(Wf=El()&&!!Qs().sendBeacon),Wf}function $d(s){var c=!1;try{c=!!Or("fetch");var p=Or("Request");c&&s&&p&&(c=Xu(p,"keepalive"))}catch{}return c}function Va(){return Ga===null&&(Ga=typeof XDomainRequest!==r,Ga&&Kf()&&(Ga=Ga&&!Xu(Or(_c),"withCredentials"))),Ga}function Kf(){var s=!1;try{var c=Or(_c);s=!!c}catch{}return s}function Xa(s,c){if(s)for(var p=0;p<s[An];p++){var S=s[p];if(S[Rs]&&S[Rs]===c)return S}return{}}function Sc(s){var c=Cs();return c&&s?Xa(c.querySelectorAll("meta"),s).content:null}function ef(s){var c,p=Eu();if(p){var S=p.getEntriesByType("navigation")||[];c=Xa((S[An]>0?S[0]:{}).serverTiming,s).description}return c}var Gf=4294967296,Uo=4294967295,Ys=123456789,Bf=987654321,Yd=!1,Ja=Ys,Zu=Bf;function tu(s){s<0&&(s>>>=0),Ja=Ys+s&Uo,Zu=Bf-s&Uo,Yd=!0}function ph(){try{var s=Cu()&2147483647;tu((Math.random()*Gf^s)+s)}catch{}}function ip(s){return s>0?Math.floor(Qa()/Uo*(s+1))>>>0:0}function Qa(s){var c=0,p=Ql()||yc();return p&&p.getRandomValues&&(c=p.getRandomValues(new Uint32Array(1))[0]&Uo),c===0&&Zl()&&(Yd||ph(),c=zd()&Uo),c===0&&(c=Math.floor(Gf*Math.random()|0)),s||(c>>>=0),c}function zd(s){Zu=36969*(Zu&65535)+(Zu>>16)&Uo,Ja=18e3*(Ja&65535)+(Ja>>16)&Uo;var c=(Zu<<16)+(Ja&65535)>>>0&Uo|0;return s||(c>>>=0),c}function Wd(s){s===void 0&&(s=22);for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=Qa()>>>0,S=0,b=Mn;b[An]<s;)S++,b+=c.charAt(p&63),p>>>=6,S===5&&(p=(Qa()<<2&4294967295|p&3)>>>0,S=0);return b}var Kd="3.0.5",Vf="."+Wd(6),zp=0;function Xf(s){return s[Ul]===1||s[Ul]===9||!+s[Ul]}function Wp(s,c){var p=c[s.id];if(!p){p={};try{Xf(c)&&nn(c,s.id,{e:!1,v:p})}catch{}}return p}function la(s,c){return c===void 0&&(c=!1),za(s+zp+++(c?"."+Kd:Mn)+Vf)}function nu(s){var c={id:la("_aiData-"+(s||Mn)+"."+Kd),accept:function(p){return Xf(p)},get:function(p,S,b,F){var q=p[c.id];return q?q[za(S)]:(F&&(q=Wp(c,p),q[za(S)]=b),b)},kill:function(p,S){if(p&&p[S])try{delete p[S]}catch{}}};return c}function tf(s){return s&&Ir(s)&&(s.isVal||s.fb||Yr(s,"v")||Yr(s,"mrg")||Yr(s,"ref")||s.set)}function Nv(s,c,p){var S,b=p.dfVal||Pr;if(c&&p.fb){var F=p.fb;_t(F)||(F=[F]);for(var q=0;q<F[An];q++){var G=F[q],Z=c[G];if(b(Z)?S=Z:s&&(Z=s.cfg[G],b(Z)&&(S=Z),s.set(s.cfg,$t(G),Z)),b(S))break}}return!b(S)&&b(p.v)&&(S=p.v),S}function nf(s,c,p){var S=p;if(p&&tf(p)&&(S=Nv(s,c,p)),S){tf(S)&&(S=nf(s,c,S));var b;_t(S)?(b=[],b[An]=S[An]):Lo(S)&&(b={}),b&&(Vn(S,function(F,q){q&&tf(q)&&(q=nf(s,c,q)),b[F]=q}),S=b)}return S}function fa(s,c,p,S){var b,F,q,G=S,Z,ue,re,Re;tf(G)?(b=G.isVal,F=G.set,re=G[Bc],Re=G[Xo],Z=G.mrg,ue=G.ref,!ue&&Bt(ue)&&(ue=!!Z),q=Nv(s,c,G)):q=S,Re&&s[Xo](c,p);var ve,be=!0,de=c[p];(de||!dt(de))&&(ve=de,be=!1,b&&ve!==q&&!b(ve)&&(ve=q,be=!0),F&&(ve=F(ve,q,c),be=ve===q)),be?q?ve=nf(s,c,q):ve=q:(Lo(ve)||_t(q))&&Z&&q&&(Lo(q)||_t(q))&&Vn(q,function(Ze,Xe){fa(s,ve,Ze,Xe)}),s.set(c,p,ve),ue&&s.ref(c,p),re&&s[Bc](c,p)}var zs=bd("[[ai_dynCfg_1]]"),Dc=bd("[[ai_blkDynCfg_1]]"),Cc=bd("[[ai_frcDynCfg_1]]");function Gd(s){if(s){var c;if(_t(s)?(c=[],c[An]=s[An]):Lo(s)&&(c={}),c)return Vn(s,function(p,S){c[p]=Gd(S)}),c}return s}function el(s){if(s){var c=s[zs]||s;if(c.cfg&&(c.cfg===s||c.cfg[zs]===c))return c}return null}function to(s){if(s&&(Lo(s)||_t(s)))try{s[Dc]=!0}catch{}return s}function ru(s){if(s)try{s[Cc]=!0}catch{}return s}function iu(s,c,p){var S=!1;return p&&!s[c.blkVal]&&(S=p[Cc],!S&&!p[Dc]&&(S=Lo(p)||_t(p))),S}function Ov(s){Xn("InvalidAccess:"+s)}var op=["push","pop","shift","unshift","splice"],ou=function(s,c,p,S){s&&s[Ji](3,108,"".concat(p," [").concat(c,"] failed - ")+O(S))};function sp(s,c,p){_t(c)&&Bn(op,function(S){var b=c[S];c[S]=function(){for(var F=[],q=0;q<arguments.length;q++)F[q]=arguments[q];var G=b[Aa](this,F);return tl(s,c,p,"Patching"),G}})}function rf(s,c){var p=Ni(s,c);return p&&p.get}function Tc(s,c,p,S){var b={n:p,h:[],trk:function(ue){ue&&ue.fn&&(Vi(b.h,ue)===-1&&b.h[Dn](ue),s.trk(ue,b))},clr:function(ue){var re=Vi(b.h,ue);re!==-1&&b.h[ws](re,1)}},F=!0,q=!1;function G(){F&&(q=q||iu(G,s,S),S&&!S[zs]&&q&&(S=tl(s,S,p,"Converting")),F=!1);var ue=s.act;return ue&&b.trk(ue),S}G[s.prop]={chng:function(){s.add(b)}};function Z(ue){if(S!==ue){G[s.ro]&&!s.upd&&Ov("["+p+"] is read-only:"+O(c)),F&&(q=q||iu(G,s,S),F=!1);var re=q&&G[s.rf];if(q)if(re){Vn(S,function(ve){S[ve]=ue?ue[ve]:Ei});try{Vn(ue,function(ve,be){da(s,S,ve,be)}),ue=S}catch(ve){ou((s.hdlr||{})[Wr],p,"Assigning",ve),q=!1}}else S&&S[zs]&&Vn(S,function(ve){var be=rf(S,ve);if(be){var de=be[s.prop];de&&de.chng()}});if(ue!==S){var Re=ue&&iu(G,s,ue);!re&&Re&&(ue=tl(s,ue,p,"Converting")),S=ue,q=Re}s.add(b)}}nn(c,b.n,{g:G,s:Z})}function da(s,c,p,S){if(c){var b=rf(c,p),F=b&&!!b[s.prop];F?c[p]=S:Tc(s,c,p,S)}return c}function Jf(s,c,p,S){if(c){var b=rf(c,p),F=b&&!!b[s.prop],q=S&&S[0],G=S&&S[1],Z=S&&S[2];if(!F){if(Z)try{to(c)}catch(ue){ou((s.hdlr||{})[Wr],p,"Blocking",ue)}try{da(s,c,p,c[p]),b=rf(c,p)}catch(ue){ou((s.hdlr||{})[Wr],p,"State",ue)}}q&&(b[s.rf]=q),G&&(b[s.ro]=G),Z&&(b[s.blkVal]=!0)}return c}function tl(s,c,p,S){try{Vn(c,function(b,F){da(s,c,b,F)}),c[zs]||(Nr(c,zs,{get:function(){return s[xu]}}),sp(s,c,p))}catch(b){ou((s.hdlr||{})[Wr],p,S,b)}return c}var of="[[ai_",Qf="]]";function gh(s){var c,p=ea(of+"get"+s.uid+Qf),S=ea(of+"ro"+s.uid+Qf),b=ea(of+"rf"+s.uid+Qf),F=ea(of+"blkVal"+s.uid+Qf),q=ea(of+"dtl"+s.uid+Qf),G=null,Z=null,ue;function re(de,Ze){var Xe=ue.act;try{ue.act=de,de&&de[q]&&(Bn(de[q],function(wt){wt.clr(de)}),de[q]=[]),Ze({cfg:s.cfg,set:s.set.bind(s),setDf:s[lc].bind(s),ref:s.ref.bind(s),rdOnly:s[Bc].bind(s)})}catch(wt){var mt=s[Wr];throw mt&&mt[Ji](1,107,O(wt)),wt}finally{ue.act=Xe||null}}function Re(){if(G){var de=G;G=null,Z&&Z[Mo](),Z=null;var Ze=[];if(Bn(de,function(Xe){if(Xe&&(Xe[q]&&(Bn(Xe[q],function(mt){mt.clr(Xe)}),Xe[q]=null),Xe.fn))try{re(Xe,Xe.fn)}catch(mt){Ze[Dn](mt)}}),G)try{Re()}catch(Xe){Ze[Dn](Xe)}Ze[An]>0&&Tv("Watcher error(s): ",Ze)}}function ve(de){if(de&&de.h[An]>0){G||(G=[]),Z||(Z=Xi(function(){Z=null,Re()},0));for(var Ze=0;Ze<de.h[An];Ze++){var Xe=de.h[Ze];Xe&&Vi(G,Xe)===-1&&G[Dn](Xe)}}}function be(de,Ze){if(de){var Xe=de[q]=de[q]||[];Vi(Xe,Ze)===-1&&Xe[Dn](Ze)}}return ue=(c={prop:p,ro:S,rf:b},c[Xo]=F,c[xu]=s,c.add=ve,c[uc]=Re,c.use=re,c.trk=be,c),ue}function Kp(s,c){var p={fn:c,rm:function(){p.fn=null,s=null,c=null}};return s.use(p,c),p}function sf(s,c,p){var S,b=el(c);if(b)return b;var F=la("dyncfg",!0),q=c&&p!==!1?c:Gd(c),G;function Z(){G[uc]()}function ue(mt,wt,Pt){try{mt=da(G,mt,wt,Pt)}catch(un){ou(s,wt,"Setting value",un)}return mt[wt]}function re(mt){return Kp(G,mt)}function Re(mt,wt){G.use(null,function(Pt){var un=G.upd;try{Bt(wt)||(G.upd=wt),mt(Pt)}finally{G.upd=un}})}function ve(mt,wt){var Pt;return Jf(G,mt,wt,(Pt={},Pt[0]=!0,Pt))[wt]}function be(mt,wt){var Pt;return Jf(G,mt,wt,(Pt={},Pt[1]=!0,Pt))[wt]}function de(mt,wt){var Pt;return Jf(G,mt,wt,(Pt={},Pt[2]=!0,Pt))[wt]}function Ze(mt,wt){return wt&&Vn(wt,function(Pt,un){fa(Xe,mt,Pt,un)}),mt}var Xe=(S={uid:null,cfg:q},S[Wr]=s,S[uc]=Z,S.set=ue,S[lc]=Ze,S[po]=re,S.ref=ve,S[Bc]=be,S[Xo]=de,S._block=Re,S);return nn(Xe,"uid",{c:!1,e:!1,w:!1,v:F}),G=gh(Xe),tl(G,q,"config","Creating"),Xe}function ap(s,c){s?(s[bs](c),s[Ji](2,108,c)):Ov(c)}function Co(s,c,p,S){var b=sf(p,s||{},S);return c&&b[lc](b.cfg,c),b}function af(s,c,p){var S=s[zs]||s;return S.cfg&&(S.cfg===s||S.cfg[zs]===S)?S[po](c):(ap(p,Hs+O(s)),Co(s,null,p)[po](c))}function cf(s,c){if(s&&s[js])return s[js](c)}function cp(s,c,p){var S;return p||(S=ja(function(b){p=b})),s&&Il(s)>0?Ev(cf(s[0],c),function(){cp(zr(s,1),c,p)}):p(),S}var Gp=500;function va(s){return{mrg:!0,v:s}}var To=[Wl,Kl,eo,Ya],ha=null,uf;function Zf(s,c){return function(){var p=arguments,S=Zt(c);if(S){var b=S.listener;b&&b[s]&&b[s][Aa](b,p)}}}function kv(){var s=Or("Microsoft");return s&&(ha=s.ApplicationInsights),ha}function Zt(s){var c=ha;return!c&&s.disableDbgExt!==!0&&(c=ha||kv()),c?c.ChromeDbgExt:null}function Bd(s){if(!uf){uf={};for(var c=0;c<To[An];c++)uf[To[c]]=Zf(To[c],s)}return uf}var nl,Ec="warnToConsole",lf="AI (Internal): ",no="AI: ",xv="AITR_",ed={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Fv=(nl={},nl[0]=null,nl[1]="errorToConsole",nl[2]=Ec,nl[3]="debugToConsole",nl);function pa(s){return s?'"'+s[qu](/\"/g,Mn)+'"':Mn}function ff(s,c){var p=Ba();if(p){var S="log";p[s]&&(S=s),jt(p[S])&&p[S](c)}}var su=function(){function s(c,p,S,b){S===void 0&&(S=!1);var F=this;F[ci]=c,F[_o]=(S?no:lf)+c;var q=Mn;Jl()&&(q=Qu().stringify(b));var G=(p?" message:"+pa(p):Mn)+(b?" props:"+pa(q):Mn);F[_o]+=G}return s.dataType="MessageData",s}();function td(s,c){return(s||{})[Wr]||new df(c)}var df=function(){function s(c){this.identifier="DiagnosticLogger",this.queue=[];var p=0,S={},b,F,q,G,Z;ho(s,this,function(ue){Z=Re(c||{}),ue.consoleLoggingLevel=function(){return b},ue[Ji]=function(de,Ze,Xe,mt,wt){wt===void 0&&(wt=!1);var Pt=new su(Ze,Xe,wt,mt);if(G)throw O(Pt);var un=Fv[de]||Ec;if(Bt(Pt[_o]))be("throw"+(de===1?"Critical":"Warning"),Pt);else{if(wt){var nr=+Pt[ci];!S[nr]&&b>=de&&(ue[un](Pt[_o]),S[nr]=!0)}else b>=de&&ue[un](Pt[_o]);re(de,Pt)}},ue.debugToConsole=function(de){ff("debug",de),be("warning",de)},ue[bs]=function(de){ff("warn",de),be("warning",de)},ue.errorToConsole=function(de){ff("error",de),be("error",de)},ue.resetInternalMessageCount=function(){p=0,S={}},ue[jl]=re,ue[js]=function(de){Z&&Z.rm(),Z=null};function re(de,Ze){if(!ve()){var Xe=!0,mt=xv+Ze[ci];if(S[mt]?Xe=!1:S[mt]=!0,Xe&&(de<=F&&(ue.queue[Dn](Ze),p++,be(de===1?"error":"warn",Ze)),p===q)){var wt="Internal events throttle limit per PageView reached for this app.",Pt=new su(23,wt,!1);ue.queue[Dn](Pt),de===1?ue.errorToConsole(wt):ue[bs](wt)}}}function Re(de){return af(Co(de,ed,ue).cfg,function(Ze){var Xe=Ze.cfg;b=Xe[Au],F=Xe.loggingLevelTelemetry,q=Xe.maxMessageLimit,G=Xe.enableDebug})}function ve(){return p>=q}function be(de,Ze){var Xe=Zt(c||{});Xe&&Xe[Ns]&&Xe[Ns](de,Ze)}})}return s.__ieDyn=1,s}();function gs(s){return s||new df}function Za(s,c,p,S,b,F){F===void 0&&(F=!1),gs(s)[Ji](c,p,S,b,F)}function mh(s,c){gs(s)[bs](c)}function ga(s,c,p){gs(s)[jl](c,p)}var Vd,ma,_h="toGMTString",Xd="toUTCString",_a="cookie",yh="expires",Sh="isCookieUseDisabled",Lv="disableCookiesUsage",bc="_ckMgr",vf=null,Dh=null,wc=null,Eo,ti={},Ws={},nd=(Vd={cookieCfg:va((ma={},ma[hs]={fb:"cookieDomain",dfVal:rn},ma.path={fb:"cookiePath",dfVal:rn},ma.enabled=Ei,ma.ignoreCookies=Ei,ma.blockedCookies=Ei,ma)),cookieDomain:Ei,cookiePath:Ei},Vd[Lv]=Ei,Vd);function ya(){!Eo&&(Eo=Ar(function(){return Cs()}))}function Rc(s,c){var p=rl[bc]||Ws[bc];return p||(p=rl[bc]=rl(s,c),Ws[bc]=p),p}function ms(s){return s?s.isEnabled():!0}function rd(s,c){return c&&s&&_t(s.ignoreCookies)?Vi(s.ignoreCookies,c)!==-1:!1}function Jd(s,c){return c&&s&&_t(s.blockedCookies)&&Vi(s.blockedCookies,c)!==-1?!0:rd(s,c)}function Ch(s,c){var p=c[Is];if(dt(p)){var S=void 0;Bt(s[Sh])||(S=!s[Sh]),Bt(s[Lv])||(S=!s[Lv]),p=S}return p}function Av(s,c){var p;if(s)p=s.getCookieMgr();else if(c){var S=c.cookieCfg;S&&S[bc]?p=S[bc]:p=rl(c)}return p||(p=Rc(c,(s||{})[Wr])),p}function rl(s,c){var p,S,b,F,q,G,Z,ue,re;s=Co(s||Ws,null,c).cfg,q=af(s,function(ve){ve[lc](ve.cfg,nd),S=ve.ref(ve.cfg,"cookieCfg"),b=S[Gl]||"/",F=S[hs],G=Ch(s,S)!==!1,Z=S.getCookie||lp,ue=S.setCookie||d,re=S.delCookie||d},c);var Re=(p={isEnabled:function(){var ve=Ch(s,S)!==!1&&G&&id(c),be=Ws[bc];return ve&&be&&Re!==be&&(ve=ms(be)),ve},setEnabled:function(ve){G=ve!==!1,S[Is]=ve},set:function(ve,be,de,Ze,Xe){var mt=!1;if(ms(Re)&&!Jd(S,ve)){var wt={},Pt=cs(be||Mn),un=Ao(Pt,";");if(un!==-1&&(Pt=cs(tn(be,un)),wt=up(I(be,un+1))),yo(wt,hs,Ze||F,sr,Bt),!dt(de)){var nr=Zl();if(Bt(wt[yh])){var Gr=Cu(),ie=Gr+de*1e3;if(ie>0){var Ue=new Date;Ue.setTime(ie),yo(wt,yh,Th(Ue,nr?_h:Xd)||Th(Ue,nr?_h:Xd)||Mn,sr)}}nr||yo(wt,"max-age",Mn+de,null,Bt)}var et=Zc();et&&et.protocol==="https:"&&(yo(wt,"secure",null,null,Bt),Dh===null&&(Dh=!g((Qs()||{})[Mu])),Dh&&yo(wt,"SameSite","None",null,Bt)),yo(wt,Gl,Xe||b,null,Bt),ue(ve,Eh(Pt,wt)),mt=!0}return mt},get:function(ve){var be=Mn;return ms(Re)&&!rd(S,ve)&&(be=Z(ve)),be},del:function(ve,be){var de=!1;return ms(Re)&&(de=Re.purge(ve,be)),de},purge:function(ve,be){var de,Ze=!1;if(id(c)){var Xe=(de={},de[Gl]=be||"/",de[yh]="Thu, 01 Jan 1970 00:00:01 GMT",de);Zl()||(Xe["max-age"]="0"),re(ve,Eh(Mn,Xe)),Ze=!0}return Ze}},p[js]=function(ve){q&&q.rm(),q=null},p);return Re[bc]=Re,Re}function id(s){if(vf===null){vf=!1,!Eo&&ya();try{var c=Eo.v||{};vf=c[_a]!==void 0}catch(p){Za(s,2,68,"Cannot access document.cookie - "+Ud(p),{exception:O(p)})}}return vf}function up(s){var c={};if(s&&s[An]){var p=cs(s)[ql](";");Bn(p,function(S){if(S=cs(S||Mn),S){var b=Ao(S,"=");b===-1?c[S]=null:c[cs(tn(S,b))]=cs(I(S,b+1))}})}return c}function Th(s,c){return jt(s[c])?s[c]():null}function Eh(s,c){var p=s||Mn;return Vn(c,function(S,b){p+="; "+S+(dt(b)?Mn:"="+b)}),p}function lp(s){var c=Mn;if(!Eo&&ya(),Eo.v){var p=Eo.v[_a]||Mn;wc!==p&&(ti=up(p),wc=p),c=cs(ti[s]||Mn)}return c}function d(s,c){!Eo&&ya(),Eo.v&&(Eo.v[_a]=s+"="+c)}function g(s){return mr(s)?!!(bi(s,"CPU iPhone OS 12")||bi(s,"iPad; CPU OS 12")||bi(s,"Macintosh; Intel Mac OS X 10_14")&&bi(s,"Version/")&&bi(s,"Safari")||bi(s,"Macintosh; Intel Mac OS X 10_14")&&bu(s,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||bi(s,"Chrome/5")||bi(s,"Chrome/6")||bi(s,"UnrealEngine")&&!bi(s,"Chrome")||bi(s,"UCBrowser/12")||bi(s,"UCBrowser/11")):!1}var C={perfEvtsSendAll:!1};function R(s,c,p,S){Bn(s,function(b){if(b&&b[c])if(p)Xi(function(){return S(b)},0);else try{S(b)}catch{}})}var $=function(){function s(c){this.listeners=[];var p,S,b=[],F=Co(c,C);S=F[po](function(q){p=!!q.cfg.perfEvtsSendAll}),ho(s,this,function(q){nn(q,"listeners",{g:function(){return b}}),q[dc]=function(G){b[Dn](G)},q[Xc]=function(G){for(var Z=Vi(b,G);Z>-1;)b[ws](Z,1),Z=Vi(b,G)},q[Wl]=function(G){R(b,Wl,!0,function(Z){Z[Wl](G)})},q[Kl]=function(G,Z){R(b,Kl,!0,function(ue){ue[Kl](G,Z)})},q[eo]=function(G,Z){R(b,eo,Z,function(ue){ue[eo](G,Z)})},q[Ya]=function(G){G&&(p||!G[Jc]())&&R(b,Ya,!1,function(Z){G[fs]?Xi(function(){return Z[Ya](G)},0):Z[Ya](G)})},q[js]=function(G){var Z=function(){S&&S.rm(),S=null,b=[]},ue;if(R(b,"unload",!1,function(re){var Re=re[js](G);Re&&(ue||(ue=[]),ue[Dn](Re))}),ue)return ja(function(re){return Ev(Ha(ue),function(){Z(),re()})});Z()}})}return s.__ieDyn=1,s}(),ne="ctx",ce="ParentContextKey",pe="ChildrenContextKey",Oe=null,Je=function(){function s(c,p,S){var b=this;if(b.start=Cu(),b[Rs]=c,b[fs]=S,b[Jc]=function(){return!1},jt(p)){var F;nn(b,"payload",{g:function(){return!F&&jt(p)&&(F=p(),p=null),F}})}b[Ma]=function(q){return q?q===s[ce]||q===s[pe]?b[q]:(b[ne]||{})[q]:null},b[ds]=function(q,G){if(q)if(q===s[ce])b[q]||(b[Jc]=function(){return!0}),b[q]=G;else if(q===s[pe])b[q]=G;else{var Z=b[ne]=b[ne]||{};Z[q]=G}},b[jf]=function(){var q=0,G=b[Ma](s[pe]);if(_t(G))for(var Z=0;Z<G[An];Z++){var ue=G[Z];ue&&(q+=ue[Lu])}b[Lu]=Cu()-b.start,b.exTime=b[Lu]-q,b[jf]=function(){}}}return s.ParentContextKey="parent",s.ChildrenContextKey="childEvts",s}(),Nt=function(){function s(c){this.ctx={},ho(s,this,function(p){p.create=function(S,b,F){return new Je(S,b,F)},p.fire=function(S){S&&(S[jf](),c&&jt(c[Ya])&&c[Ya](S))},p[ds]=function(S,b){if(S){var F=p[ne]=p[ne]||{};F[S]=b}},p[Ma]=function(S){return(p[ne]||{})[S]}})}return s.__ieDyn=1,s}(),pn="CoreUtils.doPerf";function an(s,c,p,S,b){if(s){var F=s;if(F[qo]&&(F=F[qo]()),F){var q=void 0,G=F[Ma](pn);try{if(q=F.create(c(),S,b),q){if(G&&q[ds]&&(q[ds](Je[ce],G),G[Ma]&&G[ds])){var Z=G[Ma](Je[pe]);Z||(Z=[],G[ds](Je[pe],Z)),Z[Dn](q)}return F[ds](pn,q),p(q)}}catch(ue){q&&q[ds]&&q[ds]("exception",ue)}finally{q&&F.fire(q),F[ds](pn,G)}}}return p()}function bn(){return Oe}function Ht(){var s=wn();return I(s,0,8)+"-"+I(s,8,12)+"-"+I(s,12,16)+"-"+I(s,16,20)+"-"+I(s,20)}function wn(){for(var s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],c=Mn,p,S=0;S<4;S++)p=Qa(),c+=s[p&15]+s[p>>4&15]+s[p>>8&15]+s[p>>12&15]+s[p>>16&15]+s[p>>20&15]+s[p>>24&15]+s[p>>28&15];var b=s[8+(Qa()&3)|0];return le(c,0,8)+le(c,9,4)+"4"+le(c,13,3)+b+le(c,16,3)+le(c,19,12)}var yt=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Qn="00",Cn="ff",on="00000000000000000000000000000000",li="0000000000000000",bo=1;function ro(s,c,p){return s&&s[An]===c&&s!==p?!!s.match(/^[\da-f]*$/i):!1}function od(s,c,p){return ro(s,c)?s:p}function hf(s){(isNaN(s)||s<0||s>255)&&(s=1);for(var c=s.toString(16);c[An]<2;)c="0"+c;return c}function Qd(s,c,p,S){var b;return b={},b[vc]=ro(S,2,Cn)?S:Qn,b[Dv]=au(s)?s:wn(),b[ju]=Zd(c)?c:tn(wn(),16),b.traceFlags=p>=0&&p<=255?p:1,b}function Sa(s,c){var p;if(!s||(_t(s)&&(s=s[0]||""),!s||!mr(s)||s[An]>8192))return null;if(s.indexOf(",")!==-1){var S=s[ql](",");s=S[c>0&&S[An]>c?c:0]}var b=yt.exec(cs(s));return!b||b[1]===Cn||b[2]===on||b[3]===li?null:(p={version:(b[1]||Mn)[cr](),traceId:(b[2]||Mn)[cr](),spanId:(b[3]||Mn)[cr]()},p[Hu]=parseInt(b[4],16),p)}function au(s){return ro(s,32,on)}function Zd(s){return ro(s,16,li)}function ev(s){return!(!s||!ro(s[vc],2,Cn)||!ro(s[Dv],32,on)||!ro(s[ju],16,li)||!ro(hf(s[Hu]),2))}function it(s){return ev(s)?(s[Hu]&bo)===bo:!1}function Gt(s){if(s){var c=hf(s[Hu]);ro(c,2)||(c="01");var p=s[vc]||Qn;return p!=="00"&&p!=="ff"&&(p=Qn),"".concat(p.toLowerCase(),"-").concat(od(s.traceId,32,on).toLowerCase(),"-").concat(od(s.spanId,16,li).toLowerCase(),"-").concat(c.toLowerCase())}return""}function qn(s){var c="traceparent",p=Sa(Sc(c),s);return p||(p=Sa(ef(c),s)),p}var fi=nu("plugin");function Di(s){return fi.get(s,"state",{},!0)}function Ci(s,c){for(var p=[],S=null,b=s[Hi](),F;b;){var q=b[Qi]();if(q){S&&S[Ml]&&q[pc]&&S[Ml](q),F=Di(q);var G=!!F[Us];q[Us]&&(G=q[Us]()),G||p[Dn](q),S=q,b=b[Hi]()}}Bn(p,function(Z){var ue=s[ui]();Z[Fu](s.getCfg(),ue,c,s[Hi]()),F=Di(Z),!Z[ui]&&!F[ui]&&(F[ui]=ue),F[Us]=!0,delete F[mo]})}function wi(s){return s.sort(function(c,p){var S=0;if(p){var b=p[pc];c[pc]?S=b?c[Iv]-p[Iv]:1:b&&(S=-1)}else S=c?1:-1;return S})}function pf(s){var c={};return{getName:function(){return c[Rs]},setName:function(p){s&&s.setName(p),c[Rs]=p},getTraceId:function(){return c[Dv]},setTraceId:function(p){s&&s.setTraceId(p),au(p)&&(c[Dv]=p)},getSpanId:function(){return c[ju]},setSpanId:function(p){s&&s.setSpanId(p),Zd(p)&&(c[ju]=p)},getTraceFlags:function(){return c[Hu]},setTraceFlags:function(p){s&&s.setTraceFlags(p),c[Hu]=p}}}var il="TelemetryPluginChain",ol="_hasRun",bh="_getTelCtx",gf=0;function cu(s,c,p){for(;s;){if(s[Qi]()===p)return s;s=s[Hi]()}return sd([p],c.config||{},c)}function tv(s,c,p,S){var b=null,F=[];c||(c=Co({},null,p[Wr])),S!==null&&(b=S?cu(s,p,S):s);var q={_next:Z,ctx:{core:function(){return p},diagLog:function(){return td(p,c.cfg)},getCfg:function(){return c.cfg},getExtCfg:re,getConfig:Re,hasNext:function(){return!!b},getNext:function(){return b},setNext:function(be){b=be},iterate:ve,onComplete:G}};function G(be,de){for(var Ze=[],Xe=2;Xe<arguments.length;Xe++)Ze[Xe-2]=arguments[Xe];be&&F[Dn]({func:be,self:Bt(de)?q.ctx:de,args:Ze})}function Z(){var be=b;if(b=be?be[Hi]():null,!be){var de=F;de&&de[An]>0&&(Bn(de,function(Ze){try{Ze.func.call(Ze.self,Ze.args)}catch(Xe){Za(p[Wr],2,73,"Unexpected Exception during onComplete - "+O(Xe))}}),F=[])}return be}function ue(be,de){var Ze=null,Xe=c.cfg;if(Xe&&be){var mt=Xe[Wu];!mt&&de&&(mt={}),Xe[Wu]=mt,mt=c.ref(Xe,Wu),mt&&(Ze=mt[be],!Ze&&de&&(Ze={}),mt[be]=Ze,Ze=c.ref(mt,be))}return Ze}function re(be,de){var Ze=ue(be,!0);return de&&Vn(de,function(Xe,mt){if(dt(Ze[Xe])){var wt=c.cfg[Xe];(wt||!dt(wt))&&(Ze[Xe]=wt)}fa(c,Ze,Xe,mt)}),c[lc](Ze,de)}function Re(be,de,Ze){Ze===void 0&&(Ze=!1);var Xe,mt=ue(be,!1),wt=c.cfg;return mt&&(mt[de]||!dt(mt[de]))?Xe=mt[de]:(wt[de]||!dt(wt[de]))&&(Xe=wt[de]),Xe||!dt(Xe)?Xe:Ze}function ve(be){for(var de;de=q._next();){var Ze=de[Qi]();Ze&&be(Ze)}}return q}function _s(s,c,p,S){var b=Co(c),F=tv(s,b,p,S),q=F.ctx;function G(ue){var re=F._next();return re&&re[pc](ue,q),!re}function Z(ue,re){return ue===void 0&&(ue=null),_t(ue)&&(ue=sd(ue,b.cfg,p,re)),_s(ue||q[Hi](),b.cfg,p,re)}return q[ji]=G,q[ca]=Z,q}function mf(s,c,p){var S=Co(c.config),b=tv(s,S,c,p),F=b.ctx;function q(Z){var ue=b._next();return ue&&ue[js](F,Z),!ue}function G(Z,ue){return Z===void 0&&(Z=null),_t(Z)&&(Z=sd(Z,S.cfg,c,ue)),mf(Z||F[Hi](),c,ue)}return F[ji]=q,F[ca]=G,F}function uu(s,c,p){var S=Co(c.config),b=tv(s,S,c,p),F=b.ctx;function q(Z){return F.iterate(function(ue){jt(ue[ua])&&ue[ua](F,Z)})}function G(Z,ue){return Z===void 0&&(Z=null),_t(Z)&&(Z=sd(Z,S.cfg,c,ue)),uu(Z||F[Hi](),c,ue)}return F[ji]=q,F[ca]=G,F}function sd(s,c,p,S){var b=null,F=!S;if(_t(s)&&s[An]>0){var q=null;Bn(s,function(G){if(!F&&S===G&&(F=!0),F&&G&&jt(G[pc])){var Z=Ig(G,c,p);b||(b=Z),q&&q._setNext(Z),q=Z}})}return S&&!b?sd([S],c,p):b}function Ig(s,c,p){var S=null,b=jt(s[pc]),F=jt(s[Ml]),q;s?q=s[ls]+"-"+s[Iv]+"-"+gf++:q="Unknown-0-"+gf++;var G={getPlugin:function(){return s},getNext:function(){return S},processTelemetry:re,unload:Re,update:ve,_id:q,_setNext:function(be){S=be}};function Z(){var be;return s&&jt(s[bh])&&(be=s[bh]()),be||(be=_s(G,c,p)),be}function ue(be,de,Ze,Xe,mt){var wt=!1,Pt=s?s[ls]:il,un=be[ol];return un||(un=be[ol]={}),be.setNext(S),s&&an(be[ui](),function(){return Pt+":"+Ze},function(){un[q]=!0;try{var nr=S?S._id:Mn;nr&&(un[nr]=!1),wt=de(be)}catch(ie){var Gr=S?un[S._id]:!0;Gr&&(wt=!0),(!S||!Gr)&&Za(be[Ns](),1,73,"Plugin ["+Pt+"] failed during "+Ze+" - "+O(ie)+", run flags: "+O(un))}},Xe,mt),wt}function re(be,de){de=de||Z();function Ze(Xe){if(!s||!b)return!1;var mt=Di(s);return mt[mo]||mt[zl]?!1:(F&&s[Ml](S),s[pc](be,Xe),!0)}ue(de,Ze,"processTelemetry",function(){return{item:be}},!be.sync)||de[ji](be)}function Re(be,de){function Ze(){var Xe=!1;if(s){var mt=Di(s),wt=s[ui]||mt[ui];s&&(!wt||wt===be.core())&&!mt[mo]&&(mt[ui]=null,mt[mo]=!0,mt[Us]=!1,s[mo]&&s[mo](be,de)===!0&&(Xe=!0))}return Xe}ue(be,Ze,"unload",function(){},de[fs])||be[ji](de)}function ve(be,de){function Ze(){var Xe=!1;if(s){var mt=Di(s),wt=s[ui]||mt[ui];s&&(!wt||wt===be.core())&&!mt[mo]&&s[ua]&&s[ua](be,de)===!0&&(Xe=!0)}return Xe}ue(be,Ze,"update",function(){},!1)||be[ji](de)}return Fn(G)}var ad=function(){function s(c,p,S,b){var F=this,q=_s(c,p,S,b);$f(F,q,Tt(q))}return s}();function ks(){var s=[];function c(S){S&&s[Dn](S)}function p(S,b){Bn(s,function(F){try{F(S,b)}catch(q){Za(S[Ns](),2,73,"Unexpected error calling unload handler - "+O(q))}}),s=[]}return{add:c,run:p}}function Ks(){var s=[];function c(S){var b=s;s=[],Bn(b,function(F){try{(F.rm||F.remove).call(F)}catch(q){Za(S,2,73,"Unloading:"+O(q))}})}function p(S){S&&Hc(s,S)}return{run:c,add:p}}var nv,Pc="getPlugin",Bp=(nv={},nv[Wu]={isVal:rn,v:{}},nv),fp=function(){function s(){var c=this,p,S,b,F,q;ue(),ho(s,c,function(re){re[Fu]=function(Re,ve,be,de){Z(Re,ve,de),p=!0},re[mo]=function(Re,ve){var be,de=re[ui];if(!de||Re&&de!==Re[ui]())return;var Ze,Xe=!1,mt=Re||mf(null,de,b&&b[Pc]?b[Pc]():b),wt=ve||(be={reason:0},be[fs]=!1,be);function Pt(){Xe||(Xe=!0,F.run(mt,ve),q.run(mt[Ns]()),Ze===!0&&mt[ji](wt),ue())}return!re[hc]||re[hc](mt,wt,Pt)!==!0?Pt():Ze=!0,Ze},re[ua]=function(Re,ve){var be=re[ui];if(!be||Re&&be!==Re[ui]())return;var de,Ze=!1,Xe=Re||uu(null,be,b&&b[Pc]?b[Pc]():b),mt=ve||{reason:0};function wt(){Ze||(Ze=!0,Z(Xe.getCfg(),Xe.core(),Xe[Hi]()))}return!re._doUpdate||re._doUpdate(Xe,mt,wt)!==!0?wt():de=!0,de},$s(re,"_addUnloadCb",function(){return F},"add"),$s(re,"_addHook",function(){return q},"add"),nn(re,"_unloadHooks",{g:function(){return q}})}),c[Ns]=function(re){return G(re)[Ns]()},c[Us]=function(){return p},c.setInitialized=function(re){p=re},c[Ml]=function(re){b=re},c[ji]=function(re,Re){Re?Re[ji](re):b&&jt(b[pc])&&b[pc](re,null)},c._getTelCtx=G;function G(re){re===void 0&&(re=null);var Re=re;if(!Re){var ve=S||_s(null,{},c[ui]);b&&b[Pc]?Re=ve[ca](null,b[Pc]):Re=ve[ca](null,b)}return Re}function Z(re,Re,ve){Co(re,Bp,td(Re)),!ve&&Re&&(ve=Re[Ps]()[Hi]());var be=b;b&&b[Pc]&&(be=b[Pc]()),c[ui]=Re,S=_s(ve,re,Re,be)}function ue(){p=!1,c[ui]=null,S=null,b=null,q=Ks(),F=ks()}}return s.__ieDyn=1,s}();function Ng(s,c,p){var S={id:c,fn:p};Hc(s,S);var b={remove:function(){Bn(s,function(F,q){if(F.id===S.id)return s[ws](q,1),-1})}};return b}function Og(s,c,p){for(var S=!1,b=s[An],F=0;F<b;++F){var q=s[F];if(q)try{if(q.fn[Aa](null,[c])===!1){S=!0;break}}catch(G){Za(p,2,64,"Telemetry initializer failed: "+Ud(G),{exception:O(G)},!0)}}return!S}var dp=function(s){Af(c,s);function c(){var p=s.call(this)||this;p.identifier="TelemetryInitializerPlugin",p.priority=199;var S,b;F(),ho(c,p,function(q,G){q.addTelemetryInitializer=function(Z){return Ng(b,S++,Z)},q[pc]=function(Z,ue){Og(b,Z,ue?ue[Ns]():q[Ns]())&&q[ji](Z,ue)},q[hc]=function(){F()}});function F(){S=0,b=[]}return p}return c.__ieDyn=1,c}(fp),Ic,Vp="Plugins must provide initialize method",Mv="_notificationManager",wh="SDK is still unloading...",Rh="SDK is not initialized",Ph=yn((Ic={cookieCfg:{}},Ic[Ku]={rdOnly:!0,ref:!0,v:[]},Ic[vs]={rdOnly:!0,ref:!0,v:[]},Ic[Wu]={ref:!0,v:{}},Ic[$a]=Ei,Ic.loggingLevelConsole=0,Ic.diagnosticLogInterval=Ei,Ic));function vp(s,c){return new Nt(c)}function qv(s,c,p){var S,b=[],F=[],q={};return Bn(p,function(G){(dt(G)||dt(G[Fu]))&&Xr(Vp);var Z=G[Iv],ue=G[ls];G&&Z&&(dt(q[Z])?q[Z]=ue:mh(s,"Two extensions have same priority #"+Z+" - "+q[Z]+", "+ue)),!Z||Z<c?b[Dn](G):F[Dn](G)}),S={},S[ui]=b,S[vs]=F,S}function Nc(s,c){var p=!1;return Bn(c,function(S){if(S===s)return p=!0,-1}),p}function Uv(s,c,p,S){p&&Vn(p,function(b,F){S&&Lo(F)&&Lo(c[b])&&Uv(s,c[b],F,S),S&&Lo(F)&&Lo(c[b])?Uv(s,c[b],F,S):s.set(c,b,F)})}function Ih(s,c){var p=null,S=-1;return Bn(s,function(b,F){if(b.w===c)return p=b,S=F,-1}),{i:S,l:p}}function br(s,c){var p=Ih(s,c).l;return p||(p={w:c,rm:function(){var S=Ih(s,c);S.i!==-1&&s[ws](S.i,1)}},s[Dn](p)),p}function hp(s,c,p){Bn(c,function(S){var b=af(s,S.w,p);delete S.w,S.rm=function(){b.rm()}})}var cd=function(){function s(){var c,p,S,b,F,q,G,Z,ue,re,Re,ve,be,de,Ze,Xe,mt,wt,Pt,un,nr,Gr,ie,Ue,et,ut,Yt,Rn;ho(s,this,function(Pe){Le(),Pe._getDbgPlgTargets=function(){return[ie]},Pe[Us]=function(){return p},Pe[Fu]=function(Be,qt,jn,In){be&&Xr(wh),Pe[Us]()&&Xr("Core cannot be initialized more than once"),c=Co(Be,Ph,jn||Pe[Wr],!1),Be=c.cfg,Mh(c[po](function(Ur){nr=Ur.cfg.instrumentationKey;var Zo=Ur.ref(Ur.cfg,Wu);Vn(Zo,function(ys){Ur.ref(Zo,ys)}),dt(nr)&&Xr("Please provide instrumentation key")})),F=In,ec(),Kv(),Pe[Wr]=jn;var Tn=Be[Ku];if(re=[],re[Dn].apply(re,Mf(Mf([],qt,!1),Tn)),Re=Be[vs],Rt(null),(!ve||ve[An]===0)&&Xr("No "+vs+" available"),Re&&Re[An]>1){var Ai=Pe[Qi]("TeeChannelController");(!Ai||!Ai.plugin)&&Za(S,1,28,"TeeChannel required")}hp(Be,Gr,S),Gr=null,p=!0,Pe.releaseQueue(),Pe[Vc]()},Pe.getChannels=function(){var Be=[];return ve&&Bn(ve,function(qt){Be[Dn](qt)}),Fn(Be)},Pe.track=function(Be){an(Pe[qo](),function(){return"AppInsightsCore:track"},function(){Be===null&&(og(Be),Xr("Invalid telemetry item")),!Be[Rs]&&dt(Be[Rs])&&(og(Be),Xr("telemetry name required")),Be.iKey=Be.iKey||nr,Be[Lu]=Be[Lu]||gc(new Date),Be.ver=Be.ver||"4.0",!be&&Pe[Us]()?vt()[ji](Be):b[Dn](Be)},function(){return{item:Be}},!Be.sync)},Pe[Ps]=vt,Pe[fc]=function(){return F||(F=new $(c.cfg),Pe[Mv]=F),F},Pe[dc]=function(Be){Pe[fc]()[dc](Be)},Pe[Xc]=function(Be){F&&F[Xc](Be)},Pe.getCookieMgr=function(){return Z||(Z=rl(c.cfg,Pe[Wr])),Z},Pe.setCookieMgr=function(Be){Z!==Be&&(cf(Z,!1),Z=Be)},Pe[qo]=function(){return!q&&!G&&Mh(c[po](function(Be){if(Be.cfg.enablePerfMgr){var qt=Be.cfg[$a];jt(qt)&&(G=qt(Pe,Pe[fc]()))}})),q||G||bn()},Pe.setPerfMgr=function(Be){q=Be},Pe.eventCnt=function(){return b[An]},Pe.releaseQueue=function(){if(p&&b[An]>0){var Be=b;b=[],Bn(Be,function(qt){vt()[ji](qt)})}},Pe[Vc]=function(Be){return Ze=Be||null,Rn=!1,ut&&ut[Mo](),fe(!0)};function fe(Be){if((!ut||!ut[Is])&&!Rn){var qt=Be||S&&S.queue[An]>0;qt&&(Yt||(Yt=!0,Mh(c[po](function(jn){var In=jn.cfg.diagnosticLogInterval;(!In||!(In>0))&&(In=1e4);var Tn=!1;ut&&(Tn=ut[Is],ut[Mo]()),ut=Ol(qr,In),ut.unref(),ut[Is]=Tn}))),ut[Is]=!0)}return ut}Pe[Sv]=function(){Rn=!0,ut&&ut[Mo](),qr()},$f(Pe,function(){return de},["addTelemetryInitializer"]),Pe[js]=function(Be,qt,jn){var In;Be===void 0&&(Be=!0),p||Xr(Rh),be&&Xr(wh);var Tn=(In={reason:50},In[fs]=Be,In.flushComplete=!1,In),Ai;Be&&!qt&&(Ai=ja(function(ys){qt=ys}));var Ur=mf(Pn(),Pe);Ur[go](function(){wt.run(Pe[Wr]),cp([Z,F,S],Be,function(){Le(),qt&&qt(Tn)})},Pe);function Zo(ys){Tn.flushComplete=ys,be=!0,mt.run(Ur,Tn),Pe[Sv](),Ur[ji](Tn)}return qr(),vu(Be,Zo,6,jn),Ai},Pe[Qi]=Ot,Pe.addPlugin=function(Be,qt,jn,In){if(!Be){In&&In(!1),hu(Vp);return}var Tn=Ot(Be[ls]);if(Tn&&!qt){In&&In(!1),hu("Plugin ["+Be[ls]+"] is already loaded!");return}var Ai={reason:16};function Ur(pu){re[Dn](Be),Ai.added=[Be],Rt(Ai),In&&In(!0)}if(Tn){var Zo=[Tn.plugin],ys={reason:2,isAsync:!!jn};ri(Zo,ys,function(pu){pu?(Ai.removed=Zo,Ai.reason|=32,Ur()):In&&In(!1)})}else Ur()},Pe.updateCfg=function(Be,qt){qt===void 0&&(qt=!0);var jn;if(Pe[Us]()){jn={reason:1,cfg:c.cfg,oldCfg:Oa({},c.cfg),newConfig:Oa({},Be),merge:qt},Be=jn.newConfig;var In=c.cfg;Be[Ku]=In[Ku],Be[vs]=In[vs]}c._block(function(Tn){var Ai=Tn.cfg;Uv(Tn,Ai,Be,qt),qt||Vn(Ai,function(Ur){Yr(Be,Ur)||Tn.set(Ai,Ur,Ei)}),Tn[lc](Ai,Ph)},!0),c[uc](),jn&&kc(jn)},Pe.evtNamespace=function(){return Xe},Pe.flush=vu,Pe.getTraceCtx=function(Be){return un||(un=pf()),un},Pe.setTraceCtx=function(Be){un=Be||null},Pe.addUnloadHook=Mh,$s(Pe,"addUnloadCb",function(){return mt},"add"),Pe.onCfgChange=function(Be){var qt;return p?qt=af(c.cfg,Be,Pe[Wr]):qt=br(Gr,Be),{rm:function(){qt.rm()}}},Pe.getWParam=function(){return Cl()||c.cfg.enableWParam?0:-1};function Ne(){var Be={};Ue=[];var qt=function(jn){jn&&Bn(jn,function(In){if(In[ls]&&In[vc]&&!Be[In.identifier]){var Tn=In[ls]+"="+In[vc];Ue[Dn](Tn),Be[In.identifier]=In}})};qt(ve),Re&&Bn(Re,function(jn){qt(jn)}),qt(re)}function Le(){p=!1,c=Co({},Ph,Pe[Wr]),c.cfg[Au]=1,nn(Pe,"config",{g:function(){return c.cfg},s:function(qt){Pe.updateCfg(qt,!1)}}),nn(Pe,"pluginVersionStringArr",{g:function(){return Ue||Ne(),Ue}}),nn(Pe,"pluginVersionString",{g:function(){return et||(Ue||Ne(),et=Ue.join(";")),et||Mn}}),nn(Pe,"logger",{g:function(){return S||(S=new df(c.cfg),c[Wr]=S),S},s:function(qt){c[Wr]=qt,S!==qt&&(cf(S,!1),S=qt)}}),Pe[Wr]=new df(c.cfg),ie=[];var Be=Pe.config[Ku]||[];Be.splice(0,Be[An]),Hc(Be,ie),de=new dp,b=[],cf(F,!1),F=null,q=null,G=null,cf(Z,!1),Z=null,ue=null,re=[],Re=null,ve=null,be=!1,Ze=null,Xe=la("AIBaseCore",!0),mt=ks(),un=null,nr=null,wt=Ks(),Gr=[],et=null,Ue=null,Rn=!1}function vt(){var Be=_s(Pn(),c.cfg,Pe);return Be[go](fe),Be}function Rt(Be){var qt=qv(Pe[Wr],Gp,re);ue=null,et=null,Ue=null,ve=(Re||[])[0]||[],ve=wi(Hc(ve,qt[vs]));var jn=Hc(wi(qt[ui]),ve);ie=Fn(jn);var In=Pe.config[Ku]||[];In.splice(0,In[An]),Hc(In,ie);var Tn=vt();ve&&ve[An]>0&&Ci(Tn[ca](ve),jn),Ci(Tn,jn),Be&&kc(Be)}function Ot(Be){var qt=null,jn=null,In=[];return Bn(ie,function(Tn){if(Tn[ls]===Be&&Tn!==de)return jn=Tn,-1;Tn.getChannel&&In[Dn](Tn)}),!jn&&In[An]>0&&Bn(In,function(Tn){if(jn=Tn.getChannel(Be),!jn)return-1}),jn&&(qt={plugin:jn,setEnabled:function(Tn){Di(jn)[zl]=!Tn},isEnabled:function(){var Tn=Di(jn);return!Tn[mo]&&!Tn[zl]},remove:function(Tn,Ai){var Ur;Tn===void 0&&(Tn=!0);var Zo=[jn],ys=(Ur={reason:1},Ur[fs]=Tn,Ur);ri(Zo,ys,function(pu){pu&&Rt({reason:32,removed:Zo}),Ai&&Ai(pu)})}}),qt}function Pn(){if(!ue){var Be=(ie||[]).slice();Vi(Be,de)===-1&&Be[Dn](de),ue=sd(wi(Be),c.cfg,Pe)}return ue}function ri(Be,qt,jn){if(Be&&Be[An]>0){var In=sd(Be,c.cfg,Pe),Tn=mf(In,Pe);Tn[go](function(){var Ai=!1,Ur=[];Bn(re,function(ys,pu){Nc(ys,Be)?Ai=!0:Ur[Dn](ys)}),re=Ur,et=null,Ue=null;var Zo=[];Re&&(Bn(Re,function(ys,pu){var sg=[];Bn(ys,function(yp){Nc(yp,Be)?Ai=!0:sg[Dn](yp)}),Zo[Dn](sg)}),Re=Zo),jn&&jn(Ai),fe()}),Tn[ji](qt)}else jn(!1)}function qr(){if(S&&S.queue){var Be=S.queue.slice(0);S.queue[An]=0,Bn(Be,function(qt){var jn,In=(jn={},jn[Rs]=Ze||"InternalMessageId: "+qt[ci],jn.iKey=nr,jn[Lu]=gc(new Date),jn.baseType=su.dataType,jn.baseData={message:qt[_o]},jn);Pe.track(In)})}}function vu(Be,qt,jn,In){var Tn=1,Ai=!1,Ur=null;In=In||5e3;function Zo(){Tn--,Ai&&Tn===0&&(Ur&&Ur[Mo](),Ur=null,qt&&qt(Ai),qt=null)}if(ve&&ve[An]>0){var ys=vt()[ca](ve);ys.iterate(function(pu){if(pu.flush){Tn++;var sg=!1;pu.flush(Be,function(){sg=!0,Zo()},jn)||sg||(Be&&Ur==null?Ur=Xi(function(){Ur=null,Zo()},In):Zo())}})}return Ai=!0,Zo(),!0}function ec(){!F&&Pe[fc](),Mh(c[po](function(Be){var qt=Be.cfg.disableDbgExt;qt===!0&&Pt&&(F[Xc](Pt),Pt=null),F&&!Pt&&qt!==!0&&(Pt=Bd(Be.cfg),F[dc](Pt))}))}function Kv(){Mh(c[po](function(Be){var qt=Be.cfg.enablePerfMgr;!qt&&G&&(G=null),qt&&Wa(Be.cfg,$a,vp)}))}function kc(Be){var qt=uu(Pn(),Pe);qt[go](fe),(!Pe._updateHook||Pe._updateHook(qt,Be)!==!0)&&qt[ji](Be)}function hu(Be){var qt=Pe[Wr];qt?(Za(qt,2,73,Be),fe()):Xr(Be)}function og(Be){var qt=Pe[fc]();qt&&qt[Kl]([Be],2)}function Mh(Be){wt.add(Be)}})}return s.__ieDyn=1,s}(),rv="on",kg="attachEvent",Oc="addEventListener",Da="detachEvent",pp="removeEventListener",lu="events",ud="visibilitychange",sl="pagehide",Gs="pageshow",fu="unload",al="beforeunload",ld=la("aiEvtPageHide"),cl=la("aiEvtPageShow"),Nh=/\.[\.]+/g,gp=/[\.]+$/,Xp=1,jv=nu("events"),iv=/^([^.]*)(?:\.(.+)|)/;function fd(s){return s&&s[qu]?s[qu](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Mn):s}function ov(s,c){var p;if(c){var S=Mn;_t(c)?(S=Mn,Bn(c,function(F){F=fd(F),F&&(F[0]!=="."&&(F="."+F),S+=F)})):S=fd(c),S&&(S[0]!=="."&&(S="."+S),s=(s||Mn)+S)}var b=iv.exec(s||Mn)||[];return p={},p[Zi]=b[1],p.ns=(b[2]||Mn).replace(Nh,".").replace(gp,Mn)[ql](".").sort().join("."),p}function Oh(s,c,p){var S=[],b=jv.get(s,lu,{},!1),F=ov(c,p);return Vn(b,function(q,G){Bn(G,function(Z){var ue;(!F[Zi]||F[Zi]===Z.evtName[Zi])&&(!F.ns||F.ns===F.ns)&&S[Dn]((ue={},ue[Rs]=Z.evtName[Zi]+(Z.evtName.ns?"."+Z.evtName.ns:Mn),ue.handler=Z[Uu],ue))})}),S}function dd(s,c,p){p===void 0&&(p=!0);var S=jv.get(s,lu,{},p),b=S[c];return b||(b=S[c]=[]),b}function Hv(s,c,p,S){s&&c&&c[Zi]&&(s[pp]?s[pp](c[Zi],p,S):s[Da]&&s[Da](rv+c[Zi],p))}function kh(s,c,p,S){var b=!1;return s&&c&&c[Zi]&&p&&(s[Oc]?(s[Oc](c[Zi],p,S),b=!0):s[kg]&&(s[kg](rv+c[Zi],p),b=!0)),b}function $v(s,c,p,S){for(var b=c[An];b--;){var F=c[b];F&&(!p.ns||p.ns===F.evtName.ns)&&(!S||S(F))&&(Hv(s,F.evtName,F[Uu],F.capture),c[ws](b,1))}}function xg(s,c,p){if(c[Zi])$v(s,dd(s,c[Zi]),c,p);else{var S=jv.get(s,lu,{});Vn(S,function(b,F){$v(s,F,c,p)}),Tt(S)[An]===0&&jv.kill(s,lu)}}function xh(s,c){var p;return c?(_t(c)?p=[s].concat(c):p=[s,c],p=ov("xx",p).ns[ql](".")):p=s,p}function io(s,c,p,S,b){var F;b===void 0&&(b=!1);var q=!1;if(s)try{var G=ov(c,S);if(q=kh(s,G,p,b),q&&jv.accept(s)){var Z=(F={guid:Xp++,evtName:G},F[Uu]=p,F.capture=b,F);dd(s,G.type)[Dn](Z)}}catch{}return q}function ul(s,c,p,S,b){if(b===void 0&&(b=!1),s)try{var F=ov(c,S),q=!1;xg(s,F,function(G){return F.ns&&!p||G[Uu]===p?(q=!0,!0):!1}),q||Hv(s,F,p,b)}catch{}}function vd(s,c,p,S){return S===void 0&&(S=!1),io(s,c,p,null,S)}function Jp(s,c,p,S){S===void 0&&(S=!1),ul(s,c,p,null,S)}function _f(s,c,p){var S=!1,b=nc();b&&(S=io(b,s,c,p),S=io(b.body,s,c,p)||S);var F=Cs();return F&&(S=io(F,s,c,p)||S),S}function hd(s,c,p){var S=nc();S&&(ul(S,s,c,p),ul(S.body,s,c,p));var b=Cs();b&&ul(b,s,c,p)}function Yv(s,c,p,S){var b=!1;return c&&s&&s[An]>0&&Bn(s,function(F){F&&(!p||Vi(p,F)===-1)&&(b=_f(F,c,S)||b)}),b}function Fh(s,c,p,S){var b=!1;return c&&s&&_t(s)&&(b=Yv(s,c,p,S),!b&&p&&p[An]>0&&(b=Yv(s,c,null,S))),b}function pd(s,c,p){s&&_t(s)&&Bn(s,function(S){S&&hd(S,c,p)})}function gd(s,c,p){return Fh([al,fu,sl],s,c,p)}function Qp(s,c){pd([al,fu,sl],s,c)}function Zp(s,c,p){function S(q){var G=Cs();s&&G&&G.visibilityState==="hidden"&&s(q)}var b=xh(ld,p),F=Yv([sl],s,c,b);return(!c||Vi(c,ud)===-1)&&(F=Yv([ud],S,c,b)||F),!F&&c&&(F=Zp(s,null,p)),F}function zv(s,c){var p=xh(ld,c);pd([sl],s,p),pd([ud],null,p)}function eg(s,c,p){function S(q){var G=Cs();s&&G&&G.visibilityState==="visible"&&s(q)}var b=xh(cl,p),F=Yv([Gs],s,c,b);return F=Yv([ud],S,c,b)||F,!F&&c&&(F=eg(s,null,p)),F}function bm(s,c){var p=xh(cl,c);pd([Gs],s,p),pd([ud],null,p)}var wm=Er({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),yf="",Rm="https://browser.events.data.microsoft.com/OneCollector/1.0/",Lh="version",sv="properties",mp="initialize",_p="logger",Ah="indexOf",Sf="timings",tg="pollInternalLogs",Fi="value",du="kind",Li="length",ng="processTelemetryStart",rg="handleField",ig="rmSanitizer",l="rmFieldSanitizer",m="canHandle",E,P="4.0.4",L="1DS-Web-JS-"+P,z=h.hasOwnProperty,W="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ae="withCredentials",me="timeout",De=(E={},E[0]=0,E[2]=6,E[1]=1,E[3]=7,E[4098]=6,E[4097]=1,E[4099]=7,E),Ke=null,bt=Cl(),St=Tl();function je(s){return!(s===yf||dt(s))}function xe(s){if(s){var c=Ao(s,"-");if(c>-1)return tn(s,c)}return yf}function We(){return Ke===null&&(Ke=!Bt(Uint8Array)&&!Kr()&&!eu()),Ke}function ke(s){return!!(s&&yi(s)&&s>=1&&s<=4)}function ct(s,c,p){if(!c&&!je(c)||typeof s!="string")return null;var S=typeof c;if(S==="string"||S==="number"||S==="boolean"||_t(c))c={value:c};else if(S==="object"&&!z.call(c,"value"))c={value:p?JSON.stringify(c):c};else if(dt(c[Fi])||c[Fi]===yf||!mr(c[Fi])&&!yi(c[Fi])&&!ko(c[Fi])&&!_t(c[Fi]))return null;if(_t(c[Fi])&&!Ri(c[Fi]))return null;if(!dt(c[du])){if(_t(c[Fi])||!xr(c[du]))return null;c[Fi]=c[Fi].toString()}return c}function nt(s,c,p){var S=-1;if(!Bt(s))if(c>0&&(c===32?S=8192:c<=13&&(S=c<<5)),ni(p))S===-1&&(S=0),S|=p;else{var b=De[Dr(s)]||-1;S!==-1&&b!==-1?S|=b:b===6&&(S=b)}return S}function gt(s,c,p){p===void 0&&(p=!0);var S;return s&&(S=s.get(c),p&&S&&decodeURIComponent&&(S=decodeURIComponent(S))),S||yf}function Xt(s){s===void 0&&(s="D");var c=Ht();return s==="B"?c="{"+c+"}":s==="P"?c="("+c+")":s==="N"&&(c=c.replace(/-/g,yf)),c}function Un(s,c,p,S,b){var F={},q=!1,G=0,Z=arguments[Li],ue=arguments;for(ko(ue[0])&&(q=ue[0],G++);G<Z;G++){var s=ue[G];Vn(s,function(Re,ve){q&&ve&&Ir(ve)?_t(ve)?(F[Re]=F[Re]||[],Bn(ve,function(be,de){be&&Ir(be)?F[Re][de]=Un(!0,F[Re][de],be):F[Re][de]=be})):F[Re]=Un(!0,F[Re],ve):F[Re]=ve})}return F}var On=zc;function xr(s){return s===0||s>0&&s<=13||s===32}function ni(s){return s>=0&&s<=9}function Kr(){var s=Qs();if(!Bt(s)&&s.userAgent){var c=s.userAgent.toLowerCase();if((c[Ah]("safari")>=0||c[Ah]("firefox")>=0)&&c[Ah]("chrome")<0)return!0}return!1}function Ri(s){return s[Li]>0}function wo(s,c){var p=s;p[Sf]=p[Sf]||{},p[Sf][ng]=p[Sf][ng]||{},p[Sf][ng][c]=On()}function Dr(s){var c=0;if(s!=null){var p=typeof s;p==="string"?c=1:p==="number"?c=2:p==="boolean"?c=3:p===n&&(c=4,_t(s)?(c=4096,s[Li]>0&&(c|=Dr(s[0]))):z.call(s,"value")&&(c=8192|Dr(s[Fi])))}return c}function jo(){return!!Or("chrome")}function Ho(s,c,p,S,b,F){S===void 0&&(S=!1),b===void 0&&(b=!1);function q(Z,ue,re){try{Z[ue]=re}catch{}}var G=new XMLHttpRequest;return S&&q(G,W,S),p&&q(G,ae,p),G.open(s,c,!b),p&&q(G,ae,p),!b&&F&&q(G,me,F),G}function $i(s){return s>0}var Bs=yn({endpointUrl:Rm,propertyStorageOverride:{isVal:Wi}});function Wi(s){return s&&(!s.getProperty||!s.setProperty)&&Xr("Invalid property storage override passed."),!0}var Ki=function(s){Af(c,s);function c(){var p=s.call(this)||this;return ho(c,p,function(S,b){S[mp]=function(F,q,G,Z){an(S,function(){return"AppInsightsCore.initialize"},function(){try{b[mp](Co(F,Bs,G||S[_p],!1).cfg,q,G,Z)}catch(Re){var ue=S[_p],re=O(Re);re[Ah]("channels")!==-1&&(re+=`
 - Channels must be provided through config.channels only!`),Za(ue,1,514,"SDK Initialization Failed - no telemetry will be sent: "+re)}},function(){return{config:F,extensions:q,logger:G,notificationManager:Z}})},S.track=function(F){an(S,function(){return"AppInsightsCore.track"},function(){var q=F;if(q){q[Sf]=q[Sf]||{},q[Sf].trackStart=On(),ke(q.latency)||(q.latency=1);var G=q.ext=q.ext||{};G.sdk=G.sdk||{},G.sdk.ver=L;var Z=q.baseData=q.baseData||{};Z[sv]=Z[sv]||{};var ue=Z[sv];ue[Lh]=ue[Lh]||S.pluginVersionString||yf}b.track(q)},function(){return{item:F}},!F.sync)},S[tg]=function(F){return b[tg](F||"InternalLog")}}),p}return c.__ieDyn=1,c}(cd),Zn=Er({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),wr=Er({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),Ca=Er({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),Wv=Er({Normal:1,Critical:2}),ll=Er({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),fl=function(){function s(c){var p=this,S={},b=[],F=[];c&&F.push(c);function q(re,Re){var ve,be=S[re];if(be&&(ve=be[Re]),!ve&&ve!==null){if(mr(re)&&mr(Re))if(F[Li]>0){for(var de=0;de<F[Li];de++)if(F[de][rg](re,Re)){ve={canHandle:!0,fieldHandler:F[de]};break}}else b[Li]===0&&(ve={canHandle:!0});if(!ve&&ve!==null){ve=null;for(var de=0;de<b[Li];de++)if(b[de][rg](re,Re)){ve={canHandle:!0,handler:b[de],fieldHandler:null};break}}be||(be=S[re]={}),be[Re]=ve}return ve}p.clearCache=function(){S={}},p.addSanitizer=function(re){re&&(Vo(b,re)||b.push(re),S={})},p.addFieldSanitizer=function(re){re&&(Vo(F,re)||F.push(re),S={})},p[ig]=function(re){if(re){var Re=Vi(b,re);Re!==-1&&(b.splice(Re,1),S={}),Bn(b,function(ve){ve&&ve[ig]&&ve[ig](re)})}},p[l]=function(re){if(re){var Re=Vi(F,re);Re!==-1&&(F.splice(Re,1),S={}),Bn(b,function(ve){ve&&ve[l]&&ve[l](re)})}},p.isEmpty=function(){return Il(b)+Il(F)===0},p[rg]=function(re,Re){var ve=q(re,Re);return ve?ve[m]:!1},p[Fi]=function(re,Re,ve,be){var de=q(re,Re);if(de&&de[m]){if(!de||!de[m])return null;if(de.handler)return de.handler[Fi](re,Re,ve,be);if(!mr(Re)||dt(ve)||ve===yf)return null;var Ze=null,Xe=Dr(ve);if((Xe&8192)===8192){var mt=Xe&-8193;if(Ze=ve,!je(Ze[Fi])||mt!==1&&mt!==2&&mt!==3&&(mt&4096)!==4096)return null}else Xe===1||Xe===2||Xe===3||(Xe&4096)===4096?Ze=Z(re,Re,ve):Xe===4&&(Ze=Z(re,Re,be?JSON.stringify(ve):ve));if(Ze)return G(de,re,Re,Xe,Ze,be)}return null},p.property=function(re,Re,ve,be){var de=q(re,Re);if(!de||!de[m]||!mr(Re)||dt(ve)||!je(ve[Fi]))return null;var Ze=Dr(ve[Fi]);return Ze===0?null:G(de,re,Re,Ze,ve,be)};function G(re,Re,ve,be,de,Ze){if(re.handler)return re.handler.property(Re,ve,de,Ze);if(!dt(de[du])){if((be&4096)===4096||!xr(de[du]))return null;de[Fi]=de[Fi].toString()}return ue(re.fieldHandler,Re,ve,be,de)}function Z(re,Re,ve){return je(ve)?{value:ve}:null}function ue(re,Re,ve,be,de){if(de&&re){var Ze=re.getSanitizer(Re,ve,be,de[du],de.propertyType);if(Ze)if(be===4){var Xe={},mt=de[Fi];Vn(mt,function(Pt,un){var nr=Re+"."+ve;if(je(un)){var Gr=Z(nr,Pt,un);Gr=ue(re,nr,Pt,Dr(un),Gr),Gr&&(Xe[Pt]=Gr[Fi])}}),de[Fi]=Xe}else{var wt={path:Re,name:ve,type:be,prop:de,sanitizer:p};de=Ze.call(p,wt)}}return de}}return s.getFieldType=Dr,s}();t.AppInsightsCore=Ki,t.BaseTelemetryPlugin=fp,t.DiagnosticLogger=df,t.EventLatency=wr,t.EventPersistence=Wv,t.EventPropertyType=Ca,t.EventsDiscardedReason=Ld,t.FullVersionString=L,t.InternalAppInsightsCore=cd,t.LoggingSeverity=wm,t.MinChannelPriorty=La,t.NotificationManager=$,t.PerfEvent=Je,t.PerfManager=Nt,t.ProcessTelemetryContext=ad,t.TraceLevel=ll,t.Undefined=r,t.ValueKind=Zn,t.ValueSanitizer=fl,t.Version=P,t._InternalLogMessage=su,t.__getRegisteredEvents=Oh,t._logInternalMessage=ga,t._throwInternal=Za,t._warnToConsole=mh,t.addEventHandler=_f,t.addEventListeners=Fh,t.addPageHideEventListener=Zp,t.addPageShowEventListener=eg,t.addPageUnloadEventListener=gd,t.areCookiesSupported=id,t.arrForEach=Bn,t.arrIndexOf=Vi,t.arrMap=$c,t.arrReduce=Ms,t.attachEvent=vd,t.blockDynamicConversion=to,t.cookieAvailable=id,t.createCookieMgr=rl,t.createDynamicConfig=Co,t.createEnumStyle=Er,t.createGuid=Xt,t.createProcessTelemetryContext=_s,t.createTraceParent=Qd,t.createUniqueNamespace=la,t.createUnloadHandlerContainer=ks,t.dateNow=Cu,t.detachEvent=Jp,t.disallowsSameSiteNone=g,t.doPerf=an,t.dumpObj=O,t.eventOff=ul,t.eventOn=io,t.extend=Un,t.findW3cTraceParent=qn,t.forceDynamicConversion=ru,t.formatTraceParent=Gt,t.generateW3CId=wn,t.getCommonSchemaMetaData=nt,t.getConsole=Ba,t.getCookieValue=gt,t.getCrypto=Ql,t.getDocument=Cs,t.getDynamicConfigHandler=el,t.getExceptionName=Ud,t.getFieldValueType=Dr,t.getGlobal=Dl,t.getGlobalInst=Or,t.getHistory=jc,t.getIEVersion=hh,t.getISOString=gc,t.getJSON=Qu,t.getLocation=Zc,t.getMsCrypto=yc,t.getNavigator=Qs,t.getPerformance=Eu,t.getSetValue=Wa,t.getTenantId=xe,t.getTime=On,t.getWindow=nc,t.hasDocument=Cl,t.hasHistory=Zs,t.hasJSON=Jl,t.hasNavigator=El,t.hasOwnProperty=fn,t.hasWindow=Tl,t.isArray=_t,t.isArrayValid=Ri,t.isBeaconsSupported=Do,t.isBoolean=ko,t.isChromium=jo,t.isDate=ei,t.isDocumentObjectAvailable=bt,t.isError=Gn,t.isFetchSupported=$d,t.isFunction=jt,t.isGreaterThanZero=$i,t.isIE=Zl,t.isLatency=ke,t.isNotTruthy=dr,t.isNullOrUndefined=dt,t.isNumber=yi,t.isObject=Ir,t.isReactNative=eu,t.isSampledFlag=it,t.isString=mr,t.isTruthy=sr,t.isTypeof=or,t.isUint8ArrayAvailable=We,t.isUndefined=Bt,t.isValidSpanId=Zd,t.isValidTraceId=au,t.isValidTraceParent=ev,t.isValueAssigned=je,t.isValueKind=xr,t.isWindowObjectAvailable=St,t.isXhrSupported=Kf,t.mergeEvtNamespace=xh,t.newGuid=Ht,t.newId=Wd,t.normalizeJsName=za,t.objDefineAccessors=Lr,t.objForEachKey=Vn,t.objFreeze=Fn,t.objKeys=Tt,t.objSeal=En,t.onConfigChange=af,t.openXhr=Ho,t.optimizeObject=Vl,t.parseTraceParent=Sa,t.perfNow=zc,t.proxyAssign=jd,t.proxyFunctionAs=$s,t.proxyFunctions=$f,t.random32=Qa,t.randomValue=ip,t.removeEventHandler=hd,t.removeEventListeners=pd,t.removePageHideEventListener=zv,t.removePageShowEventListener=bm,t.removePageUnloadEventListener=Qp,t.safeGetCookieMgr=Av,t.safeGetLogger=td,t.sanitizeProperty=ct,t.setEnableEnvMocks=Ju,t.setProcessTelemetryTimings=wo,t.setValue=yo,t.strContains=bi,t.strEndsWith=bu,t.strFunction=e,t.strObject=n,t.strPrototype=o,t.strStartsWith=pr,t.strTrim=cs,t.strUndefined=r,t.throwError=Xr,t.toISOString=gc,t.useXDomainRequest=Va})});var tb=Ie((P_,eb)=>{(function(t,e){typeof P_=="object"&&typeof eb<"u"?e(P_):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.oneDS=t.oneDS||{}))})(P_,function(t){"use strict";var e="REAL_TIME",n="NEAR_REAL_TIME",r="BEST_EFFORT",o="function",f="object",h="undefined",_="prototype",T=Object,N=T[_],A=void 0,U=null,H="",te="boolean",Y="function",ye="number",Ce="object",qe="prototype",_e="__proto__",he="string",$e="undefined",Qe="constructor",Et="Symbol",Ge="_polyfill",pt="indexOf",Ft="length",zn="done",Vt="value",Nn="name",Zr="slice",Wn=Object,er=Wn[qe],Ii=String,Kt=Ii[qe],At=Math,vr=Array,hr=vr[qe];function co(l,m){var E=m;try{E=l()}catch{}return E}function Kn(l){return function(m){return typeof m===l}}function or(l){var m="[object "+l+"]";return function(E){return!!(E&&Bt(E)===m)}}function Bt(l){return er.toString.call(l)}function dt(l){return typeof l===$e||l===$e}function si(l){return l===U||dt(l)}function Pr(l){return l===U||!Ss(l)}function Ss(l){return!!l||l!==A}var mr=Kn(he),jt=Kn(Y);function Ir(l){return!l&&si(l)?!1:!!l&&typeof l===Ce}var _t=vr.isArray,ei=Kn(ye),yi=Kn(te),ko=or("Error");function Gn(l){return!!l&&jt(l.then)}var zi=Wn.getOwnPropertyDescriptor;function dr(l,m){return l&&er.hasOwnProperty.call(l,m)}var sr=Wn.hasOwn||Ni;function Ni(l,m){return dr(l,m)||!!zi(l,m)}function fn(l,m,E){if(l&&Ir(l)){for(var P in l)if(sr(l,P)&&m.call(E||l,P,l[P])===-1)break}}function Yr(l,m,E,P){var L={};return fn(l,function(z,W){L[z]=m?W:z,L[W]=E?W:z}),P(L)}function Vr(l){throw new TypeError(l)}var Vn=Wn.freeze,xo=function(l){return l},Xr=function(l){return l[_e]||U},Xn=Wn.assign;function pi(l){return(!Ir(l)||l===U)&&Vr("objKeys called on non-object"),Wn.keys(l)}function X(l){return Vn&&fn(l,function(m,E){(_t(E)||Ir(E))&&Vn(E)}),Me(l)}var Me=Vn||xo,ot=Wn.getPrototypeOf||Xr;function Tt(l){return Yr(l,1,0,X)}function yn(l){return Yr(l,0,0,X)}var Fn=yn({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),En=Ii,tr="__tsUtils$gblCfg",mn;function Lt(){var l;return typeof globalThis!==$e&&(l=globalThis),!l&&typeof self!==$e&&(l=self),!l&&typeof window!==$e&&(l=window),!l&&typeof global!==$e&&(l=global),l}function Ln(){if(!mn){var l=Lt()||{};mn=l[tr]=l[tr]||{}}return mn}function $t(l,m){var E=H;if(ko(l))E="{ stack: '"+l.stack+"', message: '"+l.message+"', name: '"+l.name+"'";else try{E=JSON.stringify(l,U,m?ei(m)?m:4:A)}catch(P){E=" - "+$t(P,m)}return Bt(l)+": "+E}var Jr=hr[Zr],Mr=function(l,m){Vr("'"+En(l)+"' not defined for "+$t(m))},Ds=function(l){return function(m){return m[l].apply(m,Jr.call(arguments,1))}},uo=function(l,m){var E=m&&m[l];return function(P){var L=P&&P[l]||E;if(L)return L.apply(P,Jr.call(arguments,1));Mr(l,P)}},O=function(l,m,E){var P=m&&m[l];return function(L){var z=L&&L[l]||P;if(z||E){var W=arguments;return(z||E).apply(L,z?Jr.call(W,1):W)}Mr(l,L)}},Ee=At.max,Dt=uo(Zr,Kt),en=uo("substring",Kt),oe=O("substr",Kt,x);function x(l,m,E){return si(l)&&Vr("'polyStrSubstr called with invalid "+$t(l)),E<0?H:(m=m||0,m<0&&(m=Ee(m+l[Ft],0)),dt(E)?Dt(l,m):Dt(l,m,m+E))}function J(l,m){return en(l,0,m)}var Q=O("startsWith",Kt,j);function j(l,m,E){mr(l)||Vr("'"+$t(l)+"' is not a string");var P=mr(m)?m:En(m),L=P[Ft],z=E>0?E:0;return en(l,z,z+L)===P}var I="_urid",le;function He(){if(!le){var l=Ln();le=l.gblSym=l.gblSym||{k:{},s:{}}}return le}var tn={};function pr(l){var m={description:En(l),toString:function(){return Et+"("+l+")"}};return m[Ge]=!0,m}function ar(l){var m=He();if(!sr(m.k,l)){var E=pr(l),P=pi(m.s).length;E[I]=function(){return P+"_"+E.toString()},m.k[l]=E,m.s[E[I]()]=En(l)}return m.k[l]}function gi(l){var m,E=Fn[l];return E&&(m=tn[E]=tn[E]||pr(Et+"."+E)),m}var gr={e:"enumerable",c:"configurable",v:Vt,w:"writable",g:"get",s:"set"};function _r(l){var m={};if(m[gr.c]=!0,m[gr.e]=!0,l.l){m.get=function(){return l.l.v};var E=zi(l.l,"v");E&&E.set&&(m.set=function(P){l.l.v=P})}return fn(l,function(P,L){m[gr[P]]=dt(L)?m[gr[P]]:L}),m}var dn=Wn.defineProperty;function ai(l,m,E){return dn(l,m,_r(E))}var D,ee=function(){D=Ln(),ee=U};function Fe(l){var m={};return ee&&ee(),m.b=D.lzy,dn(m,"v",{configurable:!0,get:function(){var E=l();return D.lzy||(dn(m,"v",{value:E}),m.b&&delete m.b),D.lzy&&m.b!==D.lzy&&(m.b=D.lzy),E}}),m}function It(l,m){return Fe(function(){return co(l,m)})}var Nr="window",Lr,nn,Sn,vn,Ar,lo=function(l){return It(function(){return Si(l)||A},A)},Go=function(l){return(!Lr||l===!1||D&&D.lzy&&!Lr.b)&&(Lr=It(Lt,U)),Lr.v},Si=function(l,m){var E=!Lr||m===!1?Go(m):Lr.v;return E&&E[l]?E[l]:l===Nr&&nn?nn.v:U},ss=function(){return!!Xs()},Xs=function(){return(!Sn||D&&D.lzy&&!Sn.b)&&(Sn=lo("document")),Sn.v},Js=function(){return!!Uc()},Uc=function(){return(!nn||D&&D.lzy&&!nn.b)&&(nn=lo(Nr)),nn.v},Bi=function(){return!!Bo()},Bo=function(){return(!vn||D&&D.lzy&&!vn.b)&&(vn=lo("navigator")),vn.v},Dl=function(){return!Ar&&(Ar=It(function(){return!!(process&&(process.versions||{}).node)},!1)),Ar.v},Or,Cl,Cs;function Tl(l){return It(function(){return Or.v?Or.v[l]:A},A)}function nc(){return!!El()}function El(){var l=!Or||D&&D.lzy&&!Or.b;return l&&(Or=lo(Et)),(!Cl||l)&&(Cl=Tl("for")),(!Cs||l)&&(Cs=Tl("keyFor")),Or.v}function Qs(l,m){var E=Fn[l];return(!Or||D.lzy&&!Or.b)&&El(),Or.v?Or.v[E||l]:m?A:gi(l)}function Zs(l,m){return(!Or||D.lzy&&!Or.b)&&El(),Or.v?Or.v(l):m?U:pr(l)}function jc(l){return(!Cl||D.lzy&&!Or.b)&&El(),(Cl.v||ar)(l)}function Ed(l){return!!l&&jt(l.next)}function Oi(l){return!Pr(l)&&jt(l[Qs(3)])}var Fo;function hn(l,m,E){if(l&&(Ed(l)||(!Fo&&(Fo=Fe(function(){return Qs(3)})),l=l[Fo.v]?l[Fo.v]():null),Ed(l))){var P=void 0,L=void 0;try{for(var z=0;!(L=l.next())[zn]&&m.call(E||l,L[Vt],z,l)!==-1;)z++}catch(W){P={e:W},l.throw&&(L=null,l.throw(P))}finally{try{L&&!L[zn]&&l.return&&l.return(L)}finally{if(P)throw P.e}}}}var fo=Ds("apply");function Pf(l,m){return!dt(m)&&l&&(_t(m)?fo(l.push,l,m):Ed(m)||Oi(m)?hn(m,function(E){l.push(E)}):l.push(m)),l}function Jn(l,m,E){if(l)for(var P=l[Ft]>>>0,L=0;L<P&&!(L in l&&m.call(E||l,l[L],L,l)===-1);L++);}var as=uo(pt,hr),ea=uo(Zr,hr),bd=Ds("call"),If=Wn.create,oh=If||Nf;function Nf(l){if(!l)return{};var m=typeof l;if(m!==Ce&&m!==Y)throw new TypeError("Prototype must be an Object or function: "+$t(l));function E(){}return E[qe]=l,new E}var _v;function bl(l,m){var E=Wn.setPrototypeOf||function(P,L){!_v&&(_v=Fe(function(){var z;return z={},z[_e]=[],z instanceof Array})),_v.v?P[_e]=L:fn(L,function(z,W){return P[z]=W})};return E(l,m)}var Hc=function(l,m,E){Vi(m,l),m=bl(m,E);function P(){this.constructor=m,Vi(this,l)}return m[qe]=E===U?oh(E):(P[qe]=E[qe],new P),m},Bn=function(l,m){try{m&&(l[Nn]=m)}catch{}},Vi=function(l,m){try{ai(l,Nn,{v:m,c:!0,e:!1})}catch{}};function $c(l,m,E){var P=E||Error,L=P[qe][Nn],z=Error.captureStackTrace;return Hc(l,function(){var W=this;try{Bn(P,l);var ae=fo(P,W,ea(arguments))||W;if(ae!==W){var me=ot(W);me!==ot(ae)&&bl(ae,me)}return z&&z(ae,W[Qe]),m&&m(ae,arguments),ae}finally{Bn(P,L)}},P)}function zr(){return(Date.now||Of)()}function Of(){return new Date().getTime()}function sh(l){return function(E){return si(E)&&Vr("strTrim called ["+$t(E)+"]"),E&&E.replace&&(E=E.replace(l,H)),E}}var Vo=sh(/^\s+|(?=\s)\s+$/g),Ms=O("trim",Kt,Vo),wl,Su,qi;function Du(l){if(!l||typeof l!==Ce)return!1;qi||(qi=Js()?Uc():!0);var m=!1;if(l!==qi){Su||(wl=Function[qe].toString,Su=bd(wl,Wn));try{var E=ot(l);m=!E,m||(dr(E,Qe)&&(E=E[Qe]),m=E&&typeof E===Y&&wl.call(E)===Su)}catch{}}return m}var ta;function $p(){return(!ta||!ta.b&&D&&D.lzy)&&(ta=lo("performance")),ta.v}function wd(){var l=$p();return l&&l.now?l.now():zr()}var yv=uo(pt,Kt),kf="ref",Cu="un"+kf,Rd="hasRef",np="enabled";function ah(l,m,E){var P,L=!0,z=l?m(U):U,W,ae=function(){return L=!1,z&&z[Cu]&&z[Cu](),W},me=function(){return L=!0,z&&z[kf]&&z[kf](),W},De=function(){return z&&z[Rd]?z[Rd]():L},Ke=function(){return z=m(z),L||ae(),W},bt=function(){z&&E(z),z=U},St=function(je){!je&&z&&bt(),je&&!z&&Ke()};return W=(P={cancel:bt,refresh:Ke},P[Rd]=De,P[kf]=me,P[Cu]=ae,P[np]=!1,P),dn(W,np,{get:function(){return!!z},set:St}),{h:W,dn:function(){z=U}}}function cs(l,m,E,P){var L=_t(E),z=L?E.length:0,W=(z>0?E[0]:L?A:E)||setTimeout,ae=(z>1?E[1]:A)||clearTimeout,me=P[0];P[0]=function(){De.dn(),fo(me,l,ea(arguments))};var De=ah(m,function(Ke){if(Ke){if(Ke.refresh)return Ke.refresh(),Ke;fo(ae,l,[Ke])}return fo(W,l,P)},function(Ke){fo(ae,l,[Ke])});return De.h}function xf(l,m){return cs(this,!0,A,ea(arguments))}function Pd(l,m,E){return cs(this,!0,l,ea(arguments,1))}(Go()||{}).Symbol,(Go()||{}).Reflect;var ch="hasOwnProperty",Lo=function(l,m){return Lo=T.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,P){E.__proto__=P}||function(E,P){for(var L in P)P[ch](L)&&(E[L]=P[L])},Lo(l,m)};function Yp(l,m){typeof m!==o&&m!==null&&Vr("Class extends value "+String(m)+" is not a constructor or null"),Lo(l,m);function E(){this.constructor=l}l[_]=m===null?oh(m):(E[_]=m[_],new E)}var rc,Tu="constructor",us="prototype",Yc="function",Id="_dynInstFuncs",uh="_isDynProxy",Rl="_dynClass",Pl="_dynCls$",Ff="_dynInstChk",ic=Ff,Nd="_dfOpts",Oa="_unknown_",Il="__proto__",qs="_dyn"+Il,Eu="__dynProto$Gbl",zc="_dynInstProto",bu="useBaseInst",wu="setInstFuncs",Ao=Object,na=Ao.getPrototypeOf,Ru=Ao.getOwnPropertyNames,Nl=Go(),ra=Nl[Eu]||(Nl[Eu]={o:(rc={},rc[wu]=!0,rc[bu]=!0,rc),n:1e3});function lh(l){return l&&(l===Ao[us]||l===Array[us])}function Pu(l){return lh(l)||l===Function[us]}function Xi(l){var m;if(l){if(na)return na(l);var E=l[Il]||l[us]||(l[Tu]?l[Tu][us]:null);m=l[qs]||E,dr(l,qs)||(delete l[zc],m=l[qs]=l[zc]||l[qs],l[zc]=E)}return m}function Ol(l,m){var E=[];if(Ru)E=Ru(l);else for(var P in l)typeof P=="string"&&dr(l,P)&&E.push(P);if(E&&E.length>0)for(var L=0;L<E.length;L++)m(E[L])}function Lf(l,m,E){return m!==Tu&&typeof l[m]===Yc&&(E||dr(l,m))}function ka(l){Vr("DynamicProto: "+l)}function Af(l){var m={};return Ol(l,function(E){!m[E]&&Lf(l,E,!1)&&(m[E]=l[E])}),m}function Mf(l,m){for(var E=l.length-1;E>=0;E--)if(l[E]===m)return!0;return!1}function Iu(l,m,E,P){function L(me,De,Ke){var bt=De[Ke];if(bt[uh]&&P){var St=me[Id]||{};St[ic]!==!1&&(bt=(St[De[Rl]]||{})[Ke]||bt)}return function(){return bt.apply(me,arguments)}}var z={};Ol(E,function(me){z[me]=L(m,E,me)});for(var W=Xi(l),ae=[];W&&!Pu(W)&&!Mf(ae,W);)Ol(W,function(me){!z[me]&&Lf(W,me,!na)&&(z[me]=L(m,W,me))}),ae.push(W),W=Xi(W);return z}function Nu(l,m,E,P){var L=null;if(l&&dr(E,Rl)){var z=l[Id]||{};if(L=(z[E[Rl]]||{})[m],L||ka("Missing ["+m+"] "+Yc),!L[Ff]&&z[ic]!==!1){for(var W=!dr(l,m),ae=Xi(l),me=[];W&&ae&&!Pu(ae)&&!Mf(me,ae);){var De=ae[m];if(De){W=De===P;break}me.push(ae),ae=Xi(ae)}try{W&&(l[m]=L),L[Ff]=1}catch{z[ic]=!1}}}return L}function ia(l,m,E){var P=m[l];return P===E&&(P=Xi(m)[l]),typeof P!==Yc&&ka("["+l+"] is not a "+Yc),P}function oa(l,m,E,P,L){function z(me,De){var Ke=function(){var bt=Nu(this,De,me,Ke)||ia(De,me,Ke);return bt.apply(this,arguments)};return Ke[uh]=1,Ke}if(!lh(l)){var W=E[Id]=E[Id]||{},ae=W[m]=W[m]||{};W[ic]!==!1&&(W[ic]=!!L),Ol(E,function(me){Lf(E,me,!1)&&E[me]!==P[me]&&(ae[me]=E[me],delete E[me],(!dr(l,me)||l[me]&&!l[me][uh])&&(l[me]=z(l,me)))})}}function xa(l,m){if(na){for(var E=[],P=Xi(m);P&&!Pu(P)&&!Mf(E,P);){if(P===l)return!0;E.push(P),P=Xi(P)}return!1}return!0}function Ou(l,m){return dr(l,us)?l.name||m||Oa:((l||{})[Tu]||{}).name||m||Oa}function vo(l,m,E,P){dr(l,us)||ka("theClass is an invalid class definition.");var L=l[us];xa(L,m)||ka("["+Ou(l)+"] not in hierarchy of ["+Ou(m)+"]");var z=null;dr(L,Rl)?z=L[Rl]:(z=Pl+Ou(l,"_")+"$"+ra.n,ra.n++,L[Rl]=z);var W=vo[Nd],ae=!!W[bu];ae&&P&&P[bu]!==void 0&&(ae=!!P[bu]);var me=Af(m),De=Iu(L,m,me,ae);E(m,De);var Ke=!!na&&!!W[wu];Ke&&P&&(Ke=!!P[wu]),oa(L,z,m,me,Ke!==!1)}vo[Nd]=ra.o;var fh=Tt,sa=fh({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),kl="toLowerCase",Fa="blkVal",Ui="length",xl="rdOnly",Wc="notify",Fl="warnToConsole",ki="throwInternal",Ll="setDf",qf="watch",aa="logger",oc="apply",Ts="push",Od="splice",Al="hdlr",rp="cancel",xi="initialize",sc="identifier",Kc="isInitialized",kd="getPlugin",Uf="name",xd="time",Es="processNext",Fd="getProcessTelContext",yr="unload",Gc="loggingLevelConsole",ku="createNew",ac="teardown",cc="messageId",ho="message",La="isAsync",Er="diagLog",Ld="_doTeardown",cr="update",Xo="getNext",An="setNextPlugin",Bc="userAgent",uc="split",bs="nodeType",Ji="replace",lc="logInternalMessage",po="type",Wr="handler",Aa="isChildEvt",Dn="getCtx",ws="setCtx",xu="complete",Mo;function Fu(l,m){Mo||(Mo=$c("AggregationError",function(P,L){L[Ui]>1&&(P.errors=L[1])}));var E=l||"One or more errors occurred.";throw Jn(m,function(P,L){E+=`
`.concat(L," > ").concat($t(P))}),new Mo(E,m||[])}var ls=["pending","resolving","resolved","rejected"],Us="dispatchEvent",Qi;function Vc(l,m,E,P){var L=Xs();!Qi&&(Qi=It(function(){var me;return L&&L.createEvent&&(me=L.createEvent("Event")),!!me&&me.initEvent},null));var z=Qi.v?L.createEvent("Event"):P?new Event(m):{};if(E&&E(z),Qi.v&&z.initEvent(m,!1,!0),z&&l[Us])l[Us](z);else{var W=l["on"+m];if(W)W(z);else{var ae=Si("console");ae&&(ae.error||ae.log)(m,$t(z))}}}var Rs="Promise",Lu="unhandledRejection",ji=Lu.toLowerCase(),Ps=10,fc;function dc(l){return jt(l)?l.toString():$t(l)}function Xc(l,m,E){var P=ea(arguments,3),L=0,z=!1,W,ae=[],me=!1,De=null,Ke;!fc&&(fc=lo(Rs+"RejectionEvent"));var bt=function(gt,Xt){try{me=!0,De&&De.cancel(),De=null;var Un=l(function(On,xr){ae.push(function(){try{var ni=L===2?gt:Xt,Kr=dt(ni)?W:jt(ni)?ni(W):ni;Gn(Kr)?Kr.then(On,xr):ni?On(Kr):L===3?xr(Kr):On(Kr)}catch(Ri){xr(Ri)}}),z&&We()},P);return Un}finally{}},St=function(gt){return bt(void 0,gt)},je=function(gt){var Xt=gt,Un=gt;return jt(gt)&&(Xt=function(On){return gt&&gt(),On},Un=function(On){throw gt&&gt(),On}),bt(Xt,Un)},xe=function(){return ls[L]},We=function(){if(ae.length>0){var gt=ae.slice();ae=[],me=!0,m(gt),De&&De.cancel(),De=null}},ke=function(gt,Xt){return function(Un){if(L===Xt){if(gt===2&&Gn(Un)){L=1,Un.then(ke(2,1),ke(3,1));return}L=gt,z=!0,W=Un,We(),!me&&gt===3&&!De&&(De=xf(ct,Ps))}}},ct=function(){if(!me)if(Dl())process.emit(Lu,W,Ke);else{var gt=Uc()||Go();Vc(gt,ji,function(Xt){return ai(Xt,"promise",{g:function(){return Ke}}),Xt.reason=W,Xt},!!fc.v)}};Ke={then:bt,catch:St,finally:je},dn(Ke,"state",{get:xe}),nc()&&(Ke[Qs(11)]="IPromise");var nt=function(){return"IPromise "+xe()+(z?" - "+dc(W):"")};return Ke.toString=nt,function(){jt(E)||Vr(Rs+": executor is not a function - "+dc(E));var Xt=ke(3,0);try{E.call(Ke,ke(2,0),Xt)}catch(Un){Xt(Un)}}(),Ke}var Is=function(l){Jn(l,function(m){try{m()}catch{}})};function Sv(l){var m=ei(l)?l:0;return function(E){xf(function(){Is(E)},m)}}function js(l,m){return Xc(js,Sv(m),l,m)}var go;function vc(l,m){!go&&(go=lo(Rs));var E=go.v;if(!E)return js(l);jt(l)||Vr(Rs+": executor is not a function - "+$t(l));var P=0;function L(){return ls[P]}var z=new E(function(W,ae){function me(Ke){P=2,W(Ke)}function De(Ke){P=3,ae(Ke)}l(me,De)});return dn(z,"state",{get:L}),z}var Au;function ca(l,m){return!Au&&(Au=Fe(function(){return vc})),Au.v.call(this,l,m)}var mo=void 0,ci="",_o="core",fs="disabled",Ns="extensionConfig",hc="processTelemetry",ua="priority",Hi="getPerfMgr",Ml="Not dynamic - ",Mu=/-([a-z])/g,ql=/([^\w\d_$])/g,Ul=/^(\d+[\w\d_$])/;function qu(l){return!si(l)}function jl(l){var m=l;return m&&mr(m)&&(m=m[Ji](Mu,function(E,P){return P.toUpperCase()}),m=m[Ji](ql,"_"),m=m[Ji](Ul,function(E,P){return"_"+P})),m}function Zi(l,m){return l&&m?yv(l,m)!==-1:!1}function Uu(l,m){var E=null,P=null;return jt(l)?E=l:P=l,function(){var L=arguments;if(E&&(P=E()),P)return P[m][oc](P,L)}}function Jc(l,m,E,P,L){l&&m&&E&&(L!==!1||dt(l[m]))&&(l[m]=Uu(E,P))}function Ma(l,m,E,P){return l&&m&&Ir(l)&&_t(E)&&Jn(E,function(L){mr(L)&&Jc(l,L,m,L,P)}),l}function ds(l){return l&&Xn&&(l=T(Xn({},l))),l}var jf="location",Dv="console",ju="JSON",Hu="crypto",Cv="msCrypto",Tv="ReactNative",Ev="msie",dh="trident/",Hl="XMLHttpRequest",Ad=null,bv=null,wv=!1,$l=null,$u=null;function vh(l,m){var E=!1;if(l){try{if(E=m in l,!E){var P=l[_];P&&(E=m in P)}}catch{}if(!E)try{var L=new l;E=!dt(L[m])}catch{}}return E}function Rv(l){if(l&&wv){var m=Si("__mockLocation");if(m)return m}return typeof location===f&&location?location:Si(jf)}function Yu(){return typeof console!==h?console:Si(Dv)}function Md(){return!!(typeof JSON===f&&JSON||Si(ju)!==null)}function qa(){return Md()?JSON||Si(ju):null}function Sr(){return Si(Hu)}function Yl(){return Si(Cv)}function kr(){var l=Bo();return l&&l.product?l.product===Tv:!1}function Pv(){var l=Bo();if(l&&(l[Bc]!==bv||Ad===null)){bv=l[Bc];var m=(bv||ci)[kl]();Ad=Zi(m,Ev)||Zi(m,dh)}return Ad}function qd(l){return($u===null||l===!1)&&($u=Bi()&&!!Bo().sendBeacon),$u}function Ua(l){var m=!1;try{m=!!Si("fetch");var E=Si("Request");m&&l&&E&&(m=vh(E,"keepalive"))}catch{}return m}function zu(){return $l===null&&($l=typeof XDomainRequest!==h,$l&&Jo()&&($l=$l&&!vh(Si(Hl),"withCredentials"))),$l}function Jo(){var l=!1;try{var m=Si(Hl);l=!!m}catch{}return l}var ja=4294967296,Ha=4294967295,Ei=123456789,Mn=987654321,vs=!1,ui=Ei,$a=Mn;function zl(l){l<0&&(l>>>=0),ui=Ei+l&Ha,$a=Mn-l&Ha,vs=!0}function Wu(){try{var l=zr()&2147483647;zl((Math.random()*ja^l)+l)}catch{}}function Ku(l){var m=0,E=Sr()||Yl();return E&&E.getRandomValues&&(m=E.getRandomValues(new Uint32Array(1))[0]&Ha),m===0&&Pv()&&(vs||Wu(),m=pc()&Ha),m===0&&(m=Math.floor(ja*Math.random()|0)),l||(m>>>=0),m}function pc(l){$a=36969*($a&65535)+($a>>16)&Ha,ui=18e3*(ui&65535)+(ui>>16)&Ha;var m=($a<<16)+(ui&65535)>>>0&Ha|0;return l||(m>>>=0),m}function Iv(l){l===void 0&&(l=22);for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=Ku()>>>0,P=0,L=ci;L[Ui]<l;)P++,L+=m.charAt(E&63),E>>>=6,P===5&&(E=(Ku()<<2&4294967295|E&3)>>>0,P=0);return L}var Wl="3.0.5",Kl="."+Iv(6),eo=0;function Ya(l){return l[bs]===1||l[bs]===9||!+l[bs]}function qo(l,m){var E=m[l.id];if(!E){E={};try{Ya(m)&&ai(m,l.id,{e:!1,v:E})}catch{}}return E}function hs(l,m){return m===void 0&&(m=!1),jl(l+eo+++(m?"."+Wl:ci)+Kl)}function Gl(l){var m={id:hs("_aiData-"+(l||ci)+"."+Wl),accept:function(E){return Ya(E)},get:function(E,P,L,z){var W=E[m.id];return W?W[jl(P)]:(z&&(W=qo(m,E),W[jl(P)]=L),L)},kill:function(E,P){if(E&&E[P])try{delete E[P]}catch{}}};return m}function Hs(l){return l&&Ir(l)&&(l.isVal||l.fb||sr(l,"v")||sr(l,"mrg")||sr(l,"ref")||l.set)}function Bl(l,m,E){var P,L=E.dfVal||Ss;if(m&&E.fb){var z=E.fb;_t(z)||(z=[z]);for(var W=0;W<z[Ui];W++){var ae=z[W],me=m[ae];if(L(me)?P=me:l&&(me=l.cfg[ae],L(me)&&(P=me),l.set(l.cfg,En(ae),me)),L(P))break}}return!L(P)&&L(E.v)&&(P=E.v),P}function Hf(l,m,E){var P=E;if(E&&Hs(E)&&(P=Bl(l,m,E)),P){Hs(P)&&(P=Hf(l,m,P));var L;_t(P)?(L=[],L[Ui]=P[Ui]):Du(P)&&(L={}),L&&(fn(P,function(z,W){W&&Hs(W)&&(W=Hf(l,m,W)),L[z]=W}),P=L)}return P}function Gu(l,m,E,P){var L,z,W,ae=P,me,De,Ke,bt;Hs(ae)?(L=ae.isVal,z=ae.set,Ke=ae[xl],bt=ae[Fa],me=ae.mrg,De=ae.ref,!De&&dt(De)&&(De=!!me),W=Bl(l,m,ae)):W=P,bt&&l[Fa](m,E);var St,je=!0,xe=m[E];(xe||!si(xe))&&(St=xe,je=!1,L&&St!==W&&!L(St)&&(St=W,je=!0),z&&(St=z(St,W,m),je=St===W)),je?W?St=Hf(l,m,W):St=W:(Du(St)||_t(W))&&me&&W&&(Du(W)||_t(W))&&fn(W,function(We,ke){Gu(l,St,We,ke)}),l.set(m,E,St),De&&l.ref(m,E),Ke&&l[xl](m,E)}var rn=jc("[[ai_dynCfg_1]]"),za=jc("[[ai_blkDynCfg_1]]"),bi=jc("[[ai_frcDynCfg_1]]");function gc(l){if(l){var m;if(_t(l)?(m=[],m[Ui]=l[Ui]):Du(l)&&(m={}),m)return fn(l,function(E,P){m[E]=gc(P)}),m}return l}function Ud(l){if(l){var m=l[rn]||l;if(m.cfg&&(m.cfg===l||m.cfg[rn]===m))return m}return null}function yo(l){if(l&&(Du(l)||_t(l)))try{l[za]=!0}catch{}return l}function Wa(l,m,E){var P=!1;return E&&!l[m.blkVal]&&(P=E[bi],!P&&!E[za]&&(P=Du(E)||_t(E))),P}function Bu(l){Vr("InvalidAccess:"+l)}var jd=["push","pop","shift","unshift","splice"],$s=function(l,m,E,P){l&&l[ki](3,108,"".concat(E," [").concat(m,"] failed - ")+$t(P))};function $f(l,m,E){_t(m)&&Jn(jd,function(P){var L=m[P];m[P]=function(){for(var z=[],W=0;W<arguments.length;W++)z[W]=arguments[W];var ae=L[oc](this,z);return mc(l,m,E,"Patching"),ae}})}function Vl(l,m){var E=zi(l,m);return E&&E.get}function Hd(l,m,E,P){var L={n:E,h:[],trk:function(De){De&&De.fn&&(as(L.h,De)===-1&&L.h[Ts](De),l.trk(De,L))},clr:function(De){var Ke=as(L.h,De);Ke!==-1&&L.h[Od](Ke,1)}},z=!0,W=!1;function ae(){z&&(W=W||Wa(ae,l,P),P&&!P[rn]&&W&&(P=mc(l,P,E,"Converting")),z=!1);var De=l.act;return De&&L.trk(De),P}ae[l.prop]={chng:function(){l.add(L)}};function me(De){if(P!==De){ae[l.ro]&&!l.upd&&Bu("["+E+"] is read-only:"+$t(m)),z&&(W=W||Wa(ae,l,P),z=!1);var Ke=W&&ae[l.rf];if(W)if(Ke){fn(P,function(St){P[St]=De?De[St]:mo});try{fn(De,function(St,je){Yf(l,P,St,je)}),De=P}catch(St){$s((l.hdlr||{})[aa],E,"Assigning",St),W=!1}}else P&&P[rn]&&fn(P,function(St){var je=Vl(P,St);if(je){var xe=je[l.prop];xe&&xe.chng()}});if(De!==P){var bt=De&&Wa(ae,l,De);!Ke&&bt&&(De=mc(l,De,E,"Converting")),P=De,W=bt}l.add(L)}}ai(m,L.n,{g:ae,s:me})}function Yf(l,m,E,P){if(m){var L=Vl(m,E),z=L&&!!L[l.prop];z?m[E]=P:Hd(l,m,E,P)}return m}function Ka(l,m,E,P){if(m){var L=Vl(m,E),z=L&&!!L[l.prop],W=P&&P[0],ae=P&&P[1],me=P&&P[2];if(!z){if(me)try{yo(m)}catch(De){$s((l.hdlr||{})[aa],E,"Blocking",De)}try{Yf(l,m,E,m[E]),L=Vl(m,E)}catch(De){$s((l.hdlr||{})[aa],E,"State",De)}}W&&(L[l.rf]=W),ae&&(L[l.ro]=ae),me&&(L[l.blkVal]=!0)}return m}function mc(l,m,E,P){try{fn(m,function(L,z){Yf(l,m,L,z)}),m[rn]||(dn(m,rn,{get:function(){return l[Al]}}),$f(l,m,E))}catch(L){$s((l.hdlr||{})[aa],E,P,L)}return m}var Xl="[[ai_",Vu="]]";function zf(l){var m,E=Zs(Xl+"get"+l.uid+Vu),P=Zs(Xl+"ro"+l.uid+Vu),L=Zs(Xl+"rf"+l.uid+Vu),z=Zs(Xl+"blkVal"+l.uid+Vu),W=Zs(Xl+"dtl"+l.uid+Vu),ae=null,me=null,De;function Ke(xe,We){var ke=De.act;try{De.act=xe,xe&&xe[W]&&(Jn(xe[W],function(nt){nt.clr(xe)}),xe[W]=[]),We({cfg:l.cfg,set:l.set.bind(l),setDf:l[Ll].bind(l),ref:l.ref.bind(l),rdOnly:l[xl].bind(l)})}catch(nt){var ct=l[aa];throw ct&&ct[ki](1,107,$t(nt)),nt}finally{De.act=ke||null}}function bt(){if(ae){var xe=ae;ae=null,me&&me[rp](),me=null;var We=[];if(Jn(xe,function(ke){if(ke&&(ke[W]&&(Jn(ke[W],function(ct){ct.clr(ke)}),ke[W]=null),ke.fn))try{Ke(ke,ke.fn)}catch(ct){We[Ts](ct)}}),ae)try{bt()}catch(ke){We[Ts](ke)}We[Ui]>0&&Fu("Watcher error(s): ",We)}}function St(xe){if(xe&&xe.h[Ui]>0){ae||(ae=[]),me||(me=xf(function(){me=null,bt()},0));for(var We=0;We<xe.h[Ui];We++){var ke=xe.h[We];ke&&as(ae,ke)===-1&&ae[Ts](ke)}}}function je(xe,We){if(xe){var ke=xe[W]=xe[W]||[];as(ke,We)===-1&&ke[Ts](We)}}return De=(m={prop:E,ro:P,rf:L},m[Fa]=z,m[Al]=l,m.add=St,m[Wc]=bt,m.use=Ke,m.trk=je,m),De}function Qo(l,m){var E={fn:m,rm:function(){E.fn=null,l=null,m=null}};return l.use(E,m),E}function So(l,m,E){var P,L=Ud(m);if(L)return L;var z=hs("dyncfg",!0),W=m&&E!==!1?m:gc(m),ae;function me(){ae[Wc]()}function De(ct,nt,gt){try{ct=Yf(ae,ct,nt,gt)}catch(Xt){$s(l,nt,"Setting value",Xt)}return ct[nt]}function Ke(ct){return Qo(ae,ct)}function bt(ct,nt){ae.use(null,function(gt){var Xt=ae.upd;try{dt(nt)||(ae.upd=nt),ct(gt)}finally{ae.upd=Xt}})}function St(ct,nt){var gt;return Ka(ae,ct,nt,(gt={},gt[0]=!0,gt))[nt]}function je(ct,nt){var gt;return Ka(ae,ct,nt,(gt={},gt[1]=!0,gt))[nt]}function xe(ct,nt){var gt;return Ka(ae,ct,nt,(gt={},gt[2]=!0,gt))[nt]}function We(ct,nt){return nt&&fn(nt,function(gt,Xt){Gu(ke,ct,gt,Xt)}),ct}var ke=(P={uid:null,cfg:W},P[aa]=l,P[Wc]=me,P.set=De,P[Ll]=We,P[qf]=Ke,P.ref=St,P[xl]=je,P[Fa]=xe,P._block=bt,P);return ai(ke,"uid",{c:!1,e:!1,w:!1,v:z}),ae=zf(ke),mc(ae,W,"config","Creating"),ke}function _c(l,m){l?(l[Fl](m),l[ki](2,108,m)):Bu(m)}function Os(l,m,E,P){var L=So(E,l||{},P);return m&&L[Ll](L.cfg,m),L}function ps(l,m,E){var P=l[rn]||l;return P.cfg&&(P.cfg===l||P.cfg[rn]===P)?P[qf](m):(_c(E,Ml+$t(l)),Os(l,null,E)[qf](m))}var Qc=null;function Ga(){var l=Si("Microsoft");return l&&(Qc=l.ApplicationInsights),Qc}function Wf(l){var m=Qc;return!m&&l.disableDbgExt!==!0&&(m=Qc||Ga()),m?m.ChromeDbgExt:null}var Xu,Ju="warnToConsole",Zc="AI (Internal): ",Ba="AI: ",Jl="AITR_",Qu={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Ql=(Xu={},Xu[0]=null,Xu[1]="errorToConsole",Xu[2]=Ju,Xu[3]="debugToConsole",Xu);function yc(l){return l?'"'+l[Ji](/\"/g,ci)+'"':ci}function eu(l,m){var E=Yu();if(E){var P="log";E[l]&&(P=l),jt(E[P])&&E[P](m)}}var Zl=function(){function l(m,E,P,L){P===void 0&&(P=!1);var z=this;z[cc]=m,z[ho]=(P?Ba:Zc)+m;var W=ci;Md()&&(W=qa().stringify(L));var ae=(E?" message:"+yc(E):ci)+(L?" props:"+yc(W):ci);z[ho]+=ae}return l.dataType="MessageData",l}();function hh(l,m){return(l||{})[aa]||new Do(m)}var Do=function(){function l(m){this.identifier="DiagnosticLogger",this.queue=[];var E=0,P={},L,z,W,ae,me;vo(l,this,function(De){me=bt(m||{}),De.consoleLoggingLevel=function(){return L},De[ki]=function(xe,We,ke,ct,nt){nt===void 0&&(nt=!1);var gt=new Zl(We,ke,nt,ct);if(ae)throw $t(gt);var Xt=Ql[xe]||Ju;if(dt(gt[ho]))je("throw"+(xe===1?"Critical":"Warning"),gt);else{if(nt){var Un=+gt[cc];!P[Un]&&L>=xe&&(De[Xt](gt[ho]),P[Un]=!0)}else L>=xe&&De[Xt](gt[ho]);Ke(xe,gt)}},De.debugToConsole=function(xe){eu("debug",xe),je("warning",xe)},De[Fl]=function(xe){eu("warn",xe),je("warning",xe)},De.errorToConsole=function(xe){eu("error",xe),je("error",xe)},De.resetInternalMessageCount=function(){E=0,P={}},De[lc]=Ke,De[yr]=function(xe){me&&me.rm(),me=null};function Ke(xe,We){if(!St()){var ke=!0,ct=Jl+We[cc];if(P[ct]?ke=!1:P[ct]=!0,ke&&(xe<=z&&(De.queue[Ts](We),E++,je(xe===1?"error":"warn",We)),E===W)){var nt="Internal events throttle limit per PageView reached for this app.",gt=new Zl(23,nt,!1);De.queue[Ts](gt),xe===1?De.errorToConsole(nt):De[Fl](nt)}}}function bt(xe){return ps(Os(xe,Qu,De).cfg,function(We){var ke=We.cfg;L=ke[Gc],z=ke.loggingLevelTelemetry,W=ke.maxMessageLimit,ae=ke.enableDebug})}function St(){return E>=W}function je(xe,We){var ke=Wf(m||{});ke&&ke[Er]&&ke[Er](xe,We)}})}return l.__ieDyn=1,l}();function $d(l){return l||new Do}function Va(l,m,E,P,L,z){z===void 0&&(z=!1),$d(l)[ki](m,E,P,L,z)}function Kf(l,m){$d(l)[Fl](m)}var Xa="ctx",Sc="ParentContextKey",ef="ChildrenContextKey",Gf=function(){function l(m,E,P){var L=this;if(L.start=zr(),L[Uf]=m,L[La]=P,L[Aa]=function(){return!1},jt(E)){var z;ai(L,"payload",{g:function(){return!z&&jt(E)&&(z=E(),E=null),z}})}L[Dn]=function(W){return W?W===l[Sc]||W===l[ef]?L[W]:(L[Xa]||{})[W]:null},L[ws]=function(W,ae){if(W)if(W===l[Sc])L[W]||(L[Aa]=function(){return!0}),L[W]=ae;else if(W===l[ef])L[W]=ae;else{var me=L[Xa]=L[Xa]||{};me[W]=ae}},L[xu]=function(){var W=0,ae=L[Dn](l[ef]);if(_t(ae))for(var me=0;me<ae[Ui];me++){var De=ae[me];De&&(W+=De[xd])}L[xd]=zr()-L.start,L.exTime=L[xd]-W,L[xu]=function(){}}}return l.ParentContextKey="parent",l.ChildrenContextKey="childEvts",l}(),Uo="CoreUtils.doPerf";function Ys(l,m,E,P,L){if(l){var z=l;if(z[Hi]&&(z=z[Hi]()),z){var W=void 0,ae=z[Dn](Uo);try{if(W=z.create(m(),P,L),W){if(ae&&W[ws]&&(W[ws](Gf[Sc],ae),ae[Dn]&&ae[ws])){var me=ae[Dn](Gf[ef]);me||(me=[],ae[ws](Gf[ef],me)),me[Ts](W)}return z[ws](Uo,W),E(W)}}catch(De){W&&W[ws]&&W[ws]("exception",De)}finally{W&&z.fire(W),z[ws](Uo,ae)}}}return E()}var Bf=Gl("plugin");function Yd(l){return Bf.get(l,"state",{},!0)}var Ja="TelemetryPluginChain",Zu="_hasRun",tu="_getTelCtx",ph=0;function ip(l,m,E){for(;l;){if(l[kd]()===E)return l;l=l[Xo]()}return Vf([E],m.config||{},m)}function Qa(l,m,E,P){var L=null,z=[];m||(m=Os({},null,E[aa])),P!==null&&(L=P?ip(l,E,P):l);var W={_next:me,ctx:{core:function(){return E},diagLog:function(){return hh(E,m.cfg)},getCfg:function(){return m.cfg},getExtCfg:Ke,getConfig:bt,hasNext:function(){return!!L},getNext:function(){return L},setNext:function(je){L=je},iterate:St,onComplete:ae}};function ae(je,xe){for(var We=[],ke=2;ke<arguments.length;ke++)We[ke-2]=arguments[ke];je&&z[Ts]({func:je,self:dt(xe)?W.ctx:xe,args:We})}function me(){var je=L;if(L=je?je[Xo]():null,!je){var xe=z;xe&&xe[Ui]>0&&(Jn(xe,function(We){try{We.func.call(We.self,We.args)}catch(ke){Va(E[aa],2,73,"Unexpected Exception during onComplete - "+$t(ke))}}),z=[])}return je}function De(je,xe){var We=null,ke=m.cfg;if(ke&&je){var ct=ke[Ns];!ct&&xe&&(ct={}),ke[Ns]=ct,ct=m.ref(ke,Ns),ct&&(We=ct[je],!We&&xe&&(We={}),ct[je]=We,We=m.ref(ct,je))}return We}function Ke(je,xe){var We=De(je,!0);return xe&&fn(xe,function(ke,ct){if(si(We[ke])){var nt=m.cfg[ke];(nt||!si(nt))&&(We[ke]=nt)}Gu(m,We,ke,ct)}),m[Ll](We,xe)}function bt(je,xe,We){We===void 0&&(We=!1);var ke,ct=De(je,!1),nt=m.cfg;return ct&&(ct[xe]||!si(ct[xe]))?ke=ct[xe]:(nt[xe]||!si(nt[xe]))&&(ke=nt[xe]),ke||!si(ke)?ke:We}function St(je){for(var xe;xe=W._next();){var We=xe[kd]();We&&je(We)}}return W}function zd(l,m,E,P){var L=Os(m),z=Qa(l,L,E,P),W=z.ctx;function ae(De){var Ke=z._next();return Ke&&Ke[hc](De,W),!Ke}function me(De,Ke){return De===void 0&&(De=null),_t(De)&&(De=Vf(De,L.cfg,E,Ke)),zd(De||W[Xo](),L.cfg,E,Ke)}return W[Es]=ae,W[ku]=me,W}function Wd(l,m,E){var P=Os(m.config),L=Qa(l,P,m,E),z=L.ctx;function W(me){var De=L._next();return De&&De[yr](z,me),!De}function ae(me,De){return me===void 0&&(me=null),_t(me)&&(me=Vf(me,P.cfg,m,De)),Wd(me||z[Xo](),m,De)}return z[Es]=W,z[ku]=ae,z}function Kd(l,m,E){var P=Os(m.config),L=Qa(l,P,m,E),z=L.ctx;function W(me){return z.iterate(function(De){jt(De[cr])&&De[cr](z,me)})}function ae(me,De){return me===void 0&&(me=null),_t(me)&&(me=Vf(me,P.cfg,m,De)),Kd(me||z[Xo](),m,De)}return z[Es]=W,z[ku]=ae,z}function Vf(l,m,E,P){var L=null,z=!P;if(_t(l)&&l[Ui]>0){var W=null;Jn(l,function(ae){if(!z&&P===ae&&(z=!0),z&&ae&&jt(ae[hc])){var me=zp(ae,m,E);L||(L=me),W&&W._setNext(me),W=me}})}return P&&!L?Vf([P],m,E):L}function zp(l,m,E){var P=null,L=jt(l[hc]),z=jt(l[An]),W;l?W=l[sc]+"-"+l[ua]+"-"+ph++:W="Unknown-0-"+ph++;var ae={getPlugin:function(){return l},getNext:function(){return P},processTelemetry:Ke,unload:bt,update:St,_id:W,_setNext:function(je){P=je}};function me(){var je;return l&&jt(l[tu])&&(je=l[tu]()),je||(je=zd(ae,m,E)),je}function De(je,xe,We,ke,ct){var nt=!1,gt=l?l[sc]:Ja,Xt=je[Zu];return Xt||(Xt=je[Zu]={}),je.setNext(P),l&&Ys(je[_o](),function(){return gt+":"+We},function(){Xt[W]=!0;try{var Un=P?P._id:ci;Un&&(Xt[Un]=!1),nt=xe(je)}catch(xr){var On=P?Xt[P._id]:!0;On&&(nt=!0),(!P||!On)&&Va(je[Er](),1,73,"Plugin ["+gt+"] failed during "+We+" - "+$t(xr)+", run flags: "+$t(Xt))}},ke,ct),nt}function Ke(je,xe){xe=xe||me();function We(ke){if(!l||!L)return!1;var ct=Yd(l);return ct[ac]||ct[fs]?!1:(z&&l[An](P),l[hc](je,ke),!0)}De(xe,We,"processTelemetry",function(){return{item:je}},!je.sync)||xe[Es](je)}function bt(je,xe){function We(){var ke=!1;if(l){var ct=Yd(l),nt=l[_o]||ct[_o];l&&(!nt||nt===je.core())&&!ct[ac]&&(ct[_o]=null,ct[ac]=!0,ct[Kc]=!1,l[ac]&&l[ac](je,xe)===!0&&(ke=!0))}return ke}De(je,We,"unload",function(){},xe[La])||je[Es](xe)}function St(je,xe){function We(){var ke=!1;if(l){var ct=Yd(l),nt=l[_o]||ct[_o];l&&(!nt||nt===je.core())&&!ct[ac]&&l[cr]&&l[cr](je,xe)===!0&&(ke=!0)}return ke}De(je,We,"update",function(){},!1)||je[Es](xe)}return Me(ae)}function Xf(){var l=[];function m(P){P&&l[Ts](P)}function E(P,L){Jn(l,function(z){try{z(P,L)}catch(W){Va(P[Er](),2,73,"Unexpected error calling unload handler - "+$t(W))}}),l=[]}return{add:m,run:E}}function Wp(){var l=[];function m(P){var L=l;l=[],Jn(L,function(z){try{(z.rm||z.remove).call(z)}catch(W){Va(P,2,73,"Unloading:"+$t(W))}})}function E(P){P&&Pf(l,P)}return{run:m,add:E}}var la,nu="getPlugin",tf=(la={},la[Ns]={isVal:qu,v:{}},la),Nv=function(){function l(){var m=this,E,P,L,z,W;De(),vo(l,m,function(Ke){Ke[xi]=function(bt,St,je,xe){me(bt,St,xe),E=!0},Ke[ac]=function(bt,St){var je,xe=Ke[_o];if(!xe||bt&&xe!==bt[_o]())return;var We,ke=!1,ct=bt||Wd(null,xe,L&&L[nu]?L[nu]():L),nt=St||(je={reason:0},je[La]=!1,je);function gt(){ke||(ke=!0,z.run(ct,St),W.run(ct[Er]()),We===!0&&ct[Es](nt),De())}return!Ke[Ld]||Ke[Ld](ct,nt,gt)!==!0?gt():We=!0,We},Ke[cr]=function(bt,St){var je=Ke[_o];if(!je||bt&&je!==bt[_o]())return;var xe,We=!1,ke=bt||Kd(null,je,L&&L[nu]?L[nu]():L),ct=St||{reason:0};function nt(){We||(We=!0,me(ke.getCfg(),ke.core(),ke[Xo]()))}return!Ke._doUpdate||Ke._doUpdate(ke,ct,nt)!==!0?nt():xe=!0,xe},Jc(Ke,"_addUnloadCb",function(){return z},"add"),Jc(Ke,"_addHook",function(){return W},"add"),ai(Ke,"_unloadHooks",{g:function(){return W}})}),m[Er]=function(Ke){return ae(Ke)[Er]()},m[Kc]=function(){return E},m.setInitialized=function(Ke){E=Ke},m[An]=function(Ke){L=Ke},m[Es]=function(Ke,bt){bt?bt[Es](Ke):L&&jt(L[hc])&&L[hc](Ke,null)},m._getTelCtx=ae;function ae(Ke){Ke===void 0&&(Ke=null);var bt=Ke;if(!bt){var St=P||zd(null,{},m[_o]);L&&L[nu]?bt=St[ku](null,L[nu]):bt=St[ku](null,L)}return bt}function me(Ke,bt,St){Os(Ke,tf,hh(bt)),!St&&bt&&(St=bt[Fd]()[Xo]());var je=L;L&&L[nu]&&(je=L[nu]()),m[_o]=bt,P=zd(St,Ke,bt,je)}function De(){E=!1,m[_o]=null,P=null,L=null,W=Wp(),z=Xf()}}return l.__ieDyn=1,l}(),nf="on",fa="attachEvent",zs="addEventListener",Dc="detachEvent",Cc="removeEventListener",Gd="events",el="visibilitychange",to="pagehide",ru="pageshow",iu="unload",Ov="beforeunload",op=hs("aiEvtPageHide"),ou=hs("aiEvtPageShow"),sp=/\.[\.]+/g,rf=/[\.]+$/,Tc=1,da=Gl("events"),Jf=/^([^.]*)(?:\.(.+)|)/;function tl(l){return l&&l[Ji]?l[Ji](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ci):l}function of(l,m){var E;if(m){var P=ci;_t(m)?(P=ci,Jn(m,function(z){z=tl(z),z&&(z[0]!=="."&&(z="."+z),P+=z)})):P=tl(m),P&&(P[0]!=="."&&(P="."+P),l=(l||ci)+P)}var L=Jf.exec(l||ci)||[];return E={},E[po]=L[1],E.ns=(L[2]||ci).replace(sp,".").replace(rf,ci)[uc](".").sort().join("."),E}function Qf(l,m,E){E===void 0&&(E=!0);var P=da.get(l,Gd,{},E),L=P[m];return L||(L=P[m]=[]),L}function gh(l,m,E,P){l&&m&&m[po]&&(l[Cc]?l[Cc](m[po],E,P):l[Dc]&&l[Dc](nf+m[po],E))}function Kp(l,m,E,P){var L=!1;return l&&m&&m[po]&&E&&(l[zs]?(l[zs](m[po],E,P),L=!0):l[fa]&&(l[fa](nf+m[po],E),L=!0)),L}function sf(l,m,E,P){for(var L=m[Ui];L--;){var z=m[L];z&&(!E.ns||E.ns===z.evtName.ns)&&(!P||P(z))&&(gh(l,z.evtName,z[Wr],z.capture),m[Od](L,1))}}function ap(l,m,E){if(m[po])sf(l,Qf(l,m[po]),m,E);else{var P=da.get(l,Gd,{});fn(P,function(L,z){sf(l,z,m,E)}),pi(P)[Ui]===0&&da.kill(l,Gd)}}function Co(l,m){var E;return m?(_t(m)?E=[l].concat(m):E=[l,m],E=of("xx",E).ns[uc](".")):E=l,E}function af(l,m,E,P,L){var z;L===void 0&&(L=!1);var W=!1;if(l)try{var ae=of(m,P);if(W=Kp(l,ae,E,L),W&&da.accept(l)){var me=(z={guid:Tc++,evtName:ae},z[Wr]=E,z.capture=L,z);Qf(l,ae.type)[Ts](me)}}catch{}return W}function cf(l,m,E,P,L){if(L===void 0&&(L=!1),l)try{var z=of(m,P),W=!1;ap(l,z,function(ae){return z.ns&&!E||ae[Wr]===E?(W=!0,!0):!1}),W||gh(l,z,E,L)}catch{}}function cp(l,m,E){var P=!1,L=Uc();L&&(P=af(L,l,m,E),P=af(L.body,l,m,E)||P);var z=Xs();return z&&(P=af(z,l,m,E)||P),P}function Gp(l,m,E){var P=Uc();P&&(cf(P,l,m,E),cf(P.body,l,m,E));var L=Xs();L&&cf(L,l,m,E)}function va(l,m,E,P){var L=!1;return m&&l&&l[Ui]>0&&Jn(l,function(z){z&&(!E||as(E,z)===-1)&&(L=cp(z,m,P)||L)}),L}function To(l,m,E,P){var L=!1;return m&&l&&_t(l)&&(L=va(l,m,E,P),!L&&E&&E[Ui]>0&&(L=va(l,m,null,P))),L}function ha(l,m,E){l&&_t(l)&&Jn(l,function(P){P&&Gp(P,m,E)})}function uf(l,m,E){return To([Ov,iu,to],l,m,E)}function Zf(l,m){ha([Ov,iu,to],l,m)}function kv(l,m,E){function P(W){var ae=Xs();l&&ae&&ae.visibilityState==="hidden"&&l(W)}var L=Co(op,E),z=va([to],l,m,L);return(!m||as(m,el)===-1)&&(z=va([el],P,m,L)||z),!z&&m&&(z=kv(l,null,E)),z}function Zt(l,m){var E=Co(op,m);ha([to],l,E),ha([el],null,E)}function Bd(l,m,E){function P(W){var ae=Xs();l&&ae&&ae.visibilityState==="visible"&&l(W)}var L=Co(ou,E),z=va([ru],l,m,L);return z=va([el],P,m,L)||z,!z&&m&&(z=Bd(l,null,E)),z}function nl(l,m){var E=Co(ou,m);ha([ru],l,E),ha([el],null,E)}var Ec="",lf="timings",no="value",xv="kind",ed="length",Fv="processTelemetryStart",pa,ff="4.0.4",su="1DS-Web-JS-"+ff,td=N.hasOwnProperty,df="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",gs="withCredentials",Za="timeout",mh=(pa={},pa[0]=0,pa[2]=6,pa[1]=1,pa[3]=7,pa[4098]=6,pa[4097]=1,pa[4099]=7,pa);ss(),Js();function ga(l){return!(l===Ec||si(l))}function Vd(l){if(l){var m=yv(l,"-");if(m>-1)return J(l,m)}return Ec}function ma(l,m,E){if(!m&&!ga(m)||typeof l!="string")return null;var P=typeof m;if(P==="string"||P==="number"||P==="boolean"||_t(m))m={value:m};else if(P==="object"&&!td.call(m,"value"))m={value:E?JSON.stringify(m):m};else if(si(m[no])||m[no]===Ec||!mr(m[no])&&!ei(m[no])&&!yi(m[no])&&!_t(m[no]))return null;if(_t(m[no])&&!Lv(m[no]))return null;if(!si(m[xv])){if(_t(m[no])||!yh(m[xv]))return null;m[no]=m[no].toString()}return m}function _h(l,m,E){var P=-1;if(!dt(l))if(m>0&&(m===32?P=8192:m<=13&&(P=m<<5)),Sh(E))P===-1&&(P=0),P|=E;else{var L=mh[vf(l)]||-1;P!==-1&&L!==-1?P|=L:L===6&&(P=L)}return P}function Xd(l,m,E,P,L){var z={},W=!1,ae=0,me=arguments[ed],De=arguments;for(yi(De[0])&&(W=De[0],ae++);ae<me;ae++){var l=De[ae];fn(l,function(bt,St){W&&St&&Ir(St)?_t(St)?(z[bt]=z[bt]||[],Jn(St,function(je,xe){je&&Ir(je)?z[bt][xe]=Xd(!0,z[bt][xe],je):z[bt][xe]=je})):z[bt]=Xd(!0,z[bt],St):z[bt]=St})}return z}var _a=wd;function yh(l){return l===0||l>0&&l<=13||l===32}function Sh(l){return l>=0&&l<=9}function Lv(l){return l[ed]>0}function bc(l,m){var E=l;E[lf]=E[lf]||{},E[lf][Fv]=E[lf][Fv]||{},E[lf][Fv][m]=_a()}function vf(l){var m=0;if(l!=null){var E=typeof l;E==="string"?m=1:E==="number"?m=2:E==="boolean"?m=3:E===f&&(m=4,_t(l)?(m=4096,l[ed]>0&&(m|=vf(l[0]))):td.call(l,"value")&&(m=8192|vf(l[no])))}return m}function Dh(){return!!Si("chrome")}function wc(l,m,E,P,L,z){P===void 0&&(P=!1),L===void 0&&(L=!1);function W(me,De,Ke){try{me[De]=Ke}catch{}}var ae=new XMLHttpRequest;return P&&W(ae,df,P),E&&W(ae,gs,E),ae.open(l,m,!L),E&&W(ae,gs,E),!L&&z&&W(ae,Za,z),ae}function Eo(l){return l>0}var ti="",Ws="POST",nd="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ya="drop",Rc="send",ms="requeue",rd="rspFail",Jd="oth",Ch="no-cache, no-store",Av="application/x-json-stream",rl="cache-control",id="content-type",up="kill-tokens",Th="kill-duration",Eh="kill-duration-seconds",lp="time-delta-millis",d="client-version",g="client-id",C="time-delta-to-apply-millis",R="upload-time",$="apikey",ne="AuthMsaDeviceTicket",ce="AuthXToken",pe="NoResponseBody",Oe="msfpc",Je="trace",Nt="user",pn="allowRequestSending",an="firstRequestSent",bn="shouldAddClockSkewHeaders",Ht="getClockSkewHeaderValue",wn="setClockSkew",yt="length",Qn="concat",Cn="iKey",on="count",li="events",bo="push",ro="split",od="splice",hf="toLowerCase",Qd="hdrs",Sa="useHdrs",au="initialize",Zd="setTimeoutOverride",ev="clearTimeoutOverride",it="payloadPreprocessor",Gt="overrideEndpointUrl",qn="avoidOptions",fi="disableEventTimings",Di="stringifyObjects",Ci="enableCompoundKey",wi="disableXhrSync",pf="disableFetchKeepAlive",il="useSendBeacon",ol="alwaysUseXhrOverride",bh="unloadTransports",gf="urlString",cu="timeout",tv="ontimeout",_s="data",mf="_sendReason",uu="headers",sd="getResponseHeader",Ig="getAllResponseHeaders",ad="_thePayload",ks="batches",Ks="sendType",nv="canSendRequest",Pc="sendQueuedRequests",Bp="isCompletelyIdle",fp="setUnloading",Ng="isTenantKilled",Og="sendSynchronousBatch",dp="_transport",Ic="getWParam",Vp="isBeacon",Mv="timings",wh="isTeardown",Rh="isSync",Ph="sendPOST",vp="setKillSwitchTenants",qv="_backOffTransmission",Nc="identifier",Uv="disableOptimizeObj",Ih="ignoreMc1Ms0CookieProcessing",br="eventsLimitInMem",hp="autoFlushEventsLimit",cd="disableAutoBatchFlushLimit",rv="overrideInstrumentationKey",kg="disableTelemetry",Oc="sendAttempt",Da="latency",pp="baseData",lu="sync";function ud(l){var m=(l.ext||{}).intweb;return m&&ga(m[Oe])?m[Oe]:null}function sl(l){for(var m=null,E=0;m===null&&E<l[yt];E++)m=ud(l[E]);return m}var Gs=function(){function l(m,E){var P=E?[][Qn](E):[],L=this,z=sl(P);L[Cn]=function(){return m},L.Msfpc=function(){return z||ti},L[on]=function(){return P[yt]},L[li]=function(){return P},L.addEvent=function(W){return W?(P[bo](W),z||(z=ud(W)),!0):!1},L[ro]=function(W,ae){var me;if(W<P[yt]){var De=P[yt]-W;si(ae)||(De=ae<De?ae:De),me=P[od](W,De),z=sl(P)}return new l(m,me)}}return l.create=function(m,E){return new l(m,E)},l}(),fu=function(){function l(){var m=!0,E=!0,P=!0,L="use-collector-delta",z=!1;vo(l,this,function(W){W[pn]=function(){return m},W[an]=function(){P&&(P=!1,z||(m=!1))},W[bn]=function(){return E},W[Ht]=function(){return L},W[wn]=function(ae){z||(ae?(L=ae,E=!0,z=!0):E=!1,m=!0)}})}return l.__ieDyn=1,l}(),al=1e3,ld=function(){function l(){var m={};function E(P){var L=[];return P&&Jn(P,function(z){L[bo](Ms(z))}),L}vo(l,this,function(P){P[vp]=function(L,z){if(L&&z)try{var W=E(L[ro](","));if(z==="this-request-only")return W;for(var ae=parseInt(z,10)*al,me=0;me<W[yt];++me)m[W[me]]=zr()+ae}catch{return[]}return[]},P[Ng]=function(L){var z=m,W=Ms(L);return z[W]!==void 0&&z[W]>zr()?!0:(delete z[W],!1)}})}return l.__ieDyn=1,l}(),cl=.8,Nh=1.2,gp=3e3,Xp=6e5;function jv(l){return!(l>=300&&l<500&&l!=408&&l!=429||l==501||l==505)}function iv(l){var m=0,E=gp*cl,P=gp*Nh,L=Math.floor(Math.random()*(P-E))+E;return m=Math.pow(2,l)*L,Math.min(m,Xp)}var fd=20,ov=3984588,Oh=65e3,dd=2e6,Hv=Math.min(dd,Oh),kh="metadata",$v="f",xg=/\./,xh=function(){function l(m,E,P,L){var z="data",W="baseData",ae="ext",me=!!L,De=!0,Ke=E,bt={};vo(l,this,function(St){St.createPayload=function(We,ke,ct,nt,gt,Xt){return{apiKeys:[],payloadBlob:ti,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:We,isTeardown:ke,isSync:ct,isBeacon:nt,sendType:Xt,sendReason:gt}},St.appendPayload=function(We,ke,ct){var nt=We&&ke&&!We.overflow;return nt&&Ys(m,function(){return"Serializer:appendPayload"},function(){for(var gt=ke.events(),Xt=We.payloadBlob,Un=We.numEvents,On=!1,xr=[],ni=[],Kr=We.isBeacon,Ri=Kr?Oh:ov,wo=Kr?Hv:dd,Dr=0,jo=0;Dr<gt.length;){var Ho=gt[Dr];if(Ho){if(Un>=ct){We.overflow=ke.split(Dr);break}var $i=St.getEventBlob(Ho);if($i&&$i.length<=wo){var Bs=$i.length,Wi=Xt.length;if(Wi+Bs>Ri){We.overflow=ke.split(Dr);break}Xt&&(Xt+=`
`),Xt+=$i,jo++,jo>fd&&(oe(Xt,0,1),jo=0),On=!0,Un++}else $i?xr.push(Ho):ni.push(Ho),gt.splice(Dr,1),Dr--}Dr++}if(xr.length>0&&We.sizeExceed.push(Gs.create(ke.iKey(),xr)),ni.length>0&&We.failedEvts.push(Gs.create(ke.iKey(),ni)),On){We.batches.push(ke),We.payloadBlob=Xt,We.numEvents=Un;var Ki=ke.iKey();as(We.apiKeys,Ki)===-1&&We.apiKeys.push(Ki)}},function(){return{payload:We,theBatch:{iKey:ke.iKey(),evts:ke.events()},max:ct}}),nt},St.getEventBlob=function(We){try{return Ys(m,function(){return"Serializer.getEventBlob"},function(){var ke={};ke.name=We.name,ke.time=We.time,ke.ver=We.ver,ke.iKey="o:"+Vd(We.iKey);var ct={},nt=We[ae];nt&&(ke[ae]=ct,fn(nt,function(Un,On){var xr=ct[Un]={};xe(On,xr,"ext."+Un,!0,null,null,!0)}));var gt=ke[z]={};gt.baseType=We.baseType;var Xt=gt[W]={};return xe(We.baseData,Xt,W,!1,[W],function(Un,On,xr){io(ct,Un,On,xr)},De),xe(We.data,gt,z,!1,[],function(Un,On,xr){io(ct,Un,On,xr)},De),JSON.stringify(ke)},function(){return{item:We}})}catch{return null}};function je(We,ke){var ct=bt[We];return ct===void 0&&(We.length>=7&&(ct=Q(We,"ext.metadata")||Q(We,"ext.web")),bt[We]=ct),ct}function xe(We,ke,ct,nt,gt,Xt,Un){fn(We,function(On,xr){var ni=null;if(xr||ga(xr)){var Kr=ct,Ri=On,wo=gt,Dr=ke;if(me&&!nt&&xg.test(On)){var jo=On.split("."),Ho=jo.length;if(Ho>1){wo&&(wo=wo.slice());for(var $i=0;$i<Ho-1;$i++){var Bs=jo[$i];Dr=Dr[Bs]=Dr[Bs]||{},Kr+="."+Bs,wo&&wo.push(Bs)}Ri=jo[Ho-1]}}var Wi=nt&&je(Kr);if(!Wi&&Ke&&Ke.handleField(Kr,Ri)?ni=Ke.value(Kr,Ri,xr,P):ni=ma(Ri,xr,P),ni){var Ki=ni.value;if(Dr[Ri]=Ki,Xt&&Xt(wo,Ri,ni),Un&&typeof Ki=="object"&&!_t(Ki)){var Zn=wo;Zn&&(Zn=Zn.slice(),Zn.push(Ri)),xe(xr,Ki,Kr+"."+Ri,nt,Zn,Xt,Un)}}}})}})}return l.__ieDyn=1,l}();function io(l,m,E,P){if(P&&l){var L=_h(P.value,P.kind,P.propertyType);if(L>-1){var z=l[kh];z||(z=l[kh]={f:{}});var W=z[$v];if(W||(W=z[$v]={}),m)for(var ae=0;ae<m.length;ae++){var me=m[ae];W[me]||(W[me]={f:{}});var De=W[me][$v];De||(De=W[me][$v]={}),W=De}W=W[E]={},_t(P.value)?W.a={t:L}:W.t=L}}}function ul(l,m){return{set:function(E,P){for(var L=[],z=2;z<arguments.length;z++)L[z-2]=arguments[z];return Pd([l,m],E,P,L)}}}var vd,Jp="sendAttempt",_f="&"+pe+"=true",hd="?cors=true&"+id[hf]()+"="+Av,Yv=(vd={},vd[1]=ms,vd[100]=ms,vd[200]="sent",vd[8004]=ya,vd[8003]=ya,vd),Fh={},pd={};function gd(l,m,E){Fh[l]=m,E!==!1&&(pd[m]=l)}gd(ne,ne,!1),gd(d,d),gd(g,"Client-Id"),gd($,$),gd(C,C),gd(R,R),gd(ce,ce);function Qp(l){try{return l.responseText}catch{}return ti}function Zp(l,m){var E=!1;if(l&&m){var P=pi(l);if(P&&P[yt]>0)for(var L=m[hf](),z=0;z<P[yt];z++){var W=P[z];if(W&&dr(m,W)&&W[hf]()===L){E=!0;break}}}return E}function zv(l,m,E,P){m&&E&&E[yt]>0&&(P&&Fh[m]?(l[Qd][Fh[m]]=E,l[Sa]=!0):l.url+="&"+m+"="+E)}function eg(l,m){return m&&(ei(m)?l=[m][Qn](l):_t(m)&&(l=m[Qn](l))),l}function bm(l,m,E){for(var P=0;P<l[yt];P++)if(l[P].name===m){l[P].value=E;return}l[bo]({name:m,value:E})}function wm(l,m){for(var E=0;E<l[yt];E++)if(l[E].name===m){l[od](E,1);return}}var yf=function(){function l(m,E,P,L){var z,W=new ld,ae=!1,me=new fu,De=!1,Ke=0,bt,St,je,xe,We=!0,ke=[],ct={},nt=[],gt=null,Xt=!1,Un,On=!1,xr=!1,ni,Kr,Ri,wo,Dr,jo=[],Ho,$i,Bs=[],Wi,Ki;vo(l,this,function(Zn){ll();var wr=!0;Zn[au]=function(ie,Ue,et){Wi||(xe=Ue,Un=Ue.getCookieMgr(),bt=et,St=bt.diagLog(),Pf(jo,ps(ie,function(ut){var Yt,Rn=ut.cfg,Pe=ut.cfg.extensionConfig[et.identifier];Ki=ul(Pe[Zd],Pe[ev]),ga(Rn.anonCookieName)?bm(ke,"anoncknm",Rn.anonCookieName):wm(ke,"anoncknm"),Ho=Pe[it],$i=Pe.payloadListener;var fe=Pe.httpXHROverride,Ne=Pe[Gt]?Pe[Gt]:Rn.endpointUrl;z=Ne+hd,xr=dt(Pe[qn])?!0:!Pe[qn],Xt=!Pe[fi];var Le=Pe.valueSanitizer,vt=Pe[Di],Rt=!!Rn[Ci];dt(Pe[Ci])||(Rt=!!Pe[Ci]),ni=Pe.xhrTimeout,Kr=!!Pe[wi],Ri=!!Pe[pf],Dr=Pe.addNoResponse!==!1,Ue.getPlugin("LocalStorage")&&(Ri=!0),De=!kr(),gt=new xh(xe,Le,vt,Rt),si(Pe[il])||(De=!!Pe[il]);var Ot=fe,Pn=Pe[ol]?fe:null,ri=Pe[ol]?fe:null,qr=[3,2];if(!fe){We=!1;var vu=Rv();vu&&vu.protocol&&vu.protocol[hf]()==="file:"&&(wr=!1);var ec=[];kr()?(ec=[2,1],qr=[2,1,3]):ec=[1,2,3],ec=eg(ec,Pe.transports),fe=Ca(ec,!1),fe||Kf(St,"No available transport to send events"),Ot=Ca(ec,!0)}Pn||(qr=eg(qr,Pe[bh]),Pn=Ca(qr,!0)),wo=!We&&(De&&qd()||!Ri&&Ua(!0)),je=(Yt={},Yt[0]=fe,Yt[1]=Ot||Ca([1,2,3],!0),Yt[2]=Pn||Ot||Ca([1],!0),Yt[3]=ri||Ca([2,3],!0)||Ot||Ca([1],!0),Yt)})),Wi=!0)},Zn.addResponseHandler=function(ie){return Bs[bo](ie),{rm:function(){var Ue=Bs.indexOf(ie);Ue>=0&&Bs[od](Ue,1)}}};function Ca(ie,Ue){for(var et=0,ut=null,Yt=0;ut==null&&Yt<ie[yt];)et=ie[Yt],et===1?zu()?ut=Wv:Jo()&&(ut=s):et===2&&Ua(Ue)&&(!Ue||Ue&&!Ri)?ut=fl:De&&et===3&&qd()&&(ut=p),Yt++;return ut?{_transport:et,_isSync:Ue,sendPOST:ut}:null}Zn._getDbgPlgTargets=function(){return[je[0],W,gt,je]};function Wv(ie,Ue,et){var ut=new XDomainRequest;ut.open(Ws,ie[gf]),ie[cu]&&(ut[cu]=ie[cu]),ut.onload=function(){var Yt=Qp(ut);c(Ue,200,{},Yt),un(Yt)},ut.onerror=function(){c(Ue,400,{})},ut[tv]=function(){c(Ue,500,{})},ut.onprogress=function(){},et?ut.send(ie[_s]):Ki.set(function(){ut.send(ie[_s])},0)}function ll(){var ie;z=null,W=new ld,ae=!1,me=new fu,De=!1,Ke=0,bt=null,St=null,je=null,xe=null,We=!0,ke=[],ct={},nt=[],gt=null,Xt=!1,Un=null,On=!1,xr=!1,ni=ie,Kr=ie,Ri=ie,wo=ie,Dr=ie,jo=[],Ho=ie,$i=ie,Bs=[],Wi=!1,Ki=ul()}function fl(ie,Ue,et){var ut,Yt=ie[gf],Rn=!1,Pe=!1,fe=(ut={body:ie[_s],method:Ws},ut[nd]=!0,ut);et&&(fe.keepalive=!0,ie[mf]===2&&(Rn=!0,Dr&&(Yt+=_f))),wr&&(fe.credentials="include"),ie.headers&&pi(ie.headers)[yt]>0&&(fe[uu]=ie[uu]);var Ne=function(vt,Rt,Ot){Pe||(Pe=!0,c(Ue,vt,Rt,Ot),un(Ot))},Le=function(){Pe||(Pe=!0,c(Ue,0,{}))};fetch(Yt,fe).then(function(vt){var Rt={},Ot=ti,Pn=vt[uu];Pn&&Pn.forEach(function(ri,qr){Rt[qr]=ri}),vt.body?vt.text().then(function(ri){Ot=ri,Ne(vt.status,Rt,Ot)},Le):Ne(vt.status,Rt,"")}).catch(Le),Rn&&!Pe&&(Pe=!0,c(Ue,200,{})),!Pe&&ie[cu]>0&&Ki.set(function(){Pe||(Pe=!0,c(Ue,500,{}))},ie[cu])}function s(ie,Ue,et){var ut=ie[gf];function Yt(Ne,Le,vt){if(!Ne[vt]&&Le&&Le[sd]){var Rt=Le[sd](vt);Rt&&(Ne[vt]=Ms(Rt))}return Ne}function Rn(Ne){var Le={};return Ne[Ig]?Le=wt(Ne[Ig]()):(Le=Yt(Le,Ne,lp),Le=Yt(Le,Ne,Th),Le=Yt(Le,Ne,Eh)),Le}function Pe(Ne,Le){c(Ue,Ne.status,Rn(Ne),Le)}et&&ie[wi]&&(et=!1);var fe=wc(Ws,ut,wr,!0,et,ie[cu]);fn(ie[uu],function(Ne,Le){fe.setRequestHeader(Ne,Le)}),fe.onload=function(){var Ne=Qp(fe);Pe(fe,Ne),un(Ne)},fe.onerror=function(){Pe(fe)},fe[tv]=function(){Pe(fe)},fe.send(ie[_s])}function c(ie,Ue,et,ut){try{ie(Ue,et,ut)}catch(Yt){Va(St,2,518,$t(Yt))}}function p(ie,Ue,et){var ut=ie,Yt=200,Rn=ut[ad],Pe=ie[gf]+(Dr?_f:ti);try{var fe=Bo();if(!fe.sendBeacon(Pe,ie[_s]))if(Rn){var Ne=!!xe.getPlugin("LocalStorage"),Le=[],vt=[];Jn(Rn[ks],function(Rt){if(Le&&Rt&&Rt[on]()>0)for(var Ot=Rt[li](),Pn=0;Pn<Ot[yt];Pn++)if(fe.sendBeacon(Pe,gt.getEventBlob(Ot[Pn])))vt[bo](Rt[Pn]);else{Le[bo](Rt[ro](Pn));break}else Le[bo](Rt[ro](0))}),vt[yt]>0&&(Rn.sentEvts=vt),Ne||nr(Le,8003,Rn[Ks],!0)}else Yt=0}catch(Rt){Kf(St,"Failed to send telemetry using sendBeacon API. Ex:"+$t(Rt)),Yt=0}finally{c(Ue,Yt,{},ti)}}function S(ie){return ie===2||ie===3}function b(ie){return On&&S(ie)&&(ie=2),ie}Zn.addHeader=function(ie,Ue){ct[ie]=Ue},Zn[nv]=function(){return F()&&me[pn]()},Zn[Pc]=function(ie,Ue){dt(ie)&&(ie=0),On&&(ie=b(ie),Ue=2),G(nt,ie,0)&&ue(q(),0,!1,ie,Ue||0)},Zn[Bp]=function(){return!ae&&Ke===0&&nt[yt]===0},Zn[fp]=function(ie){On=ie},Zn.addBatch=function(ie){if(ie&&ie[on]()>0){if(W.isTenantKilled(ie[Cn]()))return!1;nt[bo](ie)}return!0},Zn.teardown=function(){nt[yt]>0&&ue(q(),0,!0,2,2),Jn(jo,function(ie){ie&&ie.rm&&ie.rm()}),jo=[]},Zn.pause=function(){ae=!0},Zn.resume=function(){ae=!1,Zn[Pc](0,4)},Zn[Og]=function(ie,Ue,et){ie&&ie[on]()>0&&(si(Ue)&&(Ue=1),On&&(Ue=b(Ue),et=2),ue([ie],0,!1,Ue,et||0))};function F(){return!ae&&Ke<E}function q(){var ie=nt;return nt=[],ie}function G(ie,Ue,et){var ut=!1;return ie&&ie[yt]>0&&!ae&&je[Ue]&&gt&&(ut=Ue!==0||F()&&(et>0||me[pn]())),ut}function Z(ie){var Ue={};return ie&&Jn(ie,function(et,ut){Ue[ut]={iKey:et[Cn](),evts:et[li]()}}),Ue}function ue(ie,Ue,et,ut,Yt){if(!(!ie||ie[yt]===0)){if(ae){nr(ie,1,ut);return}ut=b(ut);try{var Rn=ie,Pe=ut!==0;Ys(xe,function(){return"HttpManager:_sendBatches"},function(fe){fe&&(ie=ie.slice(0));for(var Ne=[],Le=null,vt=_a(),Rt=je[ut]||(Pe?je[1]:je[0]),Ot=Rt&&Rt[dp],Pn=wo&&(On||S(ut)||Ot===3||Rt._isSync&&Ot===2);G(ie,ut,Ue);){var ri=ie.shift();ri&&ri[on]()>0&&(W.isTenantKilled(ri[Cn]())?Ne[bo](ri):(Le=Le||gt.createPayload(Ue,et,Pe,Pn,Yt,ut),gt.appendPayload(Le,ri,m)?Le.overflow!==null&&(ie=[Le.overflow][Qn](ie),Le.overflow=null,ve(Le,vt,_a(),Yt),vt=_a(),Le=null):(ve(Le,vt,_a(),Yt),vt=_a(),ie=[ri][Qn](ie),Le=null)))}Le&&ve(Le,vt,_a(),Yt),ie[yt]>0&&(nt=ie[Qn](nt)),nr(Ne,8004,ut)},function(){return{batches:Z(Rn),retryCount:Ue,isTeardown:et,isSynchronous:Pe,sendReason:Yt,useSendBeacon:S(ut),sendType:ut}},!Pe)}catch(fe){Va(St,2,48,"Unexpected Exception sending batch: "+$t(fe))}}}function re(ie,Ue){var et={url:z,hdrs:{},useHdrs:!1};Ue?(et[Qd]=Xd(et[Qd],ct),et.useHdrs=pi(et.hdrs)[yt]>0):fn(ct,function(fe,Ne){pd[fe]?zv(et,pd[fe],Ne,!1):(et[Qd][fe]=Ne,et[Sa]=!0)}),zv(et,g,"NO_AUTH",Ue),zv(et,d,su,Ue);var ut=ti;Jn(ie.apiKeys,function(fe){ut[yt]>0&&(ut+=","),ut+=fe}),zv(et,$,ut,Ue),zv(et,R,zr().toString(),Ue);var Yt=Pt(ie);if(ga(Yt)&&(et.url+="&ext.intweb.msfpc="+Yt),me[bn]()&&zv(et,C,me[Ht](),Ue),xe[Ic]){var Rn=xe[Ic]();Rn>=0&&(et.url+="&w="+Rn)}for(var Pe=0;Pe<ke[yt];Pe++)et.url+="&"+ke[Pe].name+"="+ke[Pe].value;return et}function Re(ie,Ue,et){ie[Ue]=ie[Ue]||{},ie[Ue][bt.identifier]=et}function ve(ie,Ue,et,ut){if(ie&&ie.payloadBlob&&ie.payloadBlob[yt]>0){var Yt=!!Ho,Rn=je[ie.sendType];!S(ie[Ks])&&ie[Vp]&&ie.sendReason===2&&(Rn=je[2]||je[3]||Rn);var Pe=xr;(ie.isBeacon||Rn[dp]===3)&&(Pe=!1);var fe=re(ie,Pe);Pe=Pe||fe[Sa];var Ne=_a();Ys(xe,function(){return"HttpManager:_doPayloadSend"},function(){for(var Le=0;Le<ie.batches[yt];Le++)for(var vt=ie[ks][Le],Rt=vt[li](),Ot=0;Ot<Rt[yt];Ot++){var Pn=Rt[Ot];if(Xt){var ri=Pn[Mv]=Pn[Mv]||{};Re(ri,"sendEventStart",Ne),Re(ri,"serializationStart",Ue),Re(ri,"serializationCompleted",et)}Pn[Jp]>0?Pn[Jp]++:Pn[Jp]=1}nr(ie[ks],1e3+(ut||0),ie[Ks],!0);var qr={data:ie.payloadBlob,urlString:fe.url,headers:fe[Qd],_thePayload:ie,_sendReason:ut,timeout:ni,disableXhrSync:Kr,disableFetchKeepAlive:Ri};Pe&&(Zp(qr[uu],rl)||(qr[uu][rl]=Ch),Zp(qr[uu],id)||(qr[uu][id]=Av));var vu=null;Rn&&(vu=function(ec){me[an]();var Kv=function(hu,og){de(hu,og,ie,ut)},kc=ie[wh]||ie[Rh];try{Rn[Ph](ec,Kv,kc),$i&&$i(qr,ec,kc,ie[Vp])}catch(hu){Kf(St,"Unexpected exception sending payload. Ex:"+$t(hu)),c(Kv,0,{})}}),Ys(xe,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(vu)if(ie[Ks]===0&&Ke++,Yt&&!ie.isBeacon&&Rn[dp]!==3){var ec={data:qr[_s],urlString:qr[gf],headers:Xd({},qr[uu]),timeout:qr[cu],disableXhrSync:qr[wi],disableFetchKeepAlive:qr[pf]},Kv=!1;Ys(xe,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Ho(ec,function(kc){Kv=!0,!We&&!kc[ad]&&(kc[ad]=kc[ad]||qr[ad],kc[mf]=kc[mf]||qr[mf]),vu(kc)},ie.isSync||ie[wh])}catch{Kv||vu(qr)}})}else vu(qr)})},function(){return{thePayload:ie,serializationStart:Ue,serializationCompleted:et,sendReason:ut}},ie[Rh])}ie.sizeExceed&&ie.sizeExceed[yt]>0&&nr(ie.sizeExceed,8003,ie[Ks]),ie.failedEvts&&ie.failedEvts[yt]>0&&nr(ie.failedEvts,8002,ie[Ks])}function be(ie,Ue){Xt&&Jn(ie,function(et){var ut=et[Mv]=et[Mv]||{};Re(ut,"sendEventCompleted",Ue)})}function de(ie,Ue,et,ut){var Yt=9e3,Rn=null,Pe=!1,fe=!1;try{var Ne=!0;if(typeof ie!==h){if(Ue){me[wn](Ue[lp]);var Le=Ue[Th]||Ue["kill-duration-seconds"];Jn(W[vp](Ue[up],Le),function(Rt){Jn(et[ks],function(Ot){if(Ot[Cn]()===Rt){Rn=Rn||[];var Pn=Ot[ro](0);et.numEvents-=Pn[on](),Rn[bo](Pn)}})})}if(ie==200||ie==204){Yt=200;return}(!jv(ie)||et.numEvents<=0)&&(Ne=!1),Yt=9e3+ie%1e3}if(Ne){Yt=100;var vt=et.retryCnt;et[Ks]===0&&(vt<P?(Pe=!0,mt(function(){et[Ks]===0&&Ke--,ue(et[ks],vt+1,et[wh],On?2:et[Ks],5)},On,iv(vt))):(fe=!0,On&&(Yt=8001)))}}finally{Pe||(me[wn](),Ze(et,Yt,ut,fe)),nr(Rn,8004,et[Ks])}}function Ze(ie,Ue,et,ut){try{ut&&bt[qv]();var Yt=ie[ks];Ue===200&&(Yt=ie.sentEvts||ie[ks],!ut&&!ie[Rh]&&bt._clearBackOff(),Xe(Yt)),nr(Yt,Ue,ie[Ks],!0)}finally{ie[Ks]===0&&(Ke--,et!==5&&Zn.sendQueuedRequests(ie[Ks],et))}}function Xe(ie){if(Xt){var Ue=_a();Jn(ie,function(et){et&&et[on]()>0&&be(et[li](),Ue)})}}function mt(ie,Ue,et){Ue?ie():Ki.set(ie,et)}function wt(ie){var Ue={};if(mr(ie)){var et=Ms(ie)[ro](/[\r\n]+/);Jn(et,function(ut){if(ut){var Yt=ut.indexOf(": ");if(Yt!==-1){var Rn=Ms(ut.substring(0,Yt))[hf](),Pe=Ms(ut.substring(Yt+1));Ue[Rn]=Pe}else Ue[Ms(ut)]=1}})}return Ue}function Pt(ie){for(var Ue=0;Ue<ie.batches[yt];Ue++){var et=ie[ks][Ue].Msfpc();if(et)return encodeURIComponent(et)}return ti}function un(ie){var Ue=Bs;try{for(var et=0;et<Ue[yt];et++)try{Ue[et](ie)}catch(Yt){Va(St,1,519,"Response handler failed: "+Yt)}if(ie){var ut=JSON.parse(ie);ga(ut.webResult)&&ga(ut.webResult[Oe])&&Un.set("MSFPC",ut.webResult[Oe],365*86400)}}catch{}}function nr(ie,Ue,et,ut){if(ie&&ie[yt]>0&&L){var Yt=L[Gr(Ue)];if(Yt){var Rn=et!==0;Ys(xe,function(){return"HttpManager:_sendBatchesNotification"},function(){mt(function(){try{Yt.call(L,ie,Ue,Rn,et)}catch(Pe){Va(St,1,74,"send request notification failed: "+Pe)}},ut||Rn,0)},function(){return{batches:Z(ie),reason:Ue,isSync:Rn,sendSync:ut,sendType:et}},!Rn)}}}function Gr(ie){var Ue=Yv[ie];return ga(Ue)||(Ue=Jd,ie>=9e3&&ie<=9999?Ue=rd:ie>=8e3&&ie<=8999?Ue=ya:ie>=1e3&&ie<=1999&&(Ue=Rc)),Ue}})}return l.__ieDyn=1,l}(),Rm=.25,Lh=500,sv=20,mp=6,_p=2,Ah=4,Sf=2,tg=1,Fi=1e4,du="eventsDiscarded",Li=void 0,ng=X({eventsLimitInMem:{isVal:Eo,v:Fi},immediateEventLimit:{isVal:Eo,v:500},autoFlushEventsLimit:{isVal:Eo,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:rg,v:Li},overrideInstrumentationKey:Li,overrideEndpointUrl:Li,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Li,clearTimeoutOverride:Li,payloadPreprocessor:Li,payloadListener:Li,disableEventTimings:Li,valueSanitizer:Li,stringifyObjects:Li,enableCompoundKey:Li,disableOptimizeObj:!1,transports:Li,unloadTransports:Li,useSendBeacon:Li,disableFetchKeepAlive:Li,avoidOptions:!1,xhrTimeout:Li,disableXhrSync:Li,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:ei,v:mp},maxUnloadEventRetryAttempts:{isVal:ei,v:_p},addNoResponse:Li});function rg(l){return l&&l[Ph]}var ig=function(l){Yp(m,l);function m(){var E=l.call(this)||this;E.identifier="PostChannel",E.priority=1011,E.version="4.0.4";var P,L=!1,z=[],W,ae=!1,me=0,De,Ke=0,bt,St={},je=e,xe,We,ke,ct,nt,gt,Xt,Un,On,xr,ni,Kr,Ri,wo,Dr,jo,Ho,$i,Bs,Wi,Ki,Zn;return vo(m,E,function(wr,Ca){F(),wr._getDbgPlgTargets=function(){return[nt,P]},wr[au]=function(fe,Ne,Le){Ys(Ne,function(){return"PostChannel:initialize"},function(){Ca[au](fe,Ne,Le),Bs=Ne.getNotifyMgr();try{Dr=Co(hs(wr[Nc]),Ne.evtNamespace&&Ne.evtNamespace()),wr._addHook(ps(fe,function(vt){var Rt=vt.cfg,Ot=zd(null,Rt,Ne);P=Ot.getExtCfg(wr[Nc],ng),jo=ul(P[Zd],P[ev]),ni=!P[Uv]&&Dh(),Ho=P[Ih],ll(Ne),bt=P[br],De=P.immediateEventLimit,Xt=P[hp],Ri=P.maxEventRetryAttempts,wo=P.maxUnloadEventRetryAttempts,$i=P[cd],Pe(),Ki=P[rv],Zn=!!P[kg],Wi&&Wv();var Pn=Rt.disablePageUnloadEvents||[];Wi=uf(fl,Pn,Dr),Wi=kv(fl,Pn,Dr)||Wi,Wi=Bd(s,Rt.disablePageShowEvents,Dr)||Wi})),nt[au](fe,wr.core,wr)}catch(vt){throw wr.setInitialized(!1),vt}},function(){return{theConfig:fe,core:Ne,extensions:Le}})},wr.processTelemetry=function(fe,Ne){bc(fe,wr[Nc]),Ne=Ne||wr._getTelCtx(Ne);var Le=fe;!Zn&&!L&&(Ki&&(Le[Cn]=Ki),c(Le,!0),Kr?Z(2,2):b()),wr.processNext(Le,Ne)},wr._doTeardown=function(fe,Ne){Z(2,2),L=!0,nt.teardown(),Wv(),F()};function Wv(){Zf(null,Dr),Zt(null,Dr),nl(null,Dr)}function ll(fe){var Ne=fe[Ic];fe[Ic]=function(){var Le=0;return Ho&&(Le=Le|2),Le|Ne.call(fe)}}function fl(fe){var Ne=fe||Uc().event;Ne.type!=="beforeunload"&&(Kr=!0,nt[fp](Kr)),Z(2,2)}function s(fe){Kr=!1,nt[fp](Kr)}function c(fe,Ne){if(fe[Oc]||(fe[Oc]=0),fe[Da]||(fe[Da]=1),fe.ext&&fe.ext[Je]&&delete fe.ext[Je],fe.ext&&fe.ext[Nt]&&fe.ext[Nt].id&&delete fe.ext[Nt].id,ni&&(fe.ext=ds(fe.ext),fe[pp]&&(fe[pp]=ds(fe[pp])),fe[_s]&&(fe[_s]=ds(fe[_s]))),fe[lu]){if(ke||ae)fe[Da]=3,fe[lu]=!1;else if(nt){ni&&(fe=ds(fe)),nt[Og](Gs.create(fe[Cn],[fe]),fe[lu]===!0?1:fe[lu],3);return}}var Le=fe[Da],vt=Ke,Rt=bt;Le===4&&(vt=me,Rt=De);var Ot=!1;if(vt<Rt)Ot=!ve(fe,Ne);else{var Pn=1,ri=sv;Le===4&&(Pn=4,ri=1),Ot=!0,be(fe[Cn],fe[Da],Pn,ri)&&(Ot=!ve(fe,Ne))}Ot&&Gr(du,[fe],sa.QueueFull)}wr.setEventQueueLimits=function(fe,Ne){P[br]=bt=Eo(fe)?fe:Fi,P[hp]=Xt=Eo(Ne)?Ne:0,Pe();var Le=Ke>fe;if(!Le&&Un>0)for(var vt=1;!Le&&vt<=3;vt++){var Rt=gt[vt];Rt&&Rt[ks]&&Jn(Rt[ks],function(Ot){Ot&&Ot[on]()>=Un&&(Le=!0)})}Re(!0,Le)},wr.pause=function(){G(),ae=!0,nt.pause()},wr.resume=function(){ae=!1,nt.resume(),b()},wr._loadTransmitProfiles=function(fe){wt(),fn(fe,function(Ne,Le){var vt=Le[yt];if(vt>=2){var Rt=vt>2?Le[2]:0;if(Le[od](0,vt-2),Le[1]<0&&(Le[0]=-1),Le[1]>0&&Le[0]>0){var Ot=Le[0]/Le[1];Le[0]=Math.ceil(Ot)*Le[1]}Rt>=0&&Le[1]>=0&&Rt>Le[1]&&(Rt=Le[1]),Le[bo](Rt),St[Ne]=Le}})},wr.flush=function(fe,Ne,Le){fe===void 0&&(fe=!0);var vt;if(!ae)if(Le=Le||1,fe)Ne||(vt=ca(function(Ot){Ne=Ot})),W==null?(G(),Ze(1,0,Le),W=q(function(){W=null,Xe(Ne,Le)},0)):z[bo](Ne);else{var Rt=G();p(1,1,Le),Ne&&Ne(),Rt&&b()}return vt},wr.setMsaAuthTicket=function(fe){nt.addHeader(ne,fe)},wr.hasEvents=S,wr._setTransmitProfile=function(fe){je!==fe&&St[fe]!==void 0&&(G(),je=fe,b())},Ma(wr,function(){return nt},["addResponseHandler"]);function p(fe,Ne,Le){var vt=Ze(fe,Ne,Le);return nt[Pc](Ne,Le),vt}function S(){return Ke>0}function b(){if(On>=0&&Ze(On,0,xr)&&nt[Pc](0,xr),me>0&&!We&&!ae){var fe=St[je][2];fe>=0&&(We=q(function(){We=null,p(4,0,1),b()},fe))}var Ne=St[je][1];!xe&&!W&&Ne>=0&&!ae&&(S()?xe=q(function(){xe=null,p(ct===0?3:1,0,1),ct++,ct%=2,b()},Ne):ct=0)}wr[qv]=function(){ke<Ah&&(ke++,G(),b())},wr._clearBackOff=function(){ke&&(ke=0,G(),b())};function F(){P=null,L=!1,z=[],W=null,ae=!1,me=0,De=500,Ke=0,bt=Fi,St={},je=e,xe=null,We=null,ke=0,ct=0,gt={},Xt=0,Wi=!1,Un=0,On=-1,xr=null,ni=!0,Kr=!1,Ri=mp,wo=_p,Dr=null,Ki=null,Zn=!1,jo=ul(),nt=new yf(Lh,Sf,tg,{requeue:un,send:Ue,sent:et,drop:ut,rspFail:Yt,oth:Rn}),Pt(),ue(),Pe()}function q(fe,Ne){Ne===0&&ke&&(Ne=1);var Le=1e3;return ke&&(Le=iv(ke-1)),jo.set(fe,Ne*Le)}function G(){return xe!==null?(xe.cancel(),xe=null,ct=0,!0):!1}function Z(fe,Ne){G(),W&&(W.cancel(),W=null),ae||p(1,fe,Ne)}function ue(){gt[4]={batches:[],iKeyMap:{}},gt[3]={batches:[],iKeyMap:{}},gt[2]={batches:[],iKeyMap:{}},gt[1]={batches:[],iKeyMap:{}}}function re(fe,Ne,Le){var vt=gt[Ne];vt||(Ne=1,vt=gt[Ne]);var Rt=vt.iKeyMap[fe];return!Rt&&Le&&(Rt=Gs.create(fe),vt.batches[bo](Rt),vt.iKeyMap[fe]=Rt),Rt}function Re(fe,Ne){nt[nv]()&&!ke&&(Xt>0&&Ke>Xt&&(Ne=!0),Ne&&W==null&&wr.flush(fe,function(){},20))}function ve(fe,Ne){ni&&(fe=ds(fe));var Le=fe[Da],vt=re(fe[Cn],Le,!0);return vt.addEvent(fe)?(Le!==4?(Ke++,Ne&&fe[Oc]===0&&Re(!fe.sync,Un>0&&vt[on]()>=Un)):me++,!0):!1}function be(fe,Ne,Le,vt){for(;Le<=Ne;){var Rt=re(fe,Ne,!0);if(Rt&&Rt[on]()>0){var Ot=Rt[ro](0,vt),Pn=Ot[on]();if(Pn>0)return Le===4?me-=Pn:Ke-=Pn,ie(du,[Ot],sa.QueueFull),!0}Le++}return de(),!1}function de(){for(var fe=0,Ne=0,Le=function(Rt){var Ot=gt[Rt];Ot&&Ot[ks]&&Jn(Ot[ks],function(Pn){Rt===4?fe+=Pn[on]():Ne+=Pn[on]()})},vt=1;vt<=4;vt++)Le(vt);Ke=Ne,me=fe}function Ze(fe,Ne,Le){var vt=!1,Rt=Ne===0;return!Rt||nt[nv]()?Ys(wr.core,function(){return"PostChannel._queueBatches"},function(){for(var Ot=[],Pn=4;Pn>=fe;){var ri=gt[Pn];ri&&ri.batches&&ri.batches[yt]>0&&(Jn(ri[ks],function(qr){nt.addBatch(qr)?vt=vt||qr&&qr[on]()>0:Ot=Ot[Qn](qr[li]()),Pn===4?me-=qr[on]():Ke-=qr[on]()}),ri[ks]=[],ri.iKeyMap={}),Pn--}Ot[yt]>0&&Gr(du,Ot,sa.KillSwitch),vt&&On>=fe&&(On=-1,xr=0)},function(){return{latency:fe,sendType:Ne,sendReason:Le}},!Rt):(On=On>=0?Math.min(On,fe):fe,xr=Math.max(xr,Le)),vt}function Xe(fe,Ne){p(1,0,Ne),de(),mt(function(){fe&&fe(),z[yt]>0?W=q(function(){W=null,Xe(z.shift(),Ne)},0):(W=null,b())})}function mt(fe){nt[Bp]()?fe():W=q(function(){W=null,mt(fe)},Rm)}function wt(){G(),Pt(),je=e,b()}function Pt(){St={},St[e]=[2,1,0],St[n]=[6,3,0],St[r]=[18,9,0]}function un(fe,Ne){var Le=[],vt=Ri;Kr&&(vt=wo),Jn(fe,function(Rt){Rt&&Rt[on]()>0&&Jn(Rt[li](),function(Ot){Ot&&(Ot[lu]&&(Ot[Da]=4,Ot[lu]=!1),Ot[Oc]<vt?(bc(Ot,wr[Nc]),c(Ot,!1)):Le[bo](Ot))})}),Le[yt]>0&&Gr(du,Le,sa.NonRetryableStatus),Kr&&Z(2,2)}function nr(fe,Ne){var Le=Bs||{},vt=Le[fe];if(vt)try{vt.apply(Le,Ne)}catch(Rt){Va(wr.diagLog(),1,74,fe+" notification failed: "+Rt)}}function Gr(fe,Ne){for(var Le=[],vt=2;vt<arguments.length;vt++)Le[vt-2]=arguments[vt];Ne&&Ne[yt]>0&&nr(fe,[Ne][Qn](Le))}function ie(fe,Ne){for(var Le=[],vt=2;vt<arguments.length;vt++)Le[vt-2]=arguments[vt];Ne&&Ne[yt]>0&&Jn(Ne,function(Rt){Rt&&Rt[on]()>0&&nr(fe,[Rt.events()][Qn](Le))})}function Ue(fe,Ne,Le){fe&&fe[yt]>0&&nr("eventsSendRequest",[Ne>=1e3&&Ne<=1999?Ne-1e3:0,Le!==!0])}function et(fe,Ne){ie("eventsSent",fe,Ne),b()}function ut(fe,Ne){ie(du,fe,Ne>=8e3&&Ne<=8999?Ne-8e3:sa.Unknown)}function Yt(fe){ie(du,fe,sa.NonRetryableStatus),b()}function Rn(fe,Ne){ie(du,fe,sa.Unknown),b()}function Pe(){$i?Un=0:Un=Math.max(Lh*(Sf+1),bt/6)}}),E}return m.__ieDyn=1,m}(Nv);t.BE_PROFILE=r,t.NRT_PROFILE=n,t.PostChannel=ig,t.RT_PROFILE=e})});var rb=Ie(Jv=>{"use strict";var qk=Jv&&Jv.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Uk=Jv&&Jv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nb=Jv&&Jv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&qk(e,t,n);return Uk(e,t),e};Object.defineProperty(Jv,"__esModule",{value:!0});Jv.oneDataSystemClientFactory=void 0;var jk=async(t,e,n)=>{let r=await Promise.resolve().then(()=>nb(Z0())),o=await Promise.resolve().then(()=>nb(tb())),f=new r.AppInsightsCore,h=new o.PostChannel,_={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[h]]};if(n){_.extensionConfig={};let A={alwaysUseXhrOverride:!0,httpXHROverride:n};_.extensionConfig[h.identifier]=A}let N=e.workspace.getConfiguration("telemetry").get("internalTesting");return f.initialize(_,[]),f.addTelemetryInitializer(A=>{N&&(A.ext=A.ext??{},A.ext.utc=A.ext.utc??{},A.ext.utc.flags=8462029)}),f},Hk=async(t,e,n)=>{let r=await jk(t,e,n);return{logEvent:(h,_)=>{try{r?.track({name:h,baseData:{name:h,properties:_?.properties,measurements:_?.measurements}})}catch(T){throw new Error(`Failed to log event to app insights!
`+T.message)}},flush:async()=>{try{return new Promise((_,T)=>{if(!r){_();return}r.flush(!0,N=>{if(!N){T("Failed to flush app 1DS!");return}})})}catch(h){throw new Error(`Failed to flush 1DS!
`+h.message)}},dispose:async()=>new Promise(_=>{if(!r){_();return}r.unload(!1,()=>{_(),r=void 0},1e3)})}};Jv.oneDataSystemClientFactory=Hk});var ob=Ie((I_,ib)=>{(function(t,e){typeof I_=="object"&&typeof ib<"u"?e(I_):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e((t.Microsoft=t.Microsoft||{},t.Microsoft.ApplicationInsights=t.Microsoft.ApplicationInsights||{})))})(I_,function(t){"use strict";var e=void 0,n=null,r="",o="function",f="number",h="object",_="prototype",T="__proto__",N="string",A="undefined",U="constructor",H="Symbol",te="_polyfill",Y="indexOf",ye="length",Ce="value",qe="name",_e="slice",he=Object,$e=he[_],Qe=String,Et=Qe[_],Ge=Math,pt=Array,Ft=pt[_];function zn(d,g){var C=g;try{C=d()}catch{}return C}function Vt(d){return function(g){return typeof g===d}}function Nn(d){var g="[object "+d+"]";return function(C){return!!(C&&Zr(C)===g)}}function Zr(d){return $e.toString.call(d)}function Wn(d){return typeof d===A||d===A}function er(d){return d===n||Wn(d)}function Ii(d){return!!d||d!==e}var Kt=Vt(N),At=Vt(o);function vr(d){return!d&&er(d)?!1:!!d&&typeof d===h}var hr=pt.isArray,co=Vt(f),Kn=Nn("Error"),or=he.getOwnPropertyDescriptor;function Bt(d,g){return d&&$e.hasOwnProperty.call(d,g)}var dt=he.hasOwn||si;function si(d,g){return Bt(d,g)||!!or(d,g)}function Pr(d,g,C){if(d&&vr(d)){for(var R in d)if(dt(d,R)&&g.call(C||d,R,d[R])===-1)break}}function Ss(d,g,C,R){var $={};return Pr(d,function(ne,ce){$[ne]=g?ce:ne,$[ce]=C?ce:ne}),R($)}function mr(d){throw new Error(d)}function jt(d){throw new TypeError(d)}var Ir=he.freeze,_t=function(d){return d},ei=function(d){return d[T]||n},yi=he.assign;function ko(d){return(!vr(d)||d===n)&&jt("objKeys called on non-object"),he.keys(d)}function Gn(d){return Ir&&Pr(d,function(g,C){(hr(C)||vr(C))&&Ir(C)}),zi(d)}var zi=Ir||_t,dr=he.getPrototypeOf||ei;function sr(d){return Ss(d,1,0,Gn)}function Ni(d){var g={};return Pr(d,function(C,R){g[C]=R[1],g[R[0]]=R[1]}),Gn(g)}function fn(d){return Ni(d)}var Yr=Qe,Vr="__tsUtils$gblCfg",Vn;function xo(){var d;return typeof globalThis!==A&&(d=globalThis),!d&&typeof self!==A&&(d=self),!d&&typeof window!==A&&(d=window),!d&&typeof global!==A&&(d=global),d}function Xr(){if(!Vn){var d=xo()||{};Vn=d[Vr]=d[Vr]||{}}return Vn}function Xn(d,g){var C=r;if(Kn(d))C="{ stack: '"+d.stack+"', message: '"+d.message+"', name: '"+d.name+"'";else try{C=JSON.stringify(d,n,g?co(g)?g:4:e)}catch(R){C=" - "+Xn(R,g)}return Zr(d)+": "+C}var pi=Ft[_e],X=function(d,g){jt("'"+Yr(d)+"' not defined for "+Xn(g))},Me=function(d){return function(g){return g[d].apply(g,pi.call(arguments,1))}},ot=function(d,g){var C=g&&g[d];return function(R){var $=R&&R[d]||C;if($)return $.apply(R,pi.call(arguments,1));X(d,R)}},Tt=function(d,g,C){var R=g&&g[d];return function($){var ne=$&&$[d]||R;if(ne||C){var ce=arguments;return(ne||C).apply($,ne?pi.call(ce,1):ce)}X(d,$)}},yn=Ge.max,Fn=ot(_e,Et),En=ot("substring",Et),tr=Tt("substr",Et,mn);function mn(d,g,C){return er(d)&&jt("'polyStrSubstr called with invalid "+Xn(d)),C<0?r:(g=g||0,g<0&&(g=yn(g+d[ye],0)),Wn(C)?Fn(d,g):Fn(d,g,g+C))}function Lt(d,g){return En(d,0,g)}var Ln="_urid",$t;function Jr(){if(!$t){var d=Xr();$t=d.gblSym=d.gblSym||{k:{},s:{}}}return $t}function Mr(d){var g={description:Yr(d),toString:function(){return H+"("+d+")"}};return g[te]=!0,g}function Ds(d){var g=Jr();if(!dt(g.k,d)){var C=Mr(d),R=ko(g.s).length;C[Ln]=function(){return R+"_"+C.toString()},g.k[d]=C,g.s[C[Ln]()]=Yr(d)}return g.k[d]}var uo={e:"enumerable",c:"configurable",v:Ce,w:"writable",g:"get",s:"set"};function O(d){var g={};if(g[uo.c]=!0,g[uo.e]=!0,d.l){g.get=function(){return d.l.v};var C=or(d.l,"v");C&&C.set&&(g.set=function(R){d.l.v=R})}return Pr(d,function(R,$){g[uo[R]]=Wn($)?g[uo[R]]:$}),g}var Ee=he.defineProperty;function Dt(d,g,C){return Ee(d,g,O(C))}var en,oe=function(){en=Xr(),oe=n};function x(d){var g={};return oe&&oe(),g.b=en.lzy,Ee(g,"v",{configurable:!0,get:function(){var C=d();return en.lzy||(Ee(g,"v",{value:C}),g.b&&delete g.b),en.lzy&&g.b!==en.lzy&&(g.b=en.lzy),C}}),g}function J(d,g){return x(function(){return zn(d,g)})}var Q="window",j,I,le,He,tn=function(d){return J(function(){return ar(d)||e},e)},pr=function(d){return(!j||d===!1||en&&en.lzy&&!j.b)&&(j=J(xo,n)),j.v},ar=function(d,g){var C=!j||g===!1?pr(g):j.v;return C&&C[d]?C[d]:d===Q&&I?I.v:n},gi=function(){return(!le||en&&en.lzy&&!le.b)&&(le=tn("document")),le.v},gr=function(){return!!_r()},_r=function(){return(!I||en&&en.lzy&&!I.b)&&(I=tn(Q)),I.v},dn=function(){return!!ai()},ai=function(){return(!He||en&&en.lzy&&!He.b)&&(He=tn("navigator")),He.v},D,ee,Fe;function It(d){return J(function(){return D.v?D.v[d]:e},e)}function Nr(){var d=!D||en&&en.lzy&&!D.b;return d&&(D=tn(H)),(!ee||d)&&(ee=It("for")),(!Fe||d)&&(Fe=It("keyFor")),D.v}function Lr(d,g){return(!D||en.lzy&&!D.b)&&Nr(),D.v?D.v(d):g?n:Mr(d)}function nn(d){return(!ee||en.lzy&&!D.b)&&Nr(),(ee.v||Ds)(d)}var Sn=Me("apply");function vn(d,g,C){if(d)for(var R=d[ye]>>>0,$=0;$<R&&!($ in d&&g.call(C||d,d[$],$,d)===-1);$++);}var Ar=ot(Y,Ft),lo=ot("map",Ft),Go=ot(_e,Ft),Si=Me("call"),ss=ot("reduce",Ft),Xs=he.create,Js=Xs||Uc;function Uc(d){if(!d)return{};var g=typeof d;if(g!==h&&g!==o)throw new TypeError("Prototype must be an Object or function: "+Xn(d));function C(){}return C[_]=d,new C}var Bi;function Bo(d,g){var C=he.setPrototypeOf||function(R,$){!Bi&&(Bi=x(function(){var ne;return ne={},ne[T]=[],ne instanceof Array})),Bi.v?R[T]=$:Pr($,function(ne,ce){return R[ne]=ce})};return C(d,g)}var Dl=function(d,g,C){Cl(g,d),g=Bo(g,C);function R(){this.constructor=g,Cl(this,d)}return g[_]=C===n?Js(C):(R[_]=C[_],new R),g},Or=function(d,g){try{g&&(d[qe]=g)}catch{}},Cl=function(d,g){try{Dt(d,qe,{v:g,c:!0,e:!1})}catch{}};function Cs(d,g,C){var R=C||Error,$=R[_][qe],ne=Error.captureStackTrace;return Dl(d,function(){var ce=this;try{Or(R,d);var pe=Sn(R,ce,Go(arguments))||ce;if(pe!==ce){var Oe=dr(ce);Oe!==dr(pe)&&Bo(pe,Oe)}return ne&&ne(pe,ce[U]),g&&g(pe,arguments),pe}finally{Or(R,$)}},R)}function Tl(){return(Date.now||nc)()}function nc(){return new Date().getTime()}function El(d){return function(C){return er(C)&&jt("strTrim called ["+Xn(C)+"]"),C&&C.replace&&(C=C.replace(d,r)),C}}var Qs=El(/^\s+|(?=\s)\s+$/g),Zs=Tt("trim",Et,Qs),jc,Ed,Oi;function Fo(d){if(!d||typeof d!==h)return!1;Oi||(Oi=gr()?_r():!0);var g=!1;if(d!==Oi){Ed||(jc=Function[_].toString,Ed=Si(jc,he));try{var C=dr(d);g=!C,g||(Bt(C,U)&&(C=C[U]),g=C&&typeof C===o&&jc.call(C)===Ed)}catch{}}return g}var hn;function fo(){return(!hn||!hn.b&&en&&en.lzy)&&(hn=tn("performance")),hn.v}var Pf=Tt("endsWith",Et,Jn);function Jn(d,g,C){Kt(d)||jt("'"+Xn(d)+"' is not a string");var R=Kt(g)?g:Yr(g),$=R[ye],ne=d[ye],ce=!Wn(C)&&C<ne?C:ne;return En(d,ce-$,ce)===R}var as=ot(Y,Et),ea="ref",bd="un"+ea,If="hasRef",oh="enabled";function Nf(d,g,C){var R,$=!0,ne=d?g(n):n,ce,pe=function(){return $=!1,ne&&ne[bd]&&ne[bd](),ce},Oe=function(){return $=!0,ne&&ne[ea]&&ne[ea](),ce},Je=function(){return ne&&ne[If]?ne[If]():$},Nt=function(){return ne=g(ne),$||pe(),ce},pn=function(){ne&&C(ne),ne=n},an=function(bn){!bn&&ne&&pn(),bn&&!ne&&Nt()};return ce=(R={cancel:pn,refresh:Nt},R[If]=Je,R[ea]=Oe,R[bd]=pe,R[oh]=!1,R),Ee(ce,oh,{get:function(){return!!ne},set:an}),{h:ce,dn:function(){ne=n}}}function _v(d,g,C,R){var $=hr(C),ne=$?C.length:0,ce=(ne>0?C[0]:$?e:C)||setTimeout,pe=(ne>1?C[1]:e)||clearTimeout,Oe=R[0];R[0]=function(){Je.dn(),Sn(Oe,d,Go(arguments))};var Je=Nf(g,function(Nt){if(Nt){if(Nt.refresh)return Nt.refresh(),Nt;Sn(pe,d,[Nt])}return Sn(ce,d,R)},function(Nt){Sn(pe,d,[Nt])});return Je.h}function bl(d,g){return _v(this,!0,e,Go(arguments))}var Hc=sr,Bn=fn,Vi="toLowerCase",$c="blkVal",zr="length",Of="rdOnly",sh="notify",Vo="warnToConsole",Ms="throwInternal",wl="setDf",Su="watch",qi="logger",Du="apply",ta="push",$p="splice",wd="hdlr",yv="cancel",kf="name",Cu="unload",Rd="version",np="loggingLevelConsole",ah="messageId",cs="message",xf="diagLog",Pd="userAgent",ch="split",Lo="replace",Yp="logInternalMessage",rc="traceId",Tu="spanId",us="traceFlags",Yc;function Id(d,g){Yc||(Yc=Cs("AggregationError",function(R,$){$[zr]>1&&(R.errors=$[1])}));var C=d||"One or more errors occurred.";throw vn(g,function(R,$){C+=`
`.concat($," > ").concat(Xn(R))}),new Yc(C,g||[])}var uh="function",Rl="object",Pl="undefined",Ff="prototype",ic=Object,Nd=ic[Ff];(pr()||{}).Symbol,(pr()||{}).Reflect;var Oa="hasOwnProperty",Il=function(d){for(var g,C=1,R=arguments.length;C<R;C++){g=arguments[C];for(var $ in g)Nd[Oa].call(g,$)&&(d[$]=g[$])}return d},qs=yi||Il,Eu=function(d,g){return Eu=ic.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,R){C.__proto__=R}||function(C,R){for(var $ in R)R[Oa]($)&&(C[$]=R[$])},Eu(d,g)};function zc(d,g){typeof g!==uh&&g!==null&&jt("Class extends value "+String(g)+" is not a constructor or null"),Eu(d,g);function C(){this.constructor=d}d[Ff]=g===null?Js(g):(C[Ff]=g[Ff],new C)}var bu,wu="constructor",Ao="prototype",na="function",Ru="_dynInstFuncs",Nl="_isDynProxy",ra="_dynClass",lh="_dynCls$",Pu="_dynInstChk",Xi=Pu,Ol="_dfOpts",Lf="_unknown_",ka="__proto__",Af="_dyn"+ka,Mf="__dynProto$Gbl",Iu="_dynInstProto",Nu="useBaseInst",ia="setInstFuncs",oa=Object,xa=oa.getPrototypeOf,Ou=oa.getOwnPropertyNames,vo=pr(),fh=vo[Mf]||(vo[Mf]={o:(bu={},bu[ia]=!0,bu[Nu]=!0,bu),n:1e3});function sa(d){return d&&(d===oa[Ao]||d===Array[Ao])}function kl(d){return sa(d)||d===Function[Ao]}function Fa(d){var g;if(d){if(xa)return xa(d);var C=d[ka]||d[Ao]||(d[wu]?d[wu][Ao]:null);g=d[Af]||C,Bt(d,Af)||(delete d[Iu],g=d[Af]=d[Iu]||d[Af],d[Iu]=C)}return g}function Ui(d,g){var C=[];if(Ou)C=Ou(d);else for(var R in d)typeof R=="string"&&Bt(d,R)&&C.push(R);if(C&&C.length>0)for(var $=0;$<C.length;$++)g(C[$])}function xl(d,g,C){return g!==wu&&typeof d[g]===na&&(C||Bt(d,g))}function Wc(d){jt("DynamicProto: "+d)}function Fl(d){var g={};return Ui(d,function(C){!g[C]&&xl(d,C,!1)&&(g[C]=d[C])}),g}function ki(d,g){for(var C=d.length-1;C>=0;C--)if(d[C]===g)return!0;return!1}function Ll(d,g,C,R){function $(Oe,Je,Nt){var pn=Je[Nt];if(pn[Nl]&&R){var an=Oe[Ru]||{};an[Xi]!==!1&&(pn=(an[Je[ra]]||{})[Nt]||pn)}return function(){return pn.apply(Oe,arguments)}}var ne={};Ui(C,function(Oe){ne[Oe]=$(g,C,Oe)});for(var ce=Fa(d),pe=[];ce&&!kl(ce)&&!ki(pe,ce);)Ui(ce,function(Oe){!ne[Oe]&&xl(ce,Oe,!xa)&&(ne[Oe]=$(g,ce,Oe))}),pe.push(ce),ce=Fa(ce);return ne}function qf(d,g,C,R){var $=null;if(d&&Bt(C,ra)){var ne=d[Ru]||{};if($=(ne[C[ra]]||{})[g],$||Wc("Missing ["+g+"] "+na),!$[Pu]&&ne[Xi]!==!1){for(var ce=!Bt(d,g),pe=Fa(d),Oe=[];ce&&pe&&!kl(pe)&&!ki(Oe,pe);){var Je=pe[g];if(Je){ce=Je===R;break}Oe.push(pe),pe=Fa(pe)}try{ce&&(d[g]=$),$[Pu]=1}catch{ne[Xi]=!1}}}return $}function aa(d,g,C){var R=g[d];return R===C&&(R=Fa(g)[d]),typeof R!==na&&Wc("["+d+"] is not a "+na),R}function oc(d,g,C,R,$){function ne(Oe,Je){var Nt=function(){var pn=qf(this,Je,Oe,Nt)||aa(Je,Oe,Nt);return pn.apply(this,arguments)};return Nt[Nl]=1,Nt}if(!sa(d)){var ce=C[Ru]=C[Ru]||{},pe=ce[g]=ce[g]||{};ce[Xi]!==!1&&(ce[Xi]=!!$),Ui(C,function(Oe){xl(C,Oe,!1)&&C[Oe]!==R[Oe]&&(pe[Oe]=C[Oe],delete C[Oe],(!Bt(d,Oe)||d[Oe]&&!d[Oe][Nl])&&(d[Oe]=ne(d,Oe)))})}}function Ts(d,g){if(xa){for(var C=[],R=Fa(g);R&&!kl(R)&&!ki(C,R);){if(R===d)return!0;C.push(R),R=Fa(R)}return!1}return!0}function Od(d,g){return Bt(d,Ao)?d.name||g||Lf:((d||{})[wu]||{}).name||g||Lf}function Al(d,g,C,R){Bt(d,Ao)||Wc("theClass is an invalid class definition.");var $=d[Ao];Ts($,g)||Wc("["+Od(d)+"] not in hierarchy of ["+Od(g)+"]");var ne=null;Bt($,ra)?ne=$[ra]:(ne=lh+Od(d,"_")+"$"+fh.n,fh.n++,$[ra]=ne);var ce=Al[Ol],pe=!!ce[Nu];pe&&R&&R[Nu]!==void 0&&(pe=!!R[Nu]);var Oe=Fl(g),Je=Ll($,g,Oe,pe);C(g,Je);var Nt=!!xa&&!!ce[ia];Nt&&R&&(Nt=!!R[ia]),oc($,ne,g,Oe,Nt!==!1)}Al[Ol]=fh.o;var rp=void 0,xi="",sc="Not dynamic - ",Kc=/-([a-z])/g,kd=/([^\w\d_$])/g,Uf=/^(\d+[\w\d_$])/;function xd(d){return!er(d)}function Es(d){var g=d;return g&&Kt(g)&&(g=g[Lo](Kc,function(C,R){return R.toUpperCase()}),g=g[Lo](kd,"_"),g=g[Lo](Uf,function(C,R){return"_"+R})),g}function Fd(d,g){return d&&g?as(d,g)!==-1:!1}function yr(d){return d&&d.toISOString()||""}function Gc(d){return Kn(d)?d[kf]:xi}function ku(d){return function(){function g(){var C=this;d&&Pr(d,function(R,$){C[R]=$})}return g}()}var ac="console",cc="JSON",ho="crypto",La="msCrypto",Er="msie",Ld="trident/",cr=null,Xo=null,An=null;function Bc(){return typeof console!==Pl?console:ar(ac)}function uc(){return!!(typeof JSON===Rl&&JSON||ar(cc)!==null)}function bs(){return uc()?JSON||ar(cc):null}function Ji(){return ar(ho)}function lc(){return ar(La)}function po(){var d=ai();if(d&&(d[Pd]!==Xo||cr===null)){Xo=d[Pd];var g=(Xo||xi)[Vi]();cr=Fd(g,Er)||Fd(g,Ld)}return cr}function Wr(d){return(An===null||d===!1)&&(An=dn()&&!!ai().sendBeacon),An}function Aa(d,g){if(d)for(var C=0;C<d[zr];C++){var R=d[C];if(R[kf]&&R[kf]===g)return R}return{}}function Dn(d){var g=gi();return g&&d?Aa(g.querySelectorAll("meta"),d).content:null}function ws(d){var g,C=fo();if(C){var R=C.getEntriesByType("navigation")||[];g=Aa((R[zr]>0?R[0]:{}).serverTiming,d).description}return g}var xu=4294967296,Mo=4294967295,Fu=123456789,ls=987654321,Us=!1,Qi=Fu,Vc=ls;function Rs(d){d<0&&(d>>>=0),Qi=Fu+d&Mo,Vc=ls-d&Mo,Us=!0}function Lu(){try{var d=Tl()&2147483647;Rs((Math.random()*xu^d)+d)}catch{}}function ji(d){return d>0?Math.floor(Ps()/Mo*(d+1))>>>0:0}function Ps(d){var g=0,C=Ji()||lc();return C&&C.getRandomValues&&(g=C.getRandomValues(new Uint32Array(1))[0]&Mo),g===0&&po()&&(Us||Lu(),g=fc()&Mo),g===0&&(g=Math.floor(xu*Math.random()|0)),d||(g>>>=0),g}function fc(d){Vc=36969*(Vc&65535)+(Vc>>16)&Mo,Qi=18e3*(Qi&65535)+(Qi>>16)&Mo;var g=(Vc<<16)+(Qi&65535)>>>0&Mo|0;return d||(g>>>=0),g}function dc(d){d===void 0&&(d=22);for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=Ps()>>>0,R=0,$=xi;$[zr]<d;)R++,$+=g.charAt(C&63),C>>>=6,R===5&&(C=(Ps()<<2&4294967295|C&3)>>>0,R=0);return $}var Xc="3.0.6",Is="."+dc(6),Sv=0;function js(d,g){return g===void 0&&(g=!1),Es(d+Sv+++(g?"."+Xc:xi)+Is)}function go(d){return d&&vr(d)&&(d.isVal||d.fb||dt(d,"v")||dt(d,"mrg")||dt(d,"ref")||d.set)}function vc(d,g,C){var R,$=C.dfVal||Ii;if(g&&C.fb){var ne=C.fb;hr(ne)||(ne=[ne]);for(var ce=0;ce<ne[zr];ce++){var pe=ne[ce],Oe=g[pe];if($(Oe)?R=Oe:d&&(Oe=d.cfg[pe],$(Oe)&&(R=Oe),d.set(d.cfg,Yr(pe),Oe)),$(R))break}}return!$(R)&&$(C.v)&&(R=C.v),R}function Au(d,g,C){var R=C;if(C&&go(C)&&(R=vc(d,g,C)),R){go(R)&&(R=Au(d,g,R));var $;hr(R)?($=[],$[zr]=R[zr]):Fo(R)&&($={}),$&&(Pr(R,function(ne,ce){ce&&go(ce)&&(ce=Au(d,g,ce)),$[ne]=ce}),R=$)}return R}function ca(d,g,C,R){var $,ne,ce,pe=R,Oe,Je,Nt,pn;go(pe)?($=pe.isVal,ne=pe.set,Nt=pe[Of],pn=pe[$c],Oe=pe.mrg,Je=pe.ref,!Je&&Wn(Je)&&(Je=!!Oe),ce=vc(d,g,pe)):ce=R,pn&&d[$c](g,C);var an,bn=!0,Ht=g[C];(Ht||!er(Ht))&&(an=Ht,bn=!1,$&&an!==ce&&!$(an)&&(an=ce,bn=!0),ne&&(an=ne(an,ce,g),bn=an===ce)),bn?ce?an=Au(d,g,ce):an=ce:(Fo(an)||hr(ce))&&Oe&&ce&&(Fo(ce)||hr(ce))&&Pr(ce,function(wn,yt){ca(d,an,wn,yt)}),d.set(g,C,an),Je&&d.ref(g,C),Nt&&d[Of](g,C)}var mo=nn("[[ai_dynCfg_1]]"),ci=nn("[[ai_blkDynCfg_1]]"),_o=nn("[[ai_frcDynCfg_1]]");function fs(d){if(d){var g;if(hr(d)?(g=[],g[zr]=d[zr]):Fo(d)&&(g={}),g)return Pr(d,function(C,R){g[C]=fs(R)}),g}return d}function Ns(d){if(d){var g=d[mo]||d;if(g.cfg&&(g.cfg===d||g.cfg[mo]===g))return g}return null}function hc(d){if(d&&(Fo(d)||hr(d)))try{d[ci]=!0}catch{}return d}function ua(d,g,C){var R=!1;return C&&!d[g.blkVal]&&(R=C[_o],!R&&!C[ci]&&(R=Fo(C)||hr(C))),R}function Hi(d){jt("InvalidAccess:"+d)}var Ml=["push","pop","shift","unshift","splice"],Mu=function(d,g,C,R){d&&d[Ms](3,108,"".concat(C," [").concat(g,"] failed - ")+Xn(R))};function ql(d,g,C){hr(g)&&vn(Ml,function(R){var $=g[R];g[R]=function(){for(var ne=[],ce=0;ce<arguments.length;ce++)ne[ce]=arguments[ce];var pe=$[Du](this,ne);return Uu(d,g,C,"Patching"),pe}})}function Ul(d,g){var C=or(d,g);return C&&C.get}function qu(d,g,C,R){var $={n:C,h:[],trk:function(Je){Je&&Je.fn&&(Ar($.h,Je)===-1&&$.h[ta](Je),d.trk(Je,$))},clr:function(Je){var Nt=Ar($.h,Je);Nt!==-1&&$.h[$p](Nt,1)}},ne=!0,ce=!1;function pe(){ne&&(ce=ce||ua(pe,d,R),R&&!R[mo]&&ce&&(R=Uu(d,R,C,"Converting")),ne=!1);var Je=d.act;return Je&&$.trk(Je),R}pe[d.prop]={chng:function(){d.add($)}};function Oe(Je){if(R!==Je){pe[d.ro]&&!d.upd&&Hi("["+C+"] is read-only:"+Xn(g)),ne&&(ce=ce||ua(pe,d,R),ne=!1);var Nt=ce&&pe[d.rf];if(ce)if(Nt){Pr(R,function(an){R[an]=Je?Je[an]:rp});try{Pr(Je,function(an,bn){jl(d,R,an,bn)}),Je=R}catch(an){Mu((d.hdlr||{})[qi],C,"Assigning",an),ce=!1}}else R&&R[mo]&&Pr(R,function(an){var bn=Ul(R,an);if(bn){var Ht=bn[d.prop];Ht&&Ht.chng()}});if(Je!==R){var pn=Je&&ua(pe,d,Je);!Nt&&pn&&(Je=Uu(d,Je,C,"Converting")),R=Je,ce=pn}d.add($)}}Dt(g,$.n,{g:pe,s:Oe})}function jl(d,g,C,R){if(g){var $=Ul(g,C),ne=$&&!!$[d.prop];ne?g[C]=R:qu(d,g,C,R)}return g}function Zi(d,g,C,R){if(g){var $=Ul(g,C),ne=$&&!!$[d.prop],ce=R&&R[0],pe=R&&R[1],Oe=R&&R[2];if(!ne){if(Oe)try{hc(g)}catch(Je){Mu((d.hdlr||{})[qi],C,"Blocking",Je)}try{jl(d,g,C,g[C]),$=Ul(g,C)}catch(Je){Mu((d.hdlr||{})[qi],C,"State",Je)}}ce&&($[d.rf]=ce),pe&&($[d.ro]=pe),Oe&&($[d.blkVal]=!0)}return g}function Uu(d,g,C,R){try{Pr(g,function($,ne){jl(d,g,$,ne)}),g[mo]||(Ee(g,mo,{get:function(){return d[wd]}}),ql(d,g,C))}catch($){Mu((d.hdlr||{})[qi],C,R,$)}return g}var Jc="[[ai_",Ma="]]";function ds(d){var g,C=Lr(Jc+"get"+d.uid+Ma),R=Lr(Jc+"ro"+d.uid+Ma),$=Lr(Jc+"rf"+d.uid+Ma),ne=Lr(Jc+"blkVal"+d.uid+Ma),ce=Lr(Jc+"dtl"+d.uid+Ma),pe=null,Oe=null,Je;function Nt(Ht,wn){var yt=Je.act;try{Je.act=Ht,Ht&&Ht[ce]&&(vn(Ht[ce],function(Cn){Cn.clr(Ht)}),Ht[ce]=[]),wn({cfg:d.cfg,set:d.set.bind(d),setDf:d[wl].bind(d),ref:d.ref.bind(d),rdOnly:d[Of].bind(d)})}catch(Cn){var Qn=d[qi];throw Qn&&Qn[Ms](1,107,Xn(Cn)),Cn}finally{Je.act=yt||null}}function pn(){if(pe){var Ht=pe;pe=null,Oe&&Oe[yv](),Oe=null;var wn=[];if(vn(Ht,function(yt){if(yt&&(yt[ce]&&(vn(yt[ce],function(Qn){Qn.clr(yt)}),yt[ce]=null),yt.fn))try{Nt(yt,yt.fn)}catch(Qn){wn[ta](Qn)}}),pe)try{pn()}catch(yt){wn[ta](yt)}wn[zr]>0&&Id("Watcher error(s): ",wn)}}function an(Ht){if(Ht&&Ht.h[zr]>0){pe||(pe=[]),Oe||(Oe=bl(function(){Oe=null,pn()},0));for(var wn=0;wn<Ht.h[zr];wn++){var yt=Ht.h[wn];yt&&Ar(pe,yt)===-1&&pe[ta](yt)}}}function bn(Ht,wn){if(Ht){var yt=Ht[ce]=Ht[ce]||[];Ar(yt,wn)===-1&&yt[ta](wn)}}return Je=(g={prop:C,ro:R,rf:$},g[$c]=ne,g[wd]=d,g.add=an,g[sh]=pn,g.use=Nt,g.trk=bn,g),Je}function jf(d,g){var C={fn:g,rm:function(){C.fn=null,d=null,g=null}};return d.use(C,g),C}function Dv(d,g,C){var R,$=Ns(g);if($)return $;var ne=js("dyncfg",!0),ce=g&&C!==!1?g:fs(g),pe;function Oe(){pe[sh]()}function Je(Qn,Cn,on){try{Qn=jl(pe,Qn,Cn,on)}catch(li){Mu(d,Cn,"Setting value",li)}return Qn[Cn]}function Nt(Qn){return jf(pe,Qn)}function pn(Qn,Cn){pe.use(null,function(on){var li=pe.upd;try{Wn(Cn)||(pe.upd=Cn),Qn(on)}finally{pe.upd=li}})}function an(Qn,Cn){var on;return Zi(pe,Qn,Cn,(on={},on[0]=!0,on))[Cn]}function bn(Qn,Cn){var on;return Zi(pe,Qn,Cn,(on={},on[1]=!0,on))[Cn]}function Ht(Qn,Cn){var on;return Zi(pe,Qn,Cn,(on={},on[2]=!0,on))[Cn]}function wn(Qn,Cn){return Cn&&Pr(Cn,function(on,li){ca(yt,Qn,on,li)}),Qn}var yt=(R={uid:null,cfg:ce},R[qi]=d,R[sh]=Oe,R.set=Je,R[wl]=wn,R[Su]=Nt,R.ref=an,R[Of]=bn,R[$c]=Ht,R._block=pn,R);return Dt(yt,"uid",{c:!1,e:!1,w:!1,v:ne}),pe=ds(yt),Uu(pe,ce,"config","Creating"),yt}function ju(d,g){d?(d[Vo](g),d[Ms](2,108,g)):Hi(g)}function Hu(d,g,C,R){var $=Dv(C,d||{},R);return g&&$[wl]($.cfg,g),$}function Cv(d,g,C){var R=d[mo]||d;return R.cfg&&(R.cfg===d||R.cfg[mo]===R)?R[Su](g):(ju(C,sc+Xn(d)),Hu(d,null,C)[Su](g))}var Tv=null;function Ev(){var d=ar("Microsoft");return d&&(Tv=d.ApplicationInsights),Tv}function dh(d){var g=Tv;return!g&&d.disableDbgExt!==!0&&(g=Tv||Ev()),g?g.ChromeDbgExt:null}var Hl,Ad="warnToConsole",bv="AI (Internal): ",wv="AI: ",$l="AITR_",$u={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},vh=(Hl={},Hl[0]=null,Hl[1]="errorToConsole",Hl[2]=Ad,Hl[3]="debugToConsole",Hl);function Rv(d){return d?'"'+d[Lo](/\"/g,xi)+'"':xi}function Yu(d,g){var C=Bc();if(C){var R="log";C[d]&&(R=d),At(C[R])&&C[R](g)}}var Md=function(){function d(g,C,R,$){R===void 0&&(R=!1);var ne=this;ne[ah]=g,ne[cs]=(R?wv:bv)+g;var ce=xi;uc()&&(ce=bs().stringify($));var pe=(C?" message:"+Rv(C):xi)+($?" props:"+Rv(ce):xi);ne[cs]+=pe}return d.dataType="MessageData",d}();function qa(d,g){return(d||{})[qi]||new Sr(g)}var Sr=function(){function d(g){this.identifier="DiagnosticLogger",this.queue=[];var C=0,R={},$,ne,ce,pe,Oe;Al(d,this,function(Je){Oe=pn(g||{}),Je.consoleLoggingLevel=function(){return $},Je[Ms]=function(Ht,wn,yt,Qn,Cn){Cn===void 0&&(Cn=!1);var on=new Md(wn,yt,Cn,Qn);if(pe)throw Xn(on);var li=vh[Ht]||Ad;if(Wn(on[cs]))bn("throw"+(Ht===1?"Critical":"Warning"),on);else{if(Cn){var bo=+on[ah];!R[bo]&&$>=Ht&&(Je[li](on[cs]),R[bo]=!0)}else $>=Ht&&Je[li](on[cs]);Nt(Ht,on)}},Je.debugToConsole=function(Ht){Yu("debug",Ht),bn("warning",Ht)},Je[Vo]=function(Ht){Yu("warn",Ht),bn("warning",Ht)},Je.errorToConsole=function(Ht){Yu("error",Ht),bn("error",Ht)},Je.resetInternalMessageCount=function(){C=0,R={}},Je[Yp]=Nt,Je[Cu]=function(Ht){Oe&&Oe.rm(),Oe=null};function Nt(Ht,wn){if(!an()){var yt=!0,Qn=$l+wn[ah];if(R[Qn]?yt=!1:R[Qn]=!0,yt&&(Ht<=ne&&(Je.queue[ta](wn),C++,bn(Ht===1?"error":"warn",wn)),C===ce)){var Cn="Internal events throttle limit per PageView reached for this app.",on=new Md(23,Cn,!1);Je.queue[ta](on),Ht===1?Je.errorToConsole(Cn):Je[Vo](Cn)}}}function pn(Ht){return Cv(Hu(Ht,$u,Je).cfg,function(wn){var yt=wn.cfg;$=yt[np],ne=yt.loggingLevelTelemetry,ce=yt.maxMessageLimit,pe=yt.enableDebug})}function an(){return C>=ce}function bn(Ht,wn){var yt=dh(g||{});yt&&yt[xf]&&yt[xf](Ht,wn)}})}return d.__ieDyn=1,d}();function Yl(d){return d||new Sr}function kr(d,g,C,R,$,ne){ne===void 0&&(ne=!1),Yl(d)[Ms](g,C,R,$,ne)}function Pv(){for(var d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],g=xi,C,R=0;R<4;R++)C=Ps(),g+=d[C&15]+d[C>>4&15]+d[C>>8&15]+d[C>>12&15]+d[C>>16&15]+d[C>>20&15]+d[C>>24&15]+d[C>>28&15];var $=d[8+(Ps()&3)|0];return tr(g,0,8)+tr(g,9,4)+"4"+tr(g,13,3)+$+tr(g,16,3)+tr(g,19,12)}var qd=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Ua="00",zu="ff",Jo="00000000000000000000000000000000",ja="0000000000000000",Ha=1;function Ei(d,g,C){return d&&d[zr]===g&&d!==C?!!d.match(/^[\da-f]*$/i):!1}function Mn(d,g,C){return Ei(d,g)?d:C}function vs(d){(isNaN(d)||d<0||d>255)&&(d=1);for(var g=d.toString(16);g[zr]<2;)g="0"+g;return g}function ui(d,g,C,R){var $;return $={},$[Rd]=Ei(R,2,zu)?R:Ua,$[rc]=zl(d)?d:Pv(),$[Tu]=Wu(g)?g:Lt(Pv(),16),$.traceFlags=C>=0&&C<=255?C:1,$}function $a(d,g){var C;if(!d||(hr(d)&&(d=d[0]||""),!d||!Kt(d)||d[zr]>8192))return null;if(d.indexOf(",")!==-1){var R=d[ch](",");d=R[g>0&&R[zr]>g?g:0]}var $=qd.exec(Zs(d));return!$||$[1]===zu||$[2]===Jo||$[3]===ja?null:(C={version:($[1]||xi)[Vi](),traceId:($[2]||xi)[Vi](),spanId:($[3]||xi)[Vi]()},C[us]=parseInt($[4],16),C)}function zl(d){return Ei(d,32,Jo)}function Wu(d){return Ei(d,16,ja)}function Ku(d){return!(!d||!Ei(d[Rd],2,zu)||!Ei(d[rc],32,Jo)||!Ei(d[Tu],16,ja)||!Ei(vs(d[us]),2))}function pc(d){return Ku(d)?(d[us]&Ha)===Ha:!1}function Iv(d){if(d){var g=vs(d[us]);Ei(g,2)||(g="01");var C=d[Rd]||Ua;return C!=="00"&&C!=="ff"&&(C=Ua),"".concat(C.toLowerCase(),"-").concat(Mn(d.traceId,32,Jo).toLowerCase(),"-").concat(Mn(d.spanId,16,ja).toLowerCase(),"-").concat(g.toLowerCase())}return""}function Wl(d){var g="traceparent",C=$a(Dn(g),d);return C||(C=$a(ws(g),d)),C}var Kl="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",eo="sampleRate",Ya="ProcessLegacy",qo="http.method",hs="https://dc.services.visualstudio.com",Gl="/v2/track",Hs="not_specified",Bl="iKey",Hf=Bn({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Gu="split",rn="length",za="toLowerCase",bi="ingestionendpoint",gc="toString",Ud="removeItem",yo="name",Wa="message",Bu="count",jd="preTriggerDate",$s="disabled",$f="interval",Vl="daysOfMonth",Hd="date",Yf="getUTCDate",Ka="stringify",mc="pathname",Xl="correlationHeaderExcludePatterns",Vu="extensionConfig",zf="exceptions",Qo="parsedStack",So="properties",_c="measurements",Os="sizeInBytes",ps="typeName",Qc="severityLevel",Ga="problemGroup",Wf="isManual",Xu="CreateFromInterface",Ju="assembly",Zc="fileName",Ba="hasFullStack",Jl="level",Qu="method",Ql="line",yc="duration",eu="receivedResponse";function Zl(d,g,C){var R=g[rn],$=hh(d,g);if($[rn]!==R){for(var ne=0,ce=$;C[ce]!==void 0;)ne++,ce=En($,0,147)+Uo(ne);$=ce}return $}function hh(d,g){var C;return g&&(g=Zs(Yr(g)),g[rn]>150&&(C=En(g,0,150),kr(d,2,57,"name is too long.  It has been truncated to 150 characters.",{name:g},!0))),C||g}function Do(d,g,C){C===void 0&&(C=1024);var R;return g&&(C=C||1024,g=Zs(Yr(g)),g[rn]>C&&(R=En(g,0,C),kr(d,2,61,"string value is too long. It has been truncated to "+C+" characters.",{value:g},!0))),R||g}function $d(d,g){return Gf(d,g,2048,66)}function Va(d,g){var C;return g&&g[rn]>32768&&(C=En(g,0,32768),kr(d,2,56,"message is too long, it has been truncated to 32768 characters.",{message:g},!0)),C||g}function Kf(d,g){var C;if(g){var R=""+g;R[rn]>32768&&(C=En(R,0,32768),kr(d,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:g},!0))}return C||g}function Xa(d,g){if(g){var C={};Pr(g,function(R,$){if(vr($)&&uc())try{$=bs()[Ka]($)}catch(ne){kr(d,2,49,"custom property is not valid",{exception:ne},!0)}$=Do(d,$,8192),R=Zl(d,R,C),C[R]=$}),g=C}return g}function Sc(d,g){if(g){var C={};Pr(g,function(R,$){R=Zl(d,R,C),C[R]=$}),g=C}return g}function ef(d,g){return g&&Gf(d,g,128,69)[gc]()}function Gf(d,g,C,R){var $;return g&&(g=Zs(Yr(g)),g[rn]>C&&($=En(g,0,C),kr(d,2,R,"input is too long, it has been truncated to "+C+" characters.",{data:g},!0))),$||g}function Uo(d){var g="00"+d;return tr(g,g[rn]-3)}var Ys=gi()||{},Bf=0,Yd=[null,null,null,null,null];function Ja(d){var g=Bf,C=Yd,R=C[g];return Ys.createElement?C[g]||(R=C[g]=Ys.createElement("a")):R={host:ip(d,!0)},R.href=d,g++,g>=C[rn]&&(g=0),Bf=g,R}function Zu(d){var g,C=Ja(d);return C&&(g=C.href),g}function tu(d){var g,C=Ja(d);return C&&(g=C[mc]),g}function ph(d,g){return d?d.toUpperCase()+" "+g:g}function ip(d,g){var C=Qa(d,g)||"";if(C){var R=C.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[rn]>3&&Kt(R[2])&&R[2][rn]>0)return R[2]+(R[3]||"")}return C}function Qa(d,g){var C=null;if(d){var R=d.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[rn]>2&&Kt(R[2])&&R[2][rn]>0&&(C=R[2]||"",g&&R[rn]>2)){var $=(R[1]||"")[za](),ne=R[3]||"";($==="http"&&ne===":80"||$==="https"&&ne===":443")&&(ne=""),C+=ne}}return C}var zd=[hs+Gl,"https://breeze.aimon.applicationinsights.io"+Gl,"https://dc-int.services.visualstudio.com"+Gl],Wd="cid-v1:";function Kd(d){return Ar(zd,d[za]())!==-1}function Vf(d){Wd=d}function zp(){return Wd}function Xf(d,g,C){if(!g||d&&d.disableCorrelationHeaders)return!1;if(d&&d[Xl]){for(var R=0;R<d.correlationHeaderExcludePatterns[rn];R++)if(d[Xl][R].test(g))return!1}var $=Ja(g).host[za]();if($&&(as($,":443")!==-1||as($,":80")!==-1)&&($=(Qa(g,!0)||"")[za]()),(!d||!d.enableCorsCorrelation)&&$&&$!==C)return!1;var ne=d&&d.correlationHeaderDomains;if(ne){var ce;if(vn(ne,function(Je){var Nt=new RegExp(Je.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));ce=ce||Nt.test($)}),!ce)return!1}var pe=d&&d.correlationHeaderExcludedDomains;if(!pe||pe[rn]===0)return!0;for(var R=0;R<pe[rn];R++){var Oe=new RegExp(pe[R].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Oe.test($))return!1}return $&&$[rn]>0}function Wp(d){if(d){var g=la(d,Hf[1]);if(g&&g!==Wd)return g}}function la(d,g){if(d)for(var C=d[Gu](","),R=0;R<C[rn];++R){var $=C[R][Gu]("=");if($[rn]===2&&$[0]===g)return $[1]}}function nu(d,g,C,R){var $,ne=R,ce=R;if(g&&g[rn]>0){var pe=Ja(g);if($=pe.host,!ne)if(pe[mc]!=null){var Oe=pe.pathname[rn]===0?"/":pe[mc];Oe.charAt(0)!=="/"&&(Oe="/"+Oe),ce=pe[mc],ne=Do(d,C?C+" "+Oe:Oe)}else ne=Do(d,g)}else $=R,ne=R;return{target:$,name:ne,data:ce}}function tf(){var d=fo();if(d&&d.now&&d.timing){var g=d.now()+d.timing.navigationStart;if(g>0)return g}return Tl()}function Nv(d,g){var C=null;return d!==0&&g!==0&&!er(d)&&!er(g)&&(C=g-d),C}function nf(d,g){var C=d||{};return{getName:function(){return C[yo]},setName:function(R){g&&g.setName(R),C[yo]=R},getTraceId:function(){return C.traceID},setTraceId:function(R){g&&g.setTraceId(R),zl(R)&&(C.traceID=R)},getSpanId:function(){return C.parentID},setSpanId:function(R){g&&g.setSpanId(R),Wu(R)&&(C.parentID=R)},getTraceFlags:function(){return C.traceFlags},setTraceFlags:function(R){g&&g.setTraceFlags(R),C.traceFlags=R}}}var fa=Hc({LocalStorage:0,SessionStorage:1}),zs=Hc({AI:0,AI_AND_W3C:1,W3C:2}),Dc=void 0,Cc=void 0,Gd="";function el(){return ou()?to(fa.LocalStorage):null}function to(d){try{if(er(pr()))return null;var g=new Date()[gc](),C=ar(d===fa.LocalStorage?"localStorage":"sessionStorage"),R=Gd+g;C.setItem(R,g);var $=C.getItem(R)!==g;if(C[Ud](R),!$)return C}catch{}return null}function ru(){return da()?to(fa.SessionStorage):null}function iu(){Dc=!1,Cc=!1}function Ov(d){Gd=d||""}function op(){Dc=ou(!0),Cc=da(!0)}function ou(d){return(d||Dc===void 0)&&(Dc=!!to(fa.LocalStorage)),Dc}function sp(d,g){var C=el();if(C!==null)try{return C.getItem(g)}catch(R){Dc=!1,kr(d,2,1,"Browser failed read of local storage. "+Gc(R),{exception:Xn(R)})}return null}function rf(d,g,C){var R=el();if(R!==null)try{return R.setItem(g,C),!0}catch($){Dc=!1,kr(d,2,3,"Browser failed write to local storage. "+Gc($),{exception:Xn($)})}return!1}function Tc(d,g){var C=el();if(C!==null)try{return C[Ud](g),!0}catch(R){Dc=!1,kr(d,2,5,"Browser failed removal of local storage item. "+Gc(R),{exception:Xn(R)})}return!1}function da(d){return(d||Cc===void 0)&&(Cc=!!to(fa.SessionStorage)),Cc}function Jf(){var d=[];return da()&&Pr(ar("sessionStorage"),function(g){d.push(g)}),d}function tl(d,g){var C=ru();if(C!==null)try{return C.getItem(g)}catch(R){Cc=!1,kr(d,2,2,"Browser failed read of session storage. "+Gc(R),{exception:Xn(R)})}return null}function of(d,g,C){var R=ru();if(R!==null)try{return R.setItem(g,C),!0}catch($){Cc=!1,kr(d,2,4,"Browser failed write to session storage. "+Gc($),{exception:Xn($)})}return!1}function Qf(d,g){var C=ru();if(C!==null)try{return C[Ud](g),!0}catch(R){Cc=!1,kr(d,2,6,"Browser failed removal of session storage item. "+Gc(R),{exception:Xn(R)})}return!1}var gh="appInsightsThrottle",Kp=function(){function d(g,C){var R=this,$,ne,ce,pe,Oe,Je,Nt,pn=!1,an=!1;Ht(),R._getDbgPlgTargets=function(){return[Nt]},R.getConfig=function(){return ce},R.canThrottle=function(it){var Gt=au(it),qn=wn(it);return Cn(qn,$,Gt)},R.isTriggered=function(it){return Zd(it)},R.isReady=function(){return pn},R.flush=function(it){try{var Gt=ev(it);if(Gt&&Gt[rn]>0){var qn=Gt.slice(0);return Nt[it]=[],vn(qn,function(fi){bn(fi.msgID,fi[Wa],fi.severity,!1)}),!0}}catch{}return!1},R.flushAll=function(){try{if(Nt){var it=!0;return Pr(Nt,function(Gt){var qn=R.flush(parseInt(Gt));it=it&&qn}),it}}catch{}return!1},R.onReadyState=function(it,Gt){return Gt===void 0&&(Gt=!0),pn=er(it)?!0:it,pn&&Gt?R.flushAll():null},R.sendMessage=function(it,Gt,qn){return bn(it,Gt,qn,!0)};function bn(it,Gt,qn,fi){if(pn){var Di=Sa(it);if(!Di)return;var Ci=wn(it),wi=au(it),pf=Cn(Ci,$,wi),il=!1,ol=0,bh=Zd(it);try{pf&&!bh?(ol=Math.min(Ci.limit.maxSendNumber,wi[Bu]+1),wi[Bu]=0,il=!0,Oe[it]=!0,wi[jd]=new Date):(Oe[it]=pf,wi[Bu]+=1);var gf=on(it);od(ne,gf,wi);for(var cu=0;cu<ol;cu++)Qd(it,ne,Gt,qn)}catch{}return{isThrottled:il,throttleNum:ol}}else if(fi){var tv=ev(it);tv.push({msgID:it,message:Gt,severity:qn})}return null}function Ht(){ne=qa(g),Oe={},pe={},Nt={},ce={},yt(109),Je=xd(C)?C:"",g.addUnloadHook(Cv(g.config,function(it){var Gt=it.cfg;$=ou();var qn=Gt.throttleMgrCfg||{};Pr(qn,function(fi,Di){yt(parseInt(fi),Di)})}))}function wn(it){return ce[it]||ce[109]}function yt(it,Gt){var qn,fi;try{var Di=Gt||{},Ci={};Ci[$s]=!!Di[$s];var wi=Di[$f]||{};an=wi?.daysOfMonth&&wi?.daysOfMonth[rn]>0,Ci[$f]=Qn(wi);var pf={samplingRate:((qn=Di.limit)===null||qn===void 0?void 0:qn.samplingRate)||100,maxSendNumber:((fi=Di.limit)===null||fi===void 0?void 0:fi.maxSendNumber)||1};Ci.limit=pf,ce[it]=Ci}catch{}}function Qn(it){it=it||{};var Gt=it?.monthInterval,qn=it?.dayInterval;return er(Gt)&&er(qn)&&(it.monthInterval=3,an||(it[Vl]=[28],an=!0)),it={monthInterval:it?.monthInterval,dayInterval:it?.dayInterval,daysOfMonth:it?.daysOfMonth},it}function Cn(it,Gt,qn){if(it&&!it[$s]&&Gt&&xd(qn)){var fi=ro(),Di=qn[Hd],Ci=it[$f],wi=1;if(Ci?.monthInterval){var pf=(fi.getUTCFullYear()-Di.getUTCFullYear())*12+fi.getUTCMonth()-Di.getUTCMonth();wi=hf(Ci.monthInterval,0,pf)}var il=1;if(an)il=Ar(Ci[Vl],fi[Yf]());else if(Ci?.dayInterval){var ol=Math.floor((fi.getTime()-Di.getTime())/864e5);il=hf(Ci.dayInterval,0,ol)}return wi>=0&&il>=0}return!1}function on(it,Gt){var qn=xd(Gt)?Gt:"";return it?gh+qn+"-"+it:null}function li(it){try{if(it){var Gt=new Date;return it.getUTCFullYear()===Gt.getUTCFullYear()&&it.getUTCMonth()===Gt.getUTCMonth()&&it[Yf]()===Gt[Yf]()}}catch{}return!1}function bo(it,Gt,qn){try{var fi={date:ro(),count:0};if(it){var Di=JSON.parse(it),Ci={date:ro(Di[Hd])||fi[Hd],count:Di[Bu]||fi[Bu],preTriggerDate:Di.preTriggerDate?ro(Di[jd]):void 0};return Ci}else return od(Gt,qn,fi),fi}catch{}return null}function ro(it){try{if(it){var Gt=new Date(it);if(!isNaN(Gt.getDate()))return Gt}else return new Date}catch{}return null}function od(it,Gt,qn){try{return rf(it,Gt,Zs(JSON[Ka](qn)))}catch{}return!1}function hf(it,Gt,qn){return it<=0?1:qn>=Gt&&(qn-Gt)%it==0?Math.floor((qn-Gt)/it)+1:-1}function Qd(it,Gt,qn,fi){kr(Gt,fi||1,it,qn)}function Sa(it){try{var Gt=wn(it);return ji(1e6)<=Gt.limit.samplingRate}catch{}return!1}function au(it){try{var Gt=pe[it];if(!Gt){var qn=on(it,Je);Gt=bo(sp(ne,qn),ne,qn),pe[it]=Gt}return pe[it]}catch{}return null}function Zd(it){var Gt=Oe[it];if(er(Gt)){Gt=!1;var qn=au(it);qn&&(Gt=li(qn[jd])),Oe[it]=Gt}return Oe[it]}function ev(it){return Nt=Nt||{},er(Nt[it])&&(Nt[it]=[]),Nt[it]}}return d}(),sf=";",ap="=";function Co(d){if(!d)return{};var g=d[Gu](sf),C=ss(g,function($,ne){var ce=ne[Gu](ap);if(ce[rn]===2){var pe=ce[0][za](),Oe=ce[1];$[pe]=Oe}return $},{});if(ko(C)[rn]>0){if(C.endpointsuffix){var R=C.location?C.location+".":"";C[bi]=C[bi]||"https://"+R+"dc."+C.endpointsuffix}C[bi]=C[bi]||hs,Pf(C[bi],"/")&&(C[bi]=C[bi].slice(0,-1))}return C}var af={parse:Co},cf=function(){function d(g,C,R){var $=this,ne=this;ne.ver=1,ne.sampleRate=100,ne.tags={},ne[yo]=Do(g,R)||Hs,ne.data=C,ne.time=yr(new Date),ne.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return $.sampleRate===100?4:1},tags:1,data:1}}return d}(),cp=function(){function d(g,C,R,$){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var ne=this;ne.ver=2,ne[yo]=Do(g,C)||Hs,ne[So]=Xa(g,R),ne[_c]=Sc(g,$)}return d.envelopeType="Microsoft.ApplicationInsights.{0}.Event",d.dataType="EventData",d}(),Gp="<no_method>",va="error",To="stack",ha="stackDetails",uf="errorSrc",Zf="message",kv="description";function Zt(d,g){var C=d;return C&&!Kt(C)&&(JSON&&JSON[Ka]?(C=JSON[Ka](d),g&&(!C||C==="{}")&&(At(d[gc])?C=d[gc]():C=""+d)):C=""+d+" - (Missing JSON.stringify)"),C||""}function Bd(d,g){var C=d;return d&&(C&&!Kt(C)&&(C=d[Zf]||d[kv]||C),C&&!Kt(C)&&(C=Zt(C,!0)),d.filename&&(C=C+" @"+(d.filename||"")+":"+(d.lineno||"?")+":"+(d.colno||"?"))),g&&g!=="String"&&g!=="Object"&&g!=="Error"&&as(C||"",g)===-1&&(C=g+": "+C),C||""}function nl(d){try{if(vr(d))return"hasFullStack"in d&&"typeName"in d}catch{}return!1}function Ec(d){try{if(vr(d))return"ver"in d&&"exceptions"in d&&"properties"in d}catch{}return!1}function lf(d){return d&&d.src&&Kt(d.src)&&d.obj&&hr(d.obj)}function no(d){var g=d||"";Kt(g)||(Kt(g[To])?g=g[To]:g=""+g);var C=g[Gu](`
`);return{src:g,obj:C}}function xv(d){for(var g=[],C=d[Gu](`
`),R=0;R<C[rn];R++){var $=C[R];C[R+1]&&($+="@"+C[R+1],R++),g.push($)}return{src:d,obj:g}}function ed(d){var g=null;if(d)try{if(d[To])g=no(d[To]);else if(d[va]&&d[va][To])g=no(d[va][To]);else if(d.exception&&d.exception[To])g=no(d.exception[To]);else if(lf(d))g=d;else if(lf(d[ha]))g=d[ha];else if(_r()&&_r().opera&&d[Zf])g=xv(d[Wa]);else if(d.reason&&d.reason[To])g=no(d.reason[To]);else if(Kt(d))g=no(d);else{var C=d[Zf]||d[kv]||"";Kt(d[uf])&&(C&&(C+=`
`),C+=" from "+d[uf]),C&&(g=no(C))}}catch(R){g=no(R)}return g||{src:"",obj:null}}function Fv(d){var g="";return d&&(d.obj?vn(d.obj,function(C){g+=C+`
`}):g=d.src||""),g}function pa(d){var g,C=d.obj;if(C&&C[rn]>0){g=[];var R=0,$=0;vn(C,function(Ht){var wn=Ht[gc]();if(gs.regex.test(wn)){var yt=new gs(wn,R++);$+=yt[Os],g.push(yt)}});var ne=32*1024;if($>ne)for(var ce=0,pe=g[rn]-1,Oe=0,Je=ce,Nt=pe;ce<pe;){var pn=g[ce][Os],an=g[pe][Os];if(Oe+=pn+an,Oe>ne){var bn=Nt-Je+1;g.splice(Je,bn);break}Je=ce,Nt=pe,ce++,pe--}}return g}function ff(d){var g="";if(d&&(g=d.typeName||d[yo]||"",!g))try{var C=/function (.{1,200})\(/,R=C.exec(d.constructor[gc]());g=R&&R[rn]>1?R[1]:""}catch{}return g}function su(d){if(d)try{if(!Kt(d)){var g=ff(d),C=Zt(d,!1);return(!C||C==="{}")&&(d[va]&&(d=d[va],g=ff(d)),C=Zt(d,!0)),as(C,g)!==0&&g!=="String"?g+":"+C:C}}catch{}return""+(d||"")}var td=function(){function d(g,C,R,$,ne,ce){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var pe=this;pe.ver=2,Ec(C)?(pe[zf]=C[zf]||[],pe[So]=C[So],pe[_c]=C[_c],C[Qc]&&(pe[Qc]=C[Qc]),C.id&&(pe.id=C.id),C[Ga]&&(pe[Ga]=C[Ga]),er(C[Wf])||(pe[Wf]=C[Wf])):(R||(R={}),pe[zf]=[new df(g,C,R)],pe[So]=Xa(g,R),pe[_c]=Sc(g,$),ne&&(pe[Qc]=ne),ce&&(pe.id=ce))}return d.CreateAutoException=function(g,C,R,$,ne,ce,pe,Oe){var Je,Nt=ff(ne||ce||g);return Je={},Je[Wa]=Bd(g,Nt),Je.url=C,Je.lineNumber=R,Je.columnNumber=$,Je.error=su(ne||ce||g),Je.evt=su(ce||g),Je[ps]=Nt,Je.stackDetails=ed(pe||ne||ce),Je.errorSrc=Oe,Je},d.CreateFromInterface=function(g,C,R,$){var ne=C[zf]&&lo(C[zf],function(pe){return df[Xu](g,pe)}),ce=new d(g,qs(qs({},C),{exceptions:ne}),R,$);return ce},d.prototype.toInterface=function(){var g,C=this,R=C.exceptions,$=C.properties,ne=C.measurements,ce=C.severityLevel,pe=C.problemGroup,Oe=C.id,Je=C.isManual,Nt=R instanceof Array&&lo(R,function(pn){return pn.toInterface()})||void 0;return g={ver:"4.0"},g[zf]=Nt,g.severityLevel=ce,g.properties=$,g.measurements=ne,g.problemGroup=pe,g.id=Oe,g.isManual=Je,g},d.CreateSimpleException=function(g,C,R,$,ne,ce){var pe;return{exceptions:[(pe={},pe[Ba]=!0,pe.message=g,pe.stack=ne,pe.typeName=C,pe)]}},d.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",d.dataType="ExceptionData",d.formatError=su,d}(),df=function(){function d(g,C,R){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var $=this;if(nl(C))$[ps]=C[ps],$[Wa]=C[Wa],$[To]=C[To],$[Qo]=C[Qo]||[],$[Ba]=C[Ba];else{var ne=C,ce=ne&&ne.evt;Kn(ne)||(ne=ne[va]||ce||ne),$[ps]=Do(g,ff(ne))||Hs,$[Wa]=Va(g,Bd(C||ne,$[ps]))||Hs;var pe=C[ha]||ed(C);$[Qo]=pa(pe),hr($[Qo])&&lo($[Qo],function(Oe){Oe[Ju]=Do(g,Oe[Ju]),Oe[Zc]=Do(g,Oe[Zc])}),$[To]=Kf(g,Fv(pe)),$.hasFullStack=hr($.parsedStack)&&$.parsedStack[rn]>0,R&&(R[ps]=R[ps]||$[ps])}}return d.prototype.toInterface=function(){var g,C=this,R=C[Qo]instanceof Array&&lo(C[Qo],function(ne){return ne.toInterface()}),$=(g={id:C.id,outerId:C.outerId,typeName:C[ps],message:C[Wa],hasFullStack:C[Ba],stack:C[To]},g[Qo]=R||void 0,g);return $},d.CreateFromInterface=function(g,C){var R=C[Qo]instanceof Array&&lo(C[Qo],function(ne){return gs[Xu](ne)})||C[Qo],$=new d(g,qs(qs({},C),{parsedStack:R}));return $},d}(),gs=function(){function d(g,C){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var R=this;if(R[Os]=0,typeof g=="string"){var $=g;R[Jl]=C,R[Qu]=Gp,R[Ju]=Zs($),R[Zc]="",R[Ql]=0;var ne=$.match(d.regex);ne&&ne[rn]>=5&&(R[Qu]=Zs(ne[2])||R[Qu],R[Zc]=Zs(ne[4]),R[Ql]=parseInt(ne[5])||0)}else R[Jl]=g[Jl],R[Qu]=g[Qu],R[Ju]=g[Ju],R[Zc]=g[Zc],R[Ql]=g[Ql],R[Os]=0;R.sizeInBytes+=R.method[rn],R.sizeInBytes+=R.fileName[rn],R.sizeInBytes+=R.assembly[rn],R[Os]+=d.baseSize,R.sizeInBytes+=R.level.toString()[rn],R.sizeInBytes+=R.line.toString()[rn]}return d.CreateFromInterface=function(g){return new d(g,null)},d.prototype.toInterface=function(){var g=this;return{level:g[Jl],method:g[Qu],assembly:g[Ju],fileName:g[Zc],line:g[Ql]}},d.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,d.baseSize=58,d}(),Za=function(){function d(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return d}(),mh=function(){function d(g,C,R,$,ne,ce,pe,Oe,Je){this.aiDataContract={ver:1,metrics:1,properties:0};var Nt=this;Nt.ver=2;var pn=new Za;pn[Bu]=$>0?$:void 0,pn.max=isNaN(ce)||ce===null?void 0:ce,pn.min=isNaN(ne)||ne===null?void 0:ne,pn[yo]=Do(g,C)||Hs,pn.value=R,pn.stdDev=isNaN(pe)||pe===null?void 0:pe,Nt.metrics=[pn],Nt[So]=Xa(g,Oe),Nt[_c]=Sc(g,Je)}return d.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",d.dataType="MetricData",d}(),ga="";function Vd(d,g){return g===void 0&&(g=!1),d==null?g:d.toString()[za]()==="true"}function ma(d){(isNaN(d)||d<0)&&(d=0),d=Math.round(d);var g=ga+d%1e3,C=ga+Math.floor(d/1e3)%60,R=ga+Math.floor(d/(1e3*60))%60,$=ga+Math.floor(d/(1e3*60*60))%24,ne=Math.floor(d/(1e3*60*60*24));return g=g[rn]===1?"00"+g:g[rn]===2?"0"+g:g,C=C[rn]<2?"0"+C:C,R=R[rn]<2?"0"+R:R,$=$[rn]<2?"0"+$:$,(ne>0?ne+".":ga)+$+":"+R+":"+C+"."+g}function _h(d,g){var C=null;return vn(d,function(R){if(R.identifier===g)return C=R,-1}),C}function Xd(d,g,C,R,$){return!$&&Kt(d)&&(d==="Script error."||d==="Script error")}var _a=function(){function d(g,C,R,$,ne,ce,pe){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Oe=this;Oe.ver=2,Oe.id=ef(g,pe),Oe.url=$d(g,R),Oe[yo]=Do(g,C)||Hs,isNaN($)||(Oe[yc]=ma($)),Oe[So]=Xa(g,ne),Oe[_c]=Sc(g,ce)}return d.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",d.dataType="PageviewData",d}(),yh=function(){function d(g,C,R,$,ne,ce,pe,Oe,Je,Nt,pn,an){Je===void 0&&(Je="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var bn=this;bn.ver=2,bn.id=C,bn[yc]=ma(ne),bn.success=ce,bn.resultCode=pe+"",bn.type=Do(g,Je);var Ht=nu(g,R,Oe,$);bn.data=$d(g,$)||Ht.data,bn.target=Do(g,Ht.target),Nt&&(bn.target="".concat(bn.target," | ").concat(Nt)),bn[yo]=Do(g,Ht[yo]),bn[So]=Xa(g,pn),bn[_c]=Sc(g,an)}return d.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",d.dataType="RemoteDependencyData",d}(),Sh=function(){function d(g,C,R,$,ne){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var ce=this;ce.ver=2,C=C||Hs,ce[Wa]=Va(g,C),ce[So]=Xa(g,$),ce[_c]=Sc(g,ne),R&&(ce[Qc]=R)}return d.envelopeType="Microsoft.ApplicationInsights.{0}.Message",d.dataType="MessageData",d}(),Lv=function(){function d(g,C,R,$,ne,ce,pe){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Oe=this;Oe.ver=2,Oe.url=$d(g,R),Oe[yo]=Do(g,C)||Hs,Oe[So]=Xa(g,ne),Oe[_c]=Sc(g,ce),pe&&(Oe.domProcessing=pe.domProcessing,Oe[yc]=pe[yc],Oe.networkConnect=pe.networkConnect,Oe.perfTotal=pe.perfTotal,Oe[eu]=pe[eu],Oe.sentRequest=pe.sentRequest)}return d.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",d.dataType="PageviewPerformanceData",d}(),bc=function(){function d(g,C){this.aiDataContract={baseType:1,baseData:1},this.baseType=g,this.baseData=C}return d}(),vf=Hc({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Dh=function(){function d(){}return d.getConfig=function(g,C,R,$){$===void 0&&($=!1);var ne;return R&&g[Vu]&&g[Vu][R]&&!er(g[Vu][R][C])?ne=g[Vu][R][C]:ne=g[C],er(ne)?$:ne},d}();function wc(d){var g="ai."+d+".";return function(C){return g+C}}var Eo=wc("application"),ti=wc("device"),Ws=wc("location"),nd=wc("operation"),ya=wc("session"),Rc=wc("user"),ms=wc("cloud"),rd=wc("internal"),Jd=function(d){zc(g,d);function g(){return d.call(this)||this}return g}(ku({applicationVersion:Eo("ver"),applicationBuild:Eo("build"),applicationTypeId:Eo("typeId"),applicationId:Eo("applicationId"),applicationLayer:Eo("layer"),deviceId:ti("id"),deviceIp:ti("ip"),deviceLanguage:ti("language"),deviceLocale:ti("locale"),deviceModel:ti("model"),deviceFriendlyName:ti("friendlyName"),deviceNetwork:ti("network"),deviceNetworkName:ti("networkName"),deviceOEMName:ti("oemName"),deviceOS:ti("os"),deviceOSVersion:ti("osVersion"),deviceRoleInstance:ti("roleInstance"),deviceRoleName:ti("roleName"),deviceScreenResolution:ti("screenResolution"),deviceType:ti("type"),deviceMachineName:ti("machineName"),deviceVMName:ti("vmName"),deviceBrowser:ti("browser"),deviceBrowserVersion:ti("browserVersion"),locationIp:Ws("ip"),locationCountry:Ws("country"),locationProvince:Ws("province"),locationCity:Ws("city"),operationId:nd("id"),operationName:nd("name"),operationParentId:nd("parentId"),operationRootId:nd("rootId"),operationSyntheticSource:nd("syntheticSource"),operationCorrelationVector:nd("correlationVector"),sessionId:ya("id"),sessionIsFirst:ya("isFirst"),sessionIsNew:ya("isNew"),userAccountAcquisitionDate:Rc("accountAcquisitionDate"),userAccountId:Rc("accountId"),userAgent:Rc("userAgent"),userId:Rc("id"),userStoreRegion:Rc("storeRegion"),userAuthUserId:Rc("authUserId"),userAnonymousUserAcquisitionDate:Rc("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Rc("authUserAcquisitionDate"),cloudName:ms("name"),cloudRole:ms("role"),cloudRoleVer:ms("roleVer"),cloudRoleInstance:ms("roleInstance"),cloudEnvironment:ms("environment"),cloudLocation:ms("location"),cloudDeploymentUnit:ms("deploymentUnit"),internalNodeName:rd("nodeName"),internalSdkVersion:rd("sdkVersion"),internalAgentVersion:rd("agentVersion"),internalSnippet:rd("snippet"),internalSdkSrc:rd("sdkSrc")}));function Ch(d,g,C,R,$,ne){var ce;C=Do(R,C)||Hs,(er(d)||er(g)||er(C))&&mr("Input doesn't contain all required fields");var pe="";d[Bl]&&(pe=d[Bl],delete d[Bl]);var Oe=(ce={},ce[yo]=C,ce.time=yr(new Date),ce.iKey=pe,ce.ext=ne||{},ce.tags=[],ce.data={},ce.baseType=g,ce.baseData=d,ce);return er($)||Pr($,function(Je,Nt){Oe.data[Je]=Nt}),Oe}var Av=function(){function d(){}return d.create=Ch,d}(),rl={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},id=new Jd;function up(d){var g=null;if(At(Event))g=new Event(d);else{var C=gi();C&&C.createEvent&&(g=C.createEvent("Event"),g.initEvent(d,!0,!0))}return g}var Th="AppInsightsPropertiesPlugin",Eh="AppInsightsChannelPlugin",lp="ApplicationInsightsAnalytics";t.AnalyticsPluginIdentifier=lp,t.BreezeChannelIdentifier=Eh,t.ConfigurationManager=Dh,t.ConnectionStringParser=af,t.ContextTagKeys=Jd,t.CtxTagKeys=id,t.DEFAULT_BREEZE_ENDPOINT=hs,t.DEFAULT_BREEZE_PATH=Gl,t.Data=bc,t.DisabledPropertyName=Kl,t.DistributedTracingModes=zs,t.Envelope=cf,t.Event=cp,t.Exception=td,t.Extensions=rl,t.HttpMethod=qo,t.Metric=mh,t.PageView=_a,t.PageViewPerformance=Lv,t.ProcessLegacy=Ya,t.PropertiesPluginIdentifier=Th,t.RemoteDependencyData=yh,t.RequestHeaders=Hf,t.SampleRate=eo,t.SeverityLevel=vf,t.TelemetryItemCreator=Av,t.ThrottleMgr=Kp,t.Trace=Sh,t.correlationIdCanIncludeCorrelationHeader=Xf,t.correlationIdGetCorrelationContext=Wp,t.correlationIdGetCorrelationContextValue=la,t.correlationIdGetPrefix=zp,t.correlationIdSetPrefix=Vf,t.createDistributedTraceContextFromTrace=nf,t.createDomEvent=up,t.createTelemetryItem=Ch,t.createTraceParent=ui,t.dataSanitizeException=Kf,t.dataSanitizeId=ef,t.dataSanitizeInput=Gf,t.dataSanitizeKey=hh,t.dataSanitizeKeyAndAddUniqueness=Zl,t.dataSanitizeMeasurements=Sc,t.dataSanitizeMessage=Va,t.dataSanitizeProperties=Xa,t.dataSanitizeString=Do,t.dataSanitizeUrl=$d,t.dateTimeUtilsDuration=Nv,t.dateTimeUtilsNow=tf,t.dsPadNumber=Uo,t.findW3cTraceParent=Wl,t.formatTraceParent=Iv,t.getExtensionByName=_h,t.isBeaconApiSupported=Wr,t.isCrossOriginError=Xd,t.isInternalApplicationInsightsEndpoint=Kd,t.isSampledFlag=pc,t.isValidSpanId=Wu,t.isValidTraceId=zl,t.isValidTraceParent=Ku,t.msToTimeSpan=ma,t.parseConnectionString=Co,t.parseTraceParent=$a,t.strNotSpecified=Hs,t.stringToBoolOrDefault=Vd,t.urlGetAbsoluteUrl=Zu,t.urlGetCompleteUrl=ph,t.urlGetPathName=tu,t.urlParseFullHost=Qa,t.urlParseHost=ip,t.urlParseUrl=Ja,t.utlCanUseLocalStorage=ou,t.utlCanUseSessionStorage=da,t.utlDisableStorage=iu,t.utlEnableStorage=op,t.utlGetLocalStorage=sp,t.utlGetSessionStorage=tl,t.utlGetSessionStorageKeys=Jf,t.utlRemoveSessionStorage=Qf,t.utlRemoveStorage=Tc,t.utlSetLocalStorage=rf,t.utlSetSessionStorage=of,t.utlSetStoragePrefix=Ov})});var ab=Ie((N_,sb)=>{(function(t,e){typeof N_=="object"&&typeof sb<"u"?e(N_):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e((t.Microsoft=t.Microsoft||{},t.Microsoft.ApplicationInsights=t.Microsoft.ApplicationInsights||{})))})(N_,function(t){"use strict";var e=void 0,n=null,r="",o="boolean",f="function",h="number",_="object",T="prototype",N="__proto__",A="string",U="undefined",H="constructor",te="Symbol",Y="_polyfill",ye="indexOf",Ce="length",qe="done",_e="value",he="name",$e="slice",Qe=Object,Et=Qe[T],Ge=String,pt=Ge[T],Ft=Math,zn=Array,Vt=zn[T];function Nn(i,a){var u=a;try{u=i()}catch{}return u}var Zr=[A,h,o,U,"symbol","bigint"];function Wn(i){return function(a){return typeof a===i}}function er(i){var a="[object "+i+"]";return function(u){return!!(u&&Ii(u)===a)}}function Ii(i){return Et.toString.call(i)}function Kt(i){return typeof i===U||i===U}function At(i){return i===n||Kt(i)}function vr(i){return i===n||!hr(i)}function hr(i){return!!i||i!==e}var co=function(i){return i!==_&&Zr.indexOf(i)!==-1},Kn=Wn(A),or=Wn(f);function Bt(i){return!i&&At(i)?!1:!!i&&typeof i===_}var dt=zn.isArray,si=er("Date"),Pr=Wn(h),Ss=Wn(o),mr=er("Error");function jt(i){return!!i&&or(i.then)}function Ir(i){return!(!i||Nn(function(){return!(i&&0+i)},!i))}var _t=Qe.getOwnPropertyDescriptor;function ei(i,a){return i&&Et.hasOwnProperty.call(i,a)}var yi=Qe.hasOwn||ko;function ko(i,a){return ei(i,a)||!!_t(i,a)}function Gn(i,a,u){if(i&&Bt(i)){for(var v in i)if(yi(i,v)&&a.call(u||i,v,i[v])===-1)break}}function zi(i,a,u,v){var y={};return Gn(i,function(w,k){y[w]=a?k:w,y[k]=u?k:w}),v(y)}function dr(i){throw new Error(i)}function sr(i){throw new TypeError(i)}var Ni=Qe.freeze,fn=function(i){return i},Yr=function(i){return i[N]||n},Vr=Qe.assign;function Vn(i){return(!Bt(i)||i===n)&&sr("objKeys called on non-object"),Qe.keys(i)}function xo(i){return Ni&&Gn(i,function(a,u){(dt(u)||Bt(u))&&Ni(u)}),Xr(i)}var Xr=Ni||fn,Xn=Qe.getPrototypeOf||Yr;function pi(i){return zi(i,1,0,xo)}function X(i){return zi(i,0,0,xo)}function Me(i){var a={};return Gn(i,function(u,v){a[u]=v[1],a[v[0]]=v[1]}),xo(a)}function ot(i){return Me(i)}var Tt=X({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),yn=Ge,Fn="__tsUtils$gblCfg",En;function tr(){var i;return typeof globalThis!==U&&(i=globalThis),!i&&typeof self!==U&&(i=self),!i&&typeof window!==U&&(i=window),!i&&typeof global!==U&&(i=global),i}function mn(){if(!En){var i=tr()||{};En=i[Fn]=i[Fn]||{}}return En}function Lt(i,a){var u=r;if(mr(i))u="{ stack: '"+i.stack+"', message: '"+i.message+"', name: '"+i.name+"'";else try{u=JSON.stringify(i,n,a?Pr(a)?a:4:e)}catch(v){u=" - "+Lt(v,a)}return Ii(i)+": "+u}var Ln=Vt[$e],$t=function(i,a){sr("'"+yn(i)+"' not defined for "+Lt(a))},Jr=function(i){return function(a){return a[i].apply(a,Ln.call(arguments,1))}},Mr=function(i,a){var u=a&&a[i];return function(v){var y=v&&v[i]||u;if(y)return y.apply(v,Ln.call(arguments,1));$t(i,v)}},Ds=function(i,a,u){var v=a&&a[i];return function(y){var w=y&&y[i]||v;if(w||u){var k=arguments;return(w||u).apply(y,w?Ln.call(k,1):k)}$t(i,y)}};function uo(i){return function(a){return a[i]}}var O=Ft.max,Ee=Mr($e,pt),Dt=Mr("substring",pt),en=Ds("substr",pt,oe);function oe(i,a,u){return At(i)&&sr("'polyStrSubstr called with invalid "+Lt(i)),u<0?r:(a=a||0,a<0&&(a=O(a+i[Ce],0)),Kt(u)?Ee(i,a):Ee(i,a,a+u))}function x(i,a){return Dt(i,0,a)}var J="_urid",Q;function j(){if(!Q){var i=mn();Q=i.gblSym=i.gblSym||{k:{},s:{}}}return Q}var I={};function le(i){var a={description:yn(i),toString:function(){return te+"("+i+")"}};return a[Y]=!0,a}function He(i){var a=j();if(!yi(a.k,i)){var u=le(i),v=Vn(a.s).length;u[J]=function(){return v+"_"+u.toString()},a.k[i]=u,a.s[u[J]()]=yn(i)}return a.k[i]}function tn(i){var a,u=Tt[i];return u&&(a=I[u]=I[u]||le(te+"."+u)),a}var pr={e:"enumerable",c:"configurable",v:_e,w:"writable",g:"get",s:"set"};function ar(i){var a={};if(a[pr.c]=!0,a[pr.e]=!0,i.l){a.get=function(){return i.l.v};var u=_t(i.l,"v");u&&u.set&&(a.set=function(v){i.l.v=v})}return Gn(i,function(v,y){a[pr[v]]=Kt(y)?a[pr[v]]:y}),a}var gi=Qe.defineProperty;function gr(i,a,u){return gi(i,a,ar(u))}var _r,dn=function(){_r=mn(),dn=n};function ai(i){var a={};return dn&&dn(),a.b=_r.lzy,gi(a,"v",{configurable:!0,get:function(){var u=i();return _r.lzy||(gi(a,"v",{value:u}),a.b&&delete a.b),_r.lzy&&a.b!==_r.lzy&&(a.b=_r.lzy),u}}),a}function D(i,a){return ai(function(){return Nn(i,a)})}var ee="window",Fe,It,Nr,Lr,nn,Sn=function(i){return D(function(){return Ar(i)||e},e)},vn=function(i){return(!Fe||i===!1||_r&&_r.lzy&&!Fe.b)&&(Fe=D(tr,n)),Fe.v},Ar=function(i,a){var u=!Fe||a===!1?vn(a):Fe.v;return u&&u[i]?u[i]:i===ee&&It?It.v:n},lo=function(){return!!Go()},Go=function(){return(!Nr||_r&&_r.lzy&&!Nr.b)&&(Nr=Sn("document")),Nr.v},Si=function(){return!!ss()},ss=function(){return(!It||_r&&_r.lzy&&!It.b)&&(It=Sn(ee)),It.v},Xs=function(){return!!Js()},Js=function(){return(!Lr||_r&&_r.lzy&&!Lr.b)&&(Lr=Sn("navigator")),Lr.v},Uc=function(){return!nn&&(nn=D(function(){return!!(process&&(process.versions||{}).node)},!1)),nn.v},Bi,Bo,Dl;function Or(i){return D(function(){return Bi.v?Bi.v[i]:e},e)}function Cl(){return!!Cs()}function Cs(){var i=!Bi||_r&&_r.lzy&&!Bi.b;return i&&(Bi=Sn(te)),(!Bo||i)&&(Bo=Or("for")),(!Dl||i)&&(Dl=Or("keyFor")),Bi.v}function Tl(i,a){var u=Tt[i];return(!Bi||_r.lzy&&!Bi.b)&&Cs(),Bi.v?Bi.v[u||i]:a?e:tn(i)}function nc(i,a){return(!Bi||_r.lzy&&!Bi.b)&&Cs(),Bi.v?Bi.v(i):a?n:le(i)}function El(i){return(!Bo||_r.lzy&&!Bi.b)&&Cs(),(Bo.v||He)(i)}function Qs(i){return!!i&&or(i.next)}function Zs(i){return!vr(i)&&or(i[Tl(3)])}var jc;function Ed(i,a,u){if(i&&(Qs(i)||(!jc&&(jc=ai(function(){return Tl(3)})),i=i[jc.v]?i[jc.v]():null),Qs(i))){var v=void 0,y=void 0;try{for(var w=0;!(y=i.next())[qe]&&a.call(u||i,y[_e],w,i)!==-1;)w++}catch(k){v={e:k},i.throw&&(y=null,i.throw(v))}finally{try{y&&!y[qe]&&i.return&&i.return(y)}finally{if(v)throw v.e}}}}var Oi=Jr("apply");function Fo(i,a){return!Kt(a)&&i&&(dt(a)?Oi(i.push,i,a):Qs(a)||Zs(a)?Ed(a,function(u){i.push(u)}):i.push(a)),i}function hn(i,a,u){if(i)for(var v=i[Ce]>>>0,y=0;y<v&&!(y in i&&a.call(u||i,i[y],y,i)===-1);y++);}var fo=Mr(ye,Vt),Pf=Mr("map",Vt),Jn=Mr($e,Vt),as=Jr("call"),ea=Mr("reduce",Vt),bd=Qe.create,If=bd||oh;function oh(i){if(!i)return{};var a=typeof i;if(a!==_&&a!==f)throw new TypeError("Prototype must be an Object or function: "+Lt(i));function u(){}return u[T]=i,new u}var Nf;function _v(i,a){var u=Qe.setPrototypeOf||function(v,y){!Nf&&(Nf=ai(function(){var w;return w={},w[N]=[],w instanceof Array})),Nf.v?v[N]=y:Gn(y,function(w,k){return v[w]=k})};return u(i,a)}var bl=function(i,a,u){Bn(a,i),a=_v(a,u);function v(){this.constructor=a,Bn(this,i)}return a[T]=u===n?If(u):(v[T]=u[T],new v),a},Hc=function(i,a){try{a&&(i[he]=a)}catch{}},Bn=function(i,a){try{gr(i,he,{v:a,c:!0,e:!1})}catch{}};function Vi(i,a,u){var v=u||Error,y=v[T][he],w=Error.captureStackTrace;return bl(i,function(){var k=this;try{Hc(v,i);var M=Oi(v,k,Jn(arguments))||k;if(M!==k){var K=Xn(k);K!==Xn(M)&&_v(M,K)}return w&&w(M,k[H]),a&&a(M,arguments),M}finally{Hc(v,y)}},v)}function $c(){return(Date.now||zr)()}function zr(){return new Date().getTime()}function Of(i){return function(u){return At(u)&&sr("strTrim called ["+Lt(u)+"]"),u&&u.replace&&(u=u.replace(i,r)),u}}var sh=Of(/^\s+|(?=\s)\s+$/g),Vo=Ds("trim",pt,sh),Ms,wl,Su;function qi(i){if(!i||typeof i!==_)return!1;Su||(Su=Si()?ss():!0);var a=!1;if(i!==Su){wl||(Ms=Function[T].toString,wl=as(Ms,Qe));try{var u=Xn(i);a=!u,a||(ei(u,H)&&(u=u[H]),a=u&&typeof u===f&&Ms.call(u)===wl)}catch{}}return a}var Du=function(i){return i.value&&cs(i),!0},ta=[Rd,cs,ah,np];function $p(i,a,u,v){var y;return hn(i,function(w){if(w.k===a)return y=w,-1}),y||(y={k:a,v:a},i.push(y),v(y)),y.v}function wd(i,a,u,v){var y=u.handler,w=u.path?v?u.path.concat(v):u.path:[],k={handler:u.handler,src:u.src,path:w},M=typeof a,K=!1,V=!1;a&&M===_?K=qi(a):V=a===n||co(M);var se={type:M,isPrim:V,isPlain:K,value:a,result:a,path:w,origin:u.src,copy:function(we,Ae){return wd(i,we,Ae?k:u,Ae)},copyTo:function(we,Ae){return yv(i,we,Ae,k)}};return se.isPrim?y&&as(y,u,se)?se.result:a:$p(i,a,w,function(we){gr(se,"result",{g:function(){return we.v},s:function(ge){we.v=ge}});for(var Ae=0,Te=y;!as(Te||(Ae<ta.length?ta[Ae++]:Du),u,se);)Te=n})}function yv(i,a,u,v){if(!At(u))for(var y in u)a[y]=wd(i,u[y],v,y);return a}function kf(i,a,u){var v={handler:u,src:a,path:[]};return yv([],i,a,v)}function Cu(i,a){var u={handler:a,src:i};return wd([],i,u)}function Rd(i){var a=i.value;if(dt(a)){var u=i.result=[];return u.length=a.length,i.copyTo(u,a),!0}return!1}function np(i){var a=i.value;return si(a)?(i.result=new Date(a.getTime()),!0):!1}function ah(i){return i.type===f}function cs(i){var a=i.value;if(a&&i.isPlain){var u=i.result={};return i.copyTo(u,a),!0}return!1}function xf(i,a){return hn(a,function(u){kf(i,u)}),i}function Pd(i,a,u,v,y,w,k){return xf(Cu(i)||{},Jn(arguments))}var ch=uo(Ce),Lo=Ds("endsWith",pt,Yp);function Yp(i,a,u){Kn(i)||sr("'"+Lt(i)+"' is not a string");var v=Kn(a)?a:yn(a),y=v[Ce],w=i[Ce],k=!Kt(u)&&u<w?u:w;return Dt(i,k-y,k)===v}var rc=Mr(ye,pt),Tu="ref",us="un"+Tu,Yc="hasRef",Id="enabled";function uh(i,a,u){var v,y=!0,w=i?a(n):n,k,M=function(){return y=!1,w&&w[us]&&w[us](),k},K=function(){return y=!0,w&&w[Tu]&&w[Tu](),k},V=function(){return w&&w[Yc]?w[Yc]():y},se=function(){return w=a(w),y||M(),k},we=function(){w&&u(w),w=n},Ae=function(Te){!Te&&w&&we(),Te&&!w&&se()};return k=(v={cancel:we,refresh:se},v[Yc]=V,v[Tu]=K,v[us]=M,v[Id]=!1,v),gi(k,Id,{get:function(){return!!w},set:Ae}),{h:k,dn:function(){w=n}}}function Rl(i,a,u,v){var y=dt(u),w=y?u.length:0,k=(w>0?u[0]:y?e:u)||setTimeout,M=(w>1?u[1]:e)||clearTimeout,K=v[0];v[0]=function(){V.dn(),Oi(K,i,Jn(arguments))};var V=uh(a,function(se){if(se){if(se.refresh)return se.refresh(),se;Oi(M,i,[se])}return Oi(k,i,v)},function(se){Oi(M,i,[se])});return V.h}function Pl(i,a){return Rl(this,!0,e,Jn(arguments))}function Ff(i,a){return Rl(this,!1,e,Jn(arguments))}var ic,Nd="constructor",Oa="prototype",Il="function",qs="_dynInstFuncs",Eu="_isDynProxy",zc="_dynClass",bu="_dynCls$",wu="_dynInstChk",Ao=wu,na="_dfOpts",Ru="_unknown_",Nl="__proto__",ra="_dyn"+Nl,lh="__dynProto$Gbl",Pu="_dynInstProto",Xi="useBaseInst",Ol="setInstFuncs",Lf=Object,ka=Lf.getPrototypeOf,Af=Lf.getOwnPropertyNames,Mf=vn(),Iu=Mf[lh]||(Mf[lh]={o:(ic={},ic[Ol]=!0,ic[Xi]=!0,ic),n:1e3});function Nu(i){return i&&(i===Lf[Oa]||i===Array[Oa])}function ia(i){return Nu(i)||i===Function[Oa]}function oa(i){var a;if(i){if(ka)return ka(i);var u=i[Nl]||i[Oa]||(i[Nd]?i[Nd][Oa]:null);a=i[ra]||u,ei(i,ra)||(delete i[Pu],a=i[ra]=i[Pu]||i[ra],i[Pu]=u)}return a}function xa(i,a){var u=[];if(Af)u=Af(i);else for(var v in i)typeof v=="string"&&ei(i,v)&&u.push(v);if(u&&u.length>0)for(var y=0;y<u.length;y++)a(u[y])}function Ou(i,a,u){return a!==Nd&&typeof i[a]===Il&&(u||ei(i,a))}function vo(i){sr("DynamicProto: "+i)}function fh(i){var a={};return xa(i,function(u){!a[u]&&Ou(i,u,!1)&&(a[u]=i[u])}),a}function sa(i,a){for(var u=i.length-1;u>=0;u--)if(i[u]===a)return!0;return!1}function kl(i,a,u,v){function y(K,V,se){var we=V[se];if(we[Eu]&&v){var Ae=K[qs]||{};Ae[Ao]!==!1&&(we=(Ae[V[zc]]||{})[se]||we)}return function(){return we.apply(K,arguments)}}var w={};xa(u,function(K){w[K]=y(a,u,K)});for(var k=oa(i),M=[];k&&!ia(k)&&!sa(M,k);)xa(k,function(K){!w[K]&&Ou(k,K,!ka)&&(w[K]=y(a,k,K))}),M.push(k),k=oa(k);return w}function Fa(i,a,u,v){var y=null;if(i&&ei(u,zc)){var w=i[qs]||{};if(y=(w[u[zc]]||{})[a],y||vo("Missing ["+a+"] "+Il),!y[wu]&&w[Ao]!==!1){for(var k=!ei(i,a),M=oa(i),K=[];k&&M&&!ia(M)&&!sa(K,M);){var V=M[a];if(V){k=V===v;break}K.push(M),M=oa(M)}try{k&&(i[a]=y),y[wu]=1}catch{w[Ao]=!1}}}return y}function Ui(i,a,u){var v=a[i];return v===u&&(v=oa(a)[i]),typeof v!==Il&&vo("["+i+"] is not a "+Il),v}function xl(i,a,u,v,y){function w(K,V){var se=function(){var we=Fa(this,V,K,se)||Ui(V,K,se);return we.apply(this,arguments)};return se[Eu]=1,se}if(!Nu(i)){var k=u[qs]=u[qs]||{},M=k[a]=k[a]||{};k[Ao]!==!1&&(k[Ao]=!!y),xa(u,function(K){Ou(u,K,!1)&&u[K]!==v[K]&&(M[K]=u[K],delete u[K],(!ei(i,K)||i[K]&&!i[K][Eu])&&(i[K]=w(i,K)))})}}function Wc(i,a){if(ka){for(var u=[],v=oa(a);v&&!ia(v)&&!sa(u,v);){if(v===i)return!0;u.push(v),v=oa(v)}return!1}return!0}function Fl(i,a){return ei(i,Oa)?i.name||a||Ru:((i||{})[Nd]||{}).name||a||Ru}function ki(i,a,u,v){ei(i,Oa)||vo("theClass is an invalid class definition.");var y=i[Oa];Wc(y,a)||vo("["+Fl(i)+"] not in hierarchy of ["+Fl(a)+"]");var w=null;ei(y,zc)?w=y[zc]:(w=bu+Fl(i,"_")+"$"+Iu.n,Iu.n++,y[zc]=w);var k=ki[na],M=!!k[Xi];M&&v&&v[Xi]!==void 0&&(M=!!v[Xi]);var K=fh(a),V=kl(y,a,K,M);u(a,V);var se=!!ka&&!!k[Ol];se&&v&&(se=!!v[Ol]),xl(y,w,a,K,se!==!1)}ki[na]=Iu.o;var Ll="function",qf="object",aa="undefined",oc="prototype",Ts=Object,Od=Ts[oc];(vn()||{}).Symbol,(vn()||{}).Reflect;var Al="hasOwnProperty",rp=function(i){for(var a,u=1,v=arguments.length;u<v;u++){a=arguments[u];for(var y in a)Od[Al].call(a,y)&&(i[y]=a[y])}return i},xi=Vr||rp,sc=function(i,a){return sc=Ts.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,v){u.__proto__=v}||function(u,v){for(var y in v)v[Al](y)&&(u[y]=v[y])},sc(i,a)};function Kc(i,a){typeof a!==Ll&&a!==null&&sr("Class extends value "+String(a)+" is not a constructor or null"),sc(i,a);function u(){this.constructor=i}i[oc]=a===null?If(a):(u[oc]=a[oc],new u)}function kd(i,a){for(var u=0,v=a.length,y=i.length;u<v;u++,y++)i[y]=a[u];return i}var Uf=pi,xd=ot,Es="toLowerCase",Fd="blkVal",yr="length",Gc="rdOnly",ku="notify",ac="warnToConsole",cc="throwInternal",ho="setDf",La="watch",Er="logger",Ld="apply",cr="push",Xo="splice",An="hdlr",Bc="cancel",uc="initialize",bs="identifier",Ji="isInitialized",lc="getPlugin",po="pollInternalLogs",Wr="name",Aa="time",Dn="processNext",ws="getProcessTelContext",xu="getNotifyMgr",Mo="addNotificationListener",Fu="removeNotificationListener",ls="enabled",Us="stopPollingInternalLogs",Qi="unload",Vc="onComplete",Rs="version",Lu="loggingLevelConsole",ji="createNew",Ps="teardown",fc="messageId",dc="message",Xc="isAsync",Is="diagLog",Sv="_doTeardown",js="update",go="getNext",vc="setNextPlugin",Au="userAgent",ca="split",mo="nodeType",ci="replace",_o="logInternalMessage",fs="type",Ns="handler",hc="isChildEvt",ua="getCtx",Hi="setCtx",Ml="complete",Mu="traceId",ql="spanId",Ul="traceFlags",qu;function jl(i,a){qu||(qu=Vi("AggregationError",function(v,y){y[yr]>1&&(v.errors=y[1])}));var u=i||"One or more errors occurred.";throw hn(a,function(v,y){u+=`
`.concat(y," > ").concat(Lt(v))}),new qu(u,a||[])}function Zi(i,a){return Uu(i,function(u){a&&a({value:u,rejected:!1})},function(u){a&&a({rejected:!0,reason:u})})}function Uu(i,a,u,v){var y=i;return jt(i)?(a||u)&&(y=i.then(a,u)):a&&a(i),v&&(y=Jc(y,v)),y}function Jc(i,a){var u=i;return a&&(jt(i)?i.finally?u=i.finally(a):u=i.then(function(v){return a(),v},function(v){throw a(),v}):a()),u}var Ma=["pending","resolving","resolved","rejected"],ds="dispatchEvent",jf;function Dv(i,a,u,v){var y=Go();!jf&&(jf=D(function(){var K;return y&&y.createEvent&&(K=y.createEvent("Event")),!!K&&K.initEvent},null));var w=jf.v?y.createEvent("Event"):v?new Event(a):{};if(u&&u(w),jf.v&&w.initEvent(a,!1,!0),w&&i[ds])i[ds](w);else{var k=i["on"+a];if(k)k(w);else{var M=Ar("console");M&&(M.error||M.log)(a,Lt(w))}}}var ju="Promise",Hu="unhandledRejection",Cv=Hu.toLowerCase(),Tv=10,Ev;function dh(i){return or(i)?i.toString():Lt(i)}function Hl(i,a,u){var v=Jn(arguments,3),y=0,w=!1,k,M=[],K=!1,V=null,se;!Ev&&(Ev=Sn(ju+"RejectionEvent"));var we=function(at,zt){try{K=!0,V&&V.cancel(),V=null;var rr=i(function(di,$o){M.push(function(){try{var oo=y===2?at:zt,Ea=Kt(oo)?k:or(oo)?oo(k):oo;jt(Ea)?Ea.then(di,$o):oo?di(Ea):y===3?$o(Ea):di(Ea)}catch(Fs){$o(Fs)}}),w&&st()},v);return rr}finally{}},Ae=function(at){return we(void 0,at)},Te=function(at){var zt=at,rr=at;return or(at)&&(zt=function(di){return at&&at(),di},rr=function(di){throw at&&at(),di}),we(zt,rr)},ge=function(){return Ma[y]},st=function(){if(M.length>0){var at=M.slice();M=[],K=!0,a(at),V&&V.cancel(),V=null}},Ye=function(at,zt){return function(rr){if(y===zt){if(at===2&&jt(rr)){y=1,rr.then(Ye(2,1),Ye(3,1));return}y=at,w=!0,k=rr,st(),!K&&at===3&&!V&&(V=Pl(lt,Tv))}}},lt=function(){if(!K)if(Uc())process.emit(Hu,k,se);else{var at=ss()||vn();Dv(at,Cv,function(zt){return gr(zt,"promise",{g:function(){return se}}),zt.reason=k,zt},!!Ev.v)}};se={then:we,catch:Ae,finally:Te},gi(se,"state",{get:ge}),Cl()&&(se[Tl(11)]="IPromise");var tt=function(){return"IPromise "+ge()+(w?" - "+dh(k):"")};return se.toString=tt,function(){or(u)||sr(ju+": executor is not a function - "+dh(u));var zt=Ye(3,0);try{u.call(se,Ye(2,0),zt)}catch(rr){zt(rr)}}(),se}function Ad(i){return function(a){var u=Jn(arguments,1);return i(function(v,y){try{var w=[],k=1;hn(a,function(M,K){M&&(k++,Uu(M,function(V){w[K]=V,--k===0&&v(w)},y))}),k--,k===0&&v(w)}catch(M){y(M)}},u)}}var bv=function(i){hn(i,function(a){try{a()}catch{}})};function wv(i){var a=Pr(i)?i:0;return function(u){Pl(function(){bv(u)},a)}}function $l(i,a){return Hl($l,wv(a),i,a)}var $u;function vh(i,a){!$u&&($u=Sn(ju));var u=$u.v;if(!u)return $l(i);or(i)||sr(ju+": executor is not a function - "+Lt(i));var v=0;function y(){return Ma[v]}var w=new u(function(k,M){function K(se){v=2,k(se)}function V(se){v=3,M(se)}i(K,V)});return gi(w,"state",{get:y}),w}var Rv;function Yu(i,a){return!Rv&&(Rv=ai(function(){return vh})),Rv.v.call(this,i,a)}var Md=Ad(Yu),qa=void 0,Sr="",Yl="channels",kr="core",Pv="createPerfMgr",qd="disabled",Ua="extensionConfig",zu="extensions",Jo="processTelemetry",ja="priority",Ha="eventsSent",Ei="eventsDiscarded",Mn="eventsSendRequest",vs="perfEvent",ui="getPerfMgr",$a="domain",zl="path",Wu="Not dynamic - ",Ku=/-([a-z])/g,pc=/([^\w\d_$])/g,Iv=/^(\d+[\w\d_$])/;function Wl(i){return!At(i)}function Kl(i){var a=i;return a&&Kn(a)&&(a=a[ci](Ku,function(u,v){return v.toUpperCase()}),a=a[ci](pc,"_"),a=a[ci](Iv,function(u,v){return"_"+v})),a}function eo(i,a){return i&&a?rc(i,a)!==-1:!1}function Ya(i){return i&&i.toISOString()||""}function qo(i){return mr(i)?i[Wr]:Sr}function hs(i,a,u,v,y){var w=u;return i&&(w=i[a],w!==u&&(!y||y(w))&&(!v||v(u))&&(w=u,i[a]=w)),w}function Gl(i,a,u){var v;return i?(v=i[a],!v&&At(v)&&(v=Kt(u)?{}:u,i[a]=v)):v=Kt(u)?{}:u,v}function Hs(i,a){var u=null,v=null;return or(i)?u=i:v=i,function(){var y=arguments;if(u&&(v=u()),v)return v[a][Ld](v,y)}}function Bl(i,a,u,v,y){i&&a&&u&&(y!==!1||Kt(i[a]))&&(i[a]=Hs(u,v))}function Hf(i,a,u,v){return i&&a&&Bt(i)&&dt(u)&&hn(u,function(y){Kn(y)&&Bl(i,y,a,y,v)}),i}function Gu(i){return function(){function a(){var u=this;i&&Gn(i,function(v,y){u[v]=y})}return a}()}function rn(i){return i&&Vr&&(i=Ts(Vr({},i))),i}function za(i,a,u,v,y,w){var k=arguments,M=k[0]||{},K=k[yr],V=!1,se=1;for(K>0&&Ss(M)&&(V=M,M=k[se]||{},se++),Bt(M)||(M={});se<K;se++){var we=k[se],Ae=dt(we),Te=Bt(we);for(var ge in we){var st=Ae&&ge in we||Te&&yi(we,ge);if(st){var Ye=we[ge],lt=void 0;if(V&&Ye&&((lt=dt(Ye))||qi(Ye))){var tt=M[ge];lt?dt(tt)||(tt=[]):qi(tt)||(tt={}),Ye=za(V,tt,Ye)}Ye!==void 0&&(M[ge]=Ye)}}}return M}var bi="documentMode",gc="location",Ud="console",yo="JSON",Wa="crypto",Bu="msCrypto",jd="msie",$s="trident/",$f="XMLHttpRequest",Vl=null,Hd=null,Yf=!1,Ka=null,mc=null;function Xl(i,a){var u=!1;if(i){try{if(u=a in i,!u){var v=i[oc];v&&(u=a in v)}}catch{}if(!u)try{var y=new i;u=!Kt(y[a])}catch{}}return u}function Vu(i){if(i&&Yf){var a=Ar("__mockLocation");if(a)return a}return typeof location===qf&&location?location:Ar(gc)}function zf(){return typeof console!==aa?console:Ar(Ud)}function Qo(){return!!(typeof JSON===qf&&JSON||Ar(yo)!==null)}function So(){return Qo()?JSON||Ar(yo):null}function _c(){return Ar(Wa)}function Os(){return Ar(Bu)}function ps(){var i=Js();if(i&&(i[Au]!==Hd||Vl===null)){Hd=i[Au];var a=(Hd||Sr)[Es]();Vl=eo(a,jd)||eo(a,$s)}return Vl}function Qc(i){if(i===void 0&&(i=null),!i){var a=Js()||{};i=a?(a.userAgent||Sr)[Es]():Sr}var u=(i||Sr)[Es]();if(eo(u,jd)){var v=Go()||{};return Math.max(parseInt(u[ca](jd)[1]),v[bi]||0)}else if(eo(u,$s)){var y=parseInt(u[ca]($s)[1]);if(y)return y+4}return null}function Ga(i){return(mc===null||i===!1)&&(mc=Xs()&&!!Js().sendBeacon),mc}function Wf(i){var a=!1;try{a=!!Ar("fetch");var u=Ar("Request");a&&i&&u&&(a=Xl(u,"keepalive"))}catch{}return a}function Xu(){return Ka===null&&(Ka=typeof XDomainRequest!==aa,Ka&&Ju()&&(Ka=Ka&&!Xl(Ar($f),"withCredentials"))),Ka}function Ju(){var i=!1;try{var a=Ar($f);i=!!a}catch{}return i}var Zc=4294967296,Ba=4294967295,Jl=123456789,Qu=987654321,Ql=!1,yc=Jl,eu=Qu;function Zl(i){i<0&&(i>>>=0),yc=Jl+i&Ba,eu=Qu-i&Ba,Ql=!0}function hh(){try{var i=$c()&2147483647;Zl((Math.random()*Zc^i)+i)}catch{}}function Do(i){var a=0,u=_c()||Os();return u&&u.getRandomValues&&(a=u.getRandomValues(new Uint32Array(1))[0]&Ba),a===0&&ps()&&(Ql||hh(),a=$d()&Ba),a===0&&(a=Math.floor(Zc*Math.random()|0)),i||(a>>>=0),a}function $d(i){eu=36969*(eu&65535)+(eu>>16)&Ba,yc=18e3*(yc&65535)+(yc>>16)&Ba;var a=(eu<<16)+(yc&65535)>>>0&Ba|0;return i||(a>>>=0),a}function Va(i){i===void 0&&(i=22);for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=Do()>>>0,v=0,y=Sr;y[yr]<i;)v++,y+=a.charAt(u&63),u>>>=6,v===5&&(u=(Do()<<2&4294967295|u&3)>>>0,v=0);return y}var Kf="3.0.6",Xa="."+Va(6),Sc=0;function ef(i){return i[mo]===1||i[mo]===9||!+i[mo]}function Gf(i,a){var u=a[i.id];if(!u){u={};try{ef(a)&&gr(a,i.id,{e:!1,v:u})}catch{}}return u}function Uo(i,a){return a===void 0&&(a=!1),Kl(i+Sc+++(a?"."+Kf:Sr)+Xa)}function Ys(i){var a={id:Uo("_aiData-"+(i||Sr)+"."+Kf),accept:function(u){return ef(u)},get:function(u,v,y,w){var k=u[a.id];return k?k[Kl(v)]:(w&&(k=Gf(a,u),k[Kl(v)]=y),y)},kill:function(u,v){if(u&&u[v])try{delete u[v]}catch{}}};return a}function Bf(i){return i&&Bt(i)&&(i.isVal||i.fb||yi(i,"v")||yi(i,"mrg")||yi(i,"ref")||i.set)}function Yd(i,a,u){var v,y=u.dfVal||hr;if(a&&u.fb){var w=u.fb;dt(w)||(w=[w]);for(var k=0;k<w[yr];k++){var M=w[k],K=a[M];if(y(K)?v=K:i&&(K=i.cfg[M],y(K)&&(v=K),i.set(i.cfg,yn(M),K)),y(v))break}}return!y(v)&&y(u.v)&&(v=u.v),v}function Ja(i,a,u){var v=u;if(u&&Bf(u)&&(v=Yd(i,a,u)),v){Bf(v)&&(v=Ja(i,a,v));var y;dt(v)?(y=[],y[yr]=v[yr]):qi(v)&&(y={}),y&&(Gn(v,function(w,k){k&&Bf(k)&&(k=Ja(i,a,k)),y[w]=k}),v=y)}return v}function Zu(i,a,u,v){var y,w,k,M=v,K,V,se,we;Bf(M)?(y=M.isVal,w=M.set,se=M[Gc],we=M[Fd],K=M.mrg,V=M.ref,!V&&Kt(V)&&(V=!!K),k=Yd(i,a,M)):k=v,we&&i[Fd](a,u);var Ae,Te=!0,ge=a[u];(ge||!At(ge))&&(Ae=ge,Te=!1,y&&Ae!==k&&!y(Ae)&&(Ae=k,Te=!0),w&&(Ae=w(Ae,k,a),Te=Ae===k)),Te?k?Ae=Ja(i,a,k):Ae=k:(qi(Ae)||dt(k))&&K&&k&&(qi(k)||dt(k))&&Gn(k,function(st,Ye){Zu(i,Ae,st,Ye)}),i.set(a,u,Ae),V&&i.ref(a,u),se&&i[Gc](a,u)}var tu=El("[[ai_dynCfg_1]]"),ph=El("[[ai_blkDynCfg_1]]"),ip=El("[[ai_frcDynCfg_1]]");function Qa(i){if(i){var a;if(dt(i)?(a=[],a[yr]=i[yr]):qi(i)&&(a={}),a)return Gn(i,function(u,v){a[u]=Qa(v)}),a}return i}function zd(i){if(i){var a=i[tu]||i;if(a.cfg&&(a.cfg===i||a.cfg[tu]===a))return a}return null}function Wd(i){if(i&&(qi(i)||dt(i)))try{i[ph]=!0}catch{}return i}function Kd(i,a,u){var v=!1;return u&&!i[a.blkVal]&&(v=u[ip],!v&&!u[ph]&&(v=qi(u)||dt(u))),v}function Vf(i){sr("InvalidAccess:"+i)}var zp=["push","pop","shift","unshift","splice"],Xf=function(i,a,u,v){i&&i[cc](3,108,"".concat(u," [").concat(a,"] failed - ")+Lt(v))};function Wp(i,a,u){dt(a)&&hn(zp,function(v){var y=a[v];a[v]=function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];var M=y[Ld](this,w);return nf(i,a,u,"Patching"),M}})}function la(i,a){var u=_t(i,a);return u&&u.get}function nu(i,a,u,v){var y={n:u,h:[],trk:function(V){V&&V.fn&&(fo(y.h,V)===-1&&y.h[cr](V),i.trk(V,y))},clr:function(V){var se=fo(y.h,V);se!==-1&&y.h[Xo](se,1)}},w=!0,k=!1;function M(){w&&(k=k||Kd(M,i,v),v&&!v[tu]&&k&&(v=nf(i,v,u,"Converting")),w=!1);var V=i.act;return V&&y.trk(V),v}M[i.prop]={chng:function(){i.add(y)}};function K(V){if(v!==V){M[i.ro]&&!i.upd&&Vf("["+u+"] is read-only:"+Lt(a)),w&&(k=k||Kd(M,i,v),w=!1);var se=k&&M[i.rf];if(k)if(se){Gn(v,function(Ae){v[Ae]=V?V[Ae]:qa});try{Gn(V,function(Ae,Te){tf(i,v,Ae,Te)}),V=v}catch(Ae){Xf((i.hdlr||{})[Er],u,"Assigning",Ae),k=!1}}else v&&v[tu]&&Gn(v,function(Ae){var Te=la(v,Ae);if(Te){var ge=Te[i.prop];ge&&ge.chng()}});if(V!==v){var we=V&&Kd(M,i,V);!se&&we&&(V=nf(i,V,u,"Converting")),v=V,k=we}i.add(y)}}gr(a,y.n,{g:M,s:K})}function tf(i,a,u,v){if(a){var y=la(a,u),w=y&&!!y[i.prop];w?a[u]=v:nu(i,a,u,v)}return a}function Nv(i,a,u,v){if(a){var y=la(a,u),w=y&&!!y[i.prop],k=v&&v[0],M=v&&v[1],K=v&&v[2];if(!w){if(K)try{Wd(a)}catch(V){Xf((i.hdlr||{})[Er],u,"Blocking",V)}try{tf(i,a,u,a[u]),y=la(a,u)}catch(V){Xf((i.hdlr||{})[Er],u,"State",V)}}k&&(y[i.rf]=k),M&&(y[i.ro]=M),K&&(y[i.blkVal]=!0)}return a}function nf(i,a,u,v){try{Gn(a,function(y,w){tf(i,a,y,w)}),a[tu]||(gi(a,tu,{get:function(){return i[An]}}),Wp(i,a,u))}catch(y){Xf((i.hdlr||{})[Er],u,v,y)}return a}var fa="[[ai_",zs="]]";function Dc(i){var a,u=nc(fa+"get"+i.uid+zs),v=nc(fa+"ro"+i.uid+zs),y=nc(fa+"rf"+i.uid+zs),w=nc(fa+"blkVal"+i.uid+zs),k=nc(fa+"dtl"+i.uid+zs),M=null,K=null,V;function se(ge,st){var Ye=V.act;try{V.act=ge,ge&&ge[k]&&(hn(ge[k],function(tt){tt.clr(ge)}),ge[k]=[]),st({cfg:i.cfg,set:i.set.bind(i),setDf:i[ho].bind(i),ref:i.ref.bind(i),rdOnly:i[Gc].bind(i)})}catch(tt){var lt=i[Er];throw lt&&lt[cc](1,107,Lt(tt)),tt}finally{V.act=Ye||null}}function we(){if(M){var ge=M;M=null,K&&K[Bc](),K=null;var st=[];if(hn(ge,function(Ye){if(Ye&&(Ye[k]&&(hn(Ye[k],function(lt){lt.clr(Ye)}),Ye[k]=null),Ye.fn))try{se(Ye,Ye.fn)}catch(lt){st[cr](lt)}}),M)try{we()}catch(Ye){st[cr](Ye)}st[yr]>0&&jl("Watcher error(s): ",st)}}function Ae(ge){if(ge&&ge.h[yr]>0){M||(M=[]),K||(K=Pl(function(){K=null,we()},0));for(var st=0;st<ge.h[yr];st++){var Ye=ge.h[st];Ye&&fo(M,Ye)===-1&&M[cr](Ye)}}}function Te(ge,st){if(ge){var Ye=ge[k]=ge[k]||[];fo(Ye,st)===-1&&Ye[cr](st)}}return V=(a={prop:u,ro:v,rf:y},a[Fd]=w,a[An]=i,a.add=Ae,a[ku]=we,a.use=se,a.trk=Te,a),V}function Cc(i,a){var u={fn:a,rm:function(){u.fn=null,i=null,a=null}};return i.use(u,a),u}function Gd(i,a,u){var v,y=zd(a);if(y)return y;var w=Uo("dyncfg",!0),k=a&&u!==!1?a:Qa(a),M;function K(){M[ku]()}function V(lt,tt,at){try{lt=tf(M,lt,tt,at)}catch(zt){Xf(i,tt,"Setting value",zt)}return lt[tt]}function se(lt){return Cc(M,lt)}function we(lt,tt){M.use(null,function(at){var zt=M.upd;try{Kt(tt)||(M.upd=tt),lt(at)}finally{M.upd=zt}})}function Ae(lt,tt){var at;return Nv(M,lt,tt,(at={},at[0]=!0,at))[tt]}function Te(lt,tt){var at;return Nv(M,lt,tt,(at={},at[1]=!0,at))[tt]}function ge(lt,tt){var at;return Nv(M,lt,tt,(at={},at[2]=!0,at))[tt]}function st(lt,tt){return tt&&Gn(tt,function(at,zt){Zu(Ye,lt,at,zt)}),lt}var Ye=(v={uid:null,cfg:k},v[Er]=i,v[ku]=K,v.set=V,v[ho]=st,v[La]=se,v.ref=Ae,v[Gc]=Te,v[Fd]=ge,v._block=we,v);return gr(Ye,"uid",{c:!1,e:!1,w:!1,v:w}),M=Dc(Ye),nf(M,k,"config","Creating"),Ye}function el(i,a){i?(i[ac](a),i[cc](2,108,a)):Vf(a)}function to(i,a,u,v){var y=Gd(u,i||{},v);return a&&y[ho](y.cfg,a),y}function ru(i,a,u){var v=i[tu]||i;return v.cfg&&(v.cfg===i||v.cfg[tu]===v)?v[La](a):(el(u,Wu+Lt(i)),to(i,null,u)[La](a))}function iu(i,a){if(i&&i[Qi])return i[Qi](a)}function Ov(i,a,u){var v;return u||(v=Yu(function(y){u=y})),i&&ch(i)>0?Zi(iu(i[0],a),function(){Ov(Jn(i,1),a,u)}):u(),v}var op=500;function ou(i,a,u){return!i&&At(i)?a:Ss(i)?i:yn(i)[Es]()==="true"}function sp(i){return{mrg:!0,v:i}}function rf(i,a,u){return{fb:u,isVal:i,v:a}}function Tc(i,a){return{fb:a,set:ou,v:!!i}}var da=[Ha,Ei,Mn,vs],Jf=null,tl;function of(i,a){return function(){var u=arguments,v=gh(a);if(v){var y=v.listener;y&&y[i]&&y[i][Ld](y,u)}}}function Qf(){var i=Ar("Microsoft");return i&&(Jf=i.ApplicationInsights),Jf}function gh(i){var a=Jf;return!a&&i.disableDbgExt!==!0&&(a=Jf||Qf()),a?a.ChromeDbgExt:null}function Kp(i){if(!tl){tl={};for(var a=0;a<da[yr];a++)tl[da[a]]=of(da[a],i)}return tl}var sf,ap="warnToConsole",Co="AI (Internal): ",af="AI: ",cf="AITR_",cp={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Gp=(sf={},sf[0]=null,sf[1]="errorToConsole",sf[2]=ap,sf[3]="debugToConsole",sf);function va(i){return i?'"'+i[ci](/\"/g,Sr)+'"':Sr}function To(i,a){var u=zf();if(u){var v="log";u[i]&&(v=i),or(u[v])&&u[v](a)}}var ha=function(){function i(a,u,v,y){v===void 0&&(v=!1);var w=this;w[fc]=a,w[dc]=(v?af:Co)+a;var k=Sr;Qo()&&(k=So().stringify(y));var M=(u?" message:"+va(u):Sr)+(y?" props:"+va(k):Sr);w[dc]+=M}return i.dataType="MessageData",i}();function uf(i,a){return(i||{})[Er]||new Zf(a)}var Zf=function(){function i(a){this.identifier="DiagnosticLogger",this.queue=[];var u=0,v={},y,w,k,M,K;ki(i,this,function(V){K=we(a||{}),V.consoleLoggingLevel=function(){return y},V[cc]=function(ge,st,Ye,lt,tt){tt===void 0&&(tt=!1);var at=new ha(st,Ye,tt,lt);if(M)throw Lt(at);var zt=Gp[ge]||ap;if(Kt(at[dc]))Te("throw"+(ge===1?"Critical":"Warning"),at);else{if(tt){var rr=+at[fc];!v[rr]&&y>=ge&&(V[zt](at[dc]),v[rr]=!0)}else y>=ge&&V[zt](at[dc]);se(ge,at)}},V.debugToConsole=function(ge){To("debug",ge),Te("warning",ge)},V[ac]=function(ge){To("warn",ge),Te("warning",ge)},V.errorToConsole=function(ge){To("error",ge),Te("error",ge)},V.resetInternalMessageCount=function(){u=0,v={}},V[_o]=se,V[Qi]=function(ge){K&&K.rm(),K=null};function se(ge,st){if(!Ae()){var Ye=!0,lt=cf+st[fc];if(v[lt]?Ye=!1:v[lt]=!0,Ye&&(ge<=w&&(V.queue[cr](st),u++,Te(ge===1?"error":"warn",st)),u===k)){var tt="Internal events throttle limit per PageView reached for this app.",at=new ha(23,tt,!1);V.queue[cr](at),ge===1?V.errorToConsole(tt):V[ac](tt)}}}function we(ge){return ru(to(ge,cp,V).cfg,function(st){var Ye=st.cfg;y=Ye[Lu],w=Ye.loggingLevelTelemetry,k=Ye.maxMessageLimit,M=Ye.enableDebug})}function Ae(){return u>=k}function Te(ge,st){var Ye=gh(a||{});Ye&&Ye[Is]&&Ye[Is](ge,st)}})}return i.__ieDyn=1,i}();function kv(i){return i||new Zf}function Zt(i,a,u,v,y,w){w===void 0&&(w=!1),kv(i)[cc](a,u,v,y,w)}function Bd(i,a){kv(i)[ac](a)}var nl,Ec,lf="toGMTString",no="toUTCString",xv="cookie",ed="expires",Fv="isCookieUseDisabled",pa="disableCookiesUsage",ff="_ckMgr",su=null,td=null,df=null,gs,Za={},mh={},ga=(nl={cookieCfg:sp((Ec={},Ec[$a]={fb:"cookieDomain",dfVal:Wl},Ec.path={fb:"cookiePath",dfVal:Wl},Ec.enabled=qa,Ec.ignoreCookies=qa,Ec.blockedCookies=qa,Ec)),cookieDomain:qa,cookiePath:qa},nl[pa]=qa,nl);function Vd(){!gs&&(gs=ai(function(){return Go()}))}function ma(i){return i?i.isEnabled():!0}function _h(i,a){return a&&i&&dt(i.ignoreCookies)?fo(i.ignoreCookies,a)!==-1:!1}function Xd(i,a){return a&&i&&dt(i.blockedCookies)&&fo(i.blockedCookies,a)!==-1?!0:_h(i,a)}function _a(i,a){var u=a[ls];if(At(u)){var v=void 0;Kt(i[Fv])||(v=!i[Fv]),Kt(i[pa])||(v=!i[pa]),u=v}return u}function yh(i,a){var u,v,y,w,k,M,K,V,se;i=to(i||mh,null,a).cfg,k=ru(i,function(Ae){Ae[ho](Ae.cfg,ga),v=Ae.ref(Ae.cfg,"cookieCfg"),y=v[zl]||"/",w=v[$a],M=_a(i,v)!==!1,K=v.getCookie||Dh,V=v.setCookie||wc,se=v.delCookie||wc},a);var we=(u={isEnabled:function(){var Ae=_a(i,v)!==!1&&M&&Sh(a),Te=mh[ff];return Ae&&Te&&we!==Te&&(Ae=ma(Te)),Ae},setEnabled:function(Ae){M=Ae!==!1,v[ls]=Ae},set:function(Ae,Te,ge,st,Ye){var lt=!1;if(ma(we)&&!Xd(v,Ae)){var tt={},at=Vo(Te||Sr),zt=rc(at,";");if(zt!==-1&&(at=Vo(x(Te,zt)),tt=Lv(Dt(Te,zt+1))),hs(tt,$a,st||w,Ir,Kt),!At(ge)){var rr=ps();if(Kt(tt[ed])){var di=$c(),$o=di+ge*1e3;if($o>0){var oo=new Date;oo.setTime($o),hs(tt,ed,bc(oo,rr?lf:no)||bc(oo,rr?lf:no)||Sr,Ir)}}rr||hs(tt,"max-age",Sr+ge,null,Kt)}var Ea=Vu();Ea&&Ea.protocol==="https:"&&(hs(tt,"secure",null,null,Kt),td===null&&(td=!Eo((Js()||{})[Au])),td&&hs(tt,"SameSite","None",null,Kt)),hs(tt,zl,Ye||y,null,Kt),V(Ae,vf(at,tt)),lt=!0}return lt},get:function(Ae){var Te=Sr;return ma(we)&&!_h(v,Ae)&&(Te=K(Ae)),Te},del:function(Ae,Te){var ge=!1;return ma(we)&&(ge=we.purge(Ae,Te)),ge},purge:function(Ae,Te){var ge,st=!1;if(Sh(a)){var Ye=(ge={},ge[zl]=Te||"/",ge[ed]="Thu, 01 Jan 1970 00:00:01 GMT",ge);ps()||(Ye["max-age"]="0"),se(Ae,vf(Sr,Ye)),st=!0}return st}},u[Qi]=function(Ae){k&&k.rm(),k=null},u);return we[ff]=we,we}function Sh(i){if(su===null){su=!1,!gs&&Vd();try{var a=gs.v||{};su=a[xv]!==void 0}catch(u){Zt(i,2,68,"Cannot access document.cookie - "+qo(u),{exception:Lt(u)})}}return su}function Lv(i){var a={};if(i&&i[yr]){var u=Vo(i)[ca](";");hn(u,function(v){if(v=Vo(v||Sr),v){var y=rc(v,"=");y===-1?a[v]=null:a[Vo(x(v,y))]=Vo(Dt(v,y+1))}})}return a}function bc(i,a){return or(i[a])?i[a]():null}function vf(i,a){var u=i||Sr;return Gn(a,function(v,y){u+="; "+v+(At(y)?Sr:"="+y)}),u}function Dh(i){var a=Sr;if(!gs&&Vd(),gs.v){var u=gs.v[xv]||Sr;df!==u&&(Za=Lv(u),df=u),a=Vo(Za[i]||Sr)}return a}function wc(i,a){!gs&&Vd(),gs.v&&(gs.v[xv]=i+"="+a)}function Eo(i){return Kn(i)?!!(eo(i,"CPU iPhone OS 12")||eo(i,"iPad; CPU OS 12")||eo(i,"Macintosh; Intel Mac OS X 10_14")&&eo(i,"Version/")&&eo(i,"Safari")||eo(i,"Macintosh; Intel Mac OS X 10_14")&&Lo(i,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||eo(i,"Chrome/5")||eo(i,"Chrome/6")||eo(i,"UnrealEngine")&&!eo(i,"Chrome")||eo(i,"UCBrowser/12")||eo(i,"UCBrowser/11")):!1}var ti={perfEvtsSendAll:!1};function Ws(i,a,u,v){hn(i,function(y){if(y&&y[a])if(u)Pl(function(){return v(y)},0);else try{v(y)}catch{}})}var nd=function(){function i(a){this.listeners=[];var u,v,y=[],w=to(a,ti);v=w[La](function(k){u=!!k.cfg.perfEvtsSendAll}),ki(i,this,function(k){gr(k,"listeners",{g:function(){return y}}),k[Mo]=function(M){y[cr](M)},k[Fu]=function(M){for(var K=fo(y,M);K>-1;)y[Xo](K,1),K=fo(y,M)},k[Ha]=function(M){Ws(y,Ha,!0,function(K){K[Ha](M)})},k[Ei]=function(M,K){Ws(y,Ei,!0,function(V){V[Ei](M,K)})},k[Mn]=function(M,K){Ws(y,Mn,K,function(V){V[Mn](M,K)})},k[vs]=function(M){M&&(u||!M[hc]())&&Ws(y,vs,!1,function(K){M[Xc]?Pl(function(){return K[vs](M)},0):K[vs](M)})},k[Qi]=function(M){var K=function(){v&&v.rm(),v=null,y=[]},V;if(Ws(y,"unload",!1,function(se){var we=se[Qi](M);we&&(V||(V=[]),V[cr](we))}),V)return Yu(function(se){return Zi(Md(V),function(){K(),se()})});K()}})}return i.__ieDyn=1,i}(),ya="ctx",Rc="ParentContextKey",ms="ChildrenContextKey",rd=null,Jd=function(){function i(a,u,v){var y=this;if(y.start=$c(),y[Wr]=a,y[Xc]=v,y[hc]=function(){return!1},or(u)){var w;gr(y,"payload",{g:function(){return!w&&or(u)&&(w=u(),u=null),w}})}y[ua]=function(k){return k?k===i[Rc]||k===i[ms]?y[k]:(y[ya]||{})[k]:null},y[Hi]=function(k,M){if(k)if(k===i[Rc])y[k]||(y[hc]=function(){return!0}),y[k]=M;else if(k===i[ms])y[k]=M;else{var K=y[ya]=y[ya]||{};K[k]=M}},y[Ml]=function(){var k=0,M=y[ua](i[ms]);if(dt(M))for(var K=0;K<M[yr];K++){var V=M[K];V&&(k+=V[Aa])}y[Aa]=$c()-y.start,y.exTime=y[Aa]-k,y[Ml]=function(){}}}return i.ParentContextKey="parent",i.ChildrenContextKey="childEvts",i}(),Ch=function(){function i(a){this.ctx={},ki(i,this,function(u){u.create=function(v,y,w){return new Jd(v,y,w)},u.fire=function(v){v&&(v[Ml](),a&&or(a[vs])&&a[vs](v))},u[Hi]=function(v,y){if(v){var w=u[ya]=u[ya]||{};w[v]=y}},u[ua]=function(v){return(u[ya]||{})[v]}})}return i.__ieDyn=1,i}(),Av="CoreUtils.doPerf";function rl(i,a,u,v,y){if(i){var w=i;if(w[ui]&&(w=w[ui]()),w){var k=void 0,M=w[ua](Av);try{if(k=w.create(a(),v,y),k){if(M&&k[Hi]&&(k[Hi](Jd[Rc],M),M[ua]&&M[Hi])){var K=M[ua](Jd[ms]);K||(K=[],M[Hi](Jd[ms],K)),K[cr](k)}return w[Hi](Av,k),u(k)}}catch(V){k&&k[Hi]&&k[Hi]("exception",V)}finally{k&&w.fire(k),w[Hi](Av,M)}}}return u()}function id(){return rd}var up="00000000000000000000000000000000",Th="0000000000000000";function Eh(i,a,u){return i&&i[yr]===a&&i!==u?!!i.match(/^[\da-f]*$/i):!1}function lp(i){return Eh(i,32,up)}function d(i){return Eh(i,16,Th)}var g=Ys("plugin");function C(i){return g.get(i,"state",{},!0)}function R(i,a){for(var u=[],v=null,y=i[go](),w;y;){var k=y[lc]();if(k){v&&v[vc]&&k[Jo]&&v[vc](k),w=C(k);var M=!!w[Ji];k[Ji]&&(M=k[Ji]()),M||u[cr](k),v=k,y=y[go]()}}hn(u,function(K){var V=i[kr]();K[uc](i.getCfg(),V,a,i[go]()),w=C(K),!K[kr]&&!w[kr]&&(w[kr]=V),w[Ji]=!0,delete w[Ps]})}function $(i){return i.sort(function(a,u){var v=0;if(u){var y=u[Jo];a[Jo]?v=y?a[ja]-u[ja]:1:y&&(v=-1)}else v=a?1:-1;return v})}function ne(i){var a={};return{getName:function(){return a[Wr]},setName:function(u){i&&i.setName(u),a[Wr]=u},getTraceId:function(){return a[Mu]},setTraceId:function(u){i&&i.setTraceId(u),lp(u)&&(a[Mu]=u)},getSpanId:function(){return a[ql]},setSpanId:function(u){i&&i.setSpanId(u),d(u)&&(a[ql]=u)},getTraceFlags:function(){return a[Ul]},setTraceFlags:function(u){i&&i.setTraceFlags(u),a[Ul]=u}}}var ce="TelemetryPluginChain",pe="_hasRun",Oe="_getTelCtx",Je=0;function Nt(i,a,u){for(;i;){if(i[lc]()===u)return i;i=i[go]()}return wn([u],a.config||{},a)}function pn(i,a,u,v){var y=null,w=[];a||(a=to({},null,u[Er])),v!==null&&(y=v?Nt(i,u,v):i);var k={_next:K,ctx:{core:function(){return u},diagLog:function(){return uf(u,a.cfg)},getCfg:function(){return a.cfg},getExtCfg:se,getConfig:we,hasNext:function(){return!!y},getNext:function(){return y},setNext:function(Te){y=Te},iterate:Ae,onComplete:M}};function M(Te,ge){for(var st=[],Ye=2;Ye<arguments.length;Ye++)st[Ye-2]=arguments[Ye];Te&&w[cr]({func:Te,self:Kt(ge)?k.ctx:ge,args:st})}function K(){var Te=y;if(y=Te?Te[go]():null,!Te){var ge=w;ge&&ge[yr]>0&&(hn(ge,function(st){try{st.func.call(st.self,st.args)}catch(Ye){Zt(u[Er],2,73,"Unexpected Exception during onComplete - "+Lt(Ye))}}),w=[])}return Te}function V(Te,ge){var st=null,Ye=a.cfg;if(Ye&&Te){var lt=Ye[Ua];!lt&&ge&&(lt={}),Ye[Ua]=lt,lt=a.ref(Ye,Ua),lt&&(st=lt[Te],!st&&ge&&(st={}),lt[Te]=st,st=a.ref(lt,Te))}return st}function se(Te,ge){var st=V(Te,!0);return ge&&Gn(ge,function(Ye,lt){if(At(st[Ye])){var tt=a.cfg[Ye];(tt||!At(tt))&&(st[Ye]=tt)}Zu(a,st,Ye,lt)}),a[ho](st,ge)}function we(Te,ge,st){st===void 0&&(st=!1);var Ye,lt=V(Te,!1),tt=a.cfg;return lt&&(lt[ge]||!At(lt[ge]))?Ye=lt[ge]:(tt[ge]||!At(tt[ge]))&&(Ye=tt[ge]),Ye||!At(Ye)?Ye:st}function Ae(Te){for(var ge;ge=k._next();){var st=ge[lc]();st&&Te(st)}}return k}function an(i,a,u,v){var y=to(a),w=pn(i,y,u,v),k=w.ctx;function M(V){var se=w._next();return se&&se[Jo](V,k),!se}function K(V,se){return V===void 0&&(V=null),dt(V)&&(V=wn(V,y.cfg,u,se)),an(V||k[go](),y.cfg,u,se)}return k[Dn]=M,k[ji]=K,k}function bn(i,a,u){var v=to(a.config),y=pn(i,v,a,u),w=y.ctx;function k(K){var V=y._next();return V&&V[Qi](w,K),!V}function M(K,V){return K===void 0&&(K=null),dt(K)&&(K=wn(K,v.cfg,a,V)),bn(K||w[go](),a,V)}return w[Dn]=k,w[ji]=M,w}function Ht(i,a,u){var v=to(a.config),y=pn(i,v,a,u),w=y.ctx;function k(K){return w.iterate(function(V){or(V[js])&&V[js](w,K)})}function M(K,V){return K===void 0&&(K=null),dt(K)&&(K=wn(K,v.cfg,a,V)),Ht(K||w[go](),a,V)}return w[Dn]=k,w[ji]=M,w}function wn(i,a,u,v){var y=null,w=!v;if(dt(i)&&i[yr]>0){var k=null;hn(i,function(M){if(!w&&v===M&&(w=!0),w&&M&&or(M[Jo])){var K=yt(M,a,u);y||(y=K),k&&k._setNext(K),k=K}})}return v&&!y?wn([v],a,u):y}function yt(i,a,u){var v=null,y=or(i[Jo]),w=or(i[vc]),k;i?k=i[bs]+"-"+i[ja]+"-"+Je++:k="Unknown-0-"+Je++;var M={getPlugin:function(){return i},getNext:function(){return v},processTelemetry:se,unload:we,update:Ae,_id:k,_setNext:function(Te){v=Te}};function K(){var Te;return i&&or(i[Oe])&&(Te=i[Oe]()),Te||(Te=an(M,a,u)),Te}function V(Te,ge,st,Ye,lt){var tt=!1,at=i?i[bs]:ce,zt=Te[pe];return zt||(zt=Te[pe]={}),Te.setNext(v),i&&rl(Te[kr](),function(){return at+":"+st},function(){zt[k]=!0;try{var rr=v?v._id:Sr;rr&&(zt[rr]=!1),tt=ge(Te)}catch($o){var di=v?zt[v._id]:!0;di&&(tt=!0),(!v||!di)&&Zt(Te[Is](),1,73,"Plugin ["+at+"] failed during "+st+" - "+Lt($o)+", run flags: "+Lt(zt))}},Ye,lt),tt}function se(Te,ge){ge=ge||K();function st(Ye){if(!i||!y)return!1;var lt=C(i);return lt[Ps]||lt[qd]?!1:(w&&i[vc](v),i[Jo](Te,Ye),!0)}V(ge,st,"processTelemetry",function(){return{item:Te}},!Te.sync)||ge[Dn](Te)}function we(Te,ge){function st(){var Ye=!1;if(i){var lt=C(i),tt=i[kr]||lt[kr];i&&(!tt||tt===Te.core())&&!lt[Ps]&&(lt[kr]=null,lt[Ps]=!0,lt[Ji]=!1,i[Ps]&&i[Ps](Te,ge)===!0&&(Ye=!0))}return Ye}V(Te,st,"unload",function(){},ge[Xc])||Te[Dn](ge)}function Ae(Te,ge){function st(){var Ye=!1;if(i){var lt=C(i),tt=i[kr]||lt[kr];i&&(!tt||tt===Te.core())&&!lt[Ps]&&i[js]&&i[js](Te,ge)===!0&&(Ye=!0)}return Ye}V(Te,st,"update",function(){},!1)||Te[Dn](ge)}return Xr(M)}function Qn(){var i=[];function a(v){v&&i[cr](v)}function u(v,y){hn(i,function(w){try{w(v,y)}catch(k){Zt(v[Is](),2,73,"Unexpected error calling unload handler - "+Lt(k))}}),i=[]}return{add:a,run:u}}function Cn(){var i=[];function a(v){var y=i;i=[],hn(y,function(w){try{(w.rm||w.remove).call(w)}catch(k){Zt(v,2,73,"Unloading:"+Lt(k))}})}function u(v){v&&Fo(i,v)}return{run:a,add:u}}var on,li="getPlugin",bo=(on={},on[Ua]={isVal:Wl,v:{}},on),ro=function(){function i(){var a=this,u,v,y,w,k;V(),ki(i,a,function(se){se[uc]=function(we,Ae,Te,ge){K(we,Ae,ge),u=!0},se[Ps]=function(we,Ae){var Te,ge=se[kr];if(!ge||we&&ge!==we[kr]())return;var st,Ye=!1,lt=we||bn(null,ge,y&&y[li]?y[li]():y),tt=Ae||(Te={reason:0},Te[Xc]=!1,Te);function at(){Ye||(Ye=!0,w.run(lt,Ae),k.run(lt[Is]()),st===!0&&lt[Dn](tt),V())}return!se[Sv]||se[Sv](lt,tt,at)!==!0?at():st=!0,st},se[js]=function(we,Ae){var Te=se[kr];if(!Te||we&&Te!==we[kr]())return;var ge,st=!1,Ye=we||Ht(null,Te,y&&y[li]?y[li]():y),lt=Ae||{reason:0};function tt(){st||(st=!0,K(Ye.getCfg(),Ye.core(),Ye[go]()))}return!se._doUpdate||se._doUpdate(Ye,lt,tt)!==!0?tt():ge=!0,ge},Bl(se,"_addUnloadCb",function(){return w},"add"),Bl(se,"_addHook",function(){return k},"add"),gr(se,"_unloadHooks",{g:function(){return k}})}),a[Is]=function(se){return M(se)[Is]()},a[Ji]=function(){return u},a.setInitialized=function(se){u=se},a[vc]=function(se){y=se},a[Dn]=function(se,we){we?we[Dn](se):y&&or(y[Jo])&&y[Jo](se,null)},a._getTelCtx=M;function M(se){se===void 0&&(se=null);var we=se;if(!we){var Ae=v||an(null,{},a[kr]);y&&y[li]?we=Ae[ji](null,y[li]):we=Ae[ji](null,y)}return we}function K(se,we,Ae){to(se,bo,uf(we)),!Ae&&we&&(Ae=we[ws]()[go]());var Te=y;y&&y[li]&&(Te=y[li]()),a[kr]=we,v=an(Ae,se,we,Te)}function V(){u=!1,a[kr]=null,v=null,y=null,k=Cn(),w=Qn()}}return i.__ieDyn=1,i}();function od(i,a,u){var v={id:a,fn:u};Fo(i,v);var y={remove:function(){hn(i,function(w,k){if(w.id===v.id)return i[Xo](k,1),-1})}};return y}function hf(i,a,u){for(var v=!1,y=i[yr],w=0;w<y;++w){var k=i[w];if(k)try{if(k.fn[Ld](null,[a])===!1){v=!0;break}}catch(M){Zt(u,2,64,"Telemetry initializer failed: "+qo(M),{exception:Lt(M)},!0)}}return!v}var Qd=function(i){Kc(a,i);function a(){var u=i.call(this)||this;u.identifier="TelemetryInitializerPlugin",u.priority=199;var v,y;w(),ki(a,u,function(k,M){k.addTelemetryInitializer=function(K){return od(y,v++,K)},k[Jo]=function(K,V){hf(y,K,V?V[Is]():k[Is]())&&k[Dn](K,V)},k[Sv]=function(){w()}});function w(){v=0,y=[]}return u}return a.__ieDyn=1,a}(ro),Sa,au="Plugins must provide initialize method",Zd="_notificationManager",ev="SDK is still unloading...",it="SDK is not initialized",Gt=xo((Sa={cookieCfg:{}},Sa[zu]={rdOnly:!0,ref:!0,v:[]},Sa[Yl]={rdOnly:!0,ref:!0,v:[]},Sa[Ua]={ref:!0,v:{}},Sa[Pv]=qa,Sa.loggingLevelConsole=0,Sa.diagnosticLogInterval=qa,Sa));function qn(i,a){return new Ch(a)}function fi(i,a,u){var v,y=[],w=[],k={};return hn(u,function(M){(At(M)||At(M[uc]))&&dr(au);var K=M[ja],V=M[bs];M&&K&&(At(k[K])?k[K]=V:Bd(i,"Two extensions have same priority #"+K+" - "+k[K]+", "+V)),!K||K<a?y[cr](M):w[cr](M)}),v={},v[kr]=y,v[Yl]=w,v}function Di(i,a){var u=!1;return hn(a,function(v){if(v===i)return u=!0,-1}),u}function Ci(i,a,u,v){u&&Gn(u,function(y,w){v&&qi(w)&&qi(a[y])&&Ci(i,a[y],w,v),v&&qi(w)&&qi(a[y])?Ci(i,a[y],w,v):i.set(a,y,w)})}function wi(i,a){var u=null,v=-1;return hn(i,function(y,w){if(y.w===a)return u=y,v=w,-1}),{i:v,l:u}}function pf(i,a){var u=wi(i,a).l;return u||(u={w:a,rm:function(){var v=wi(i,a);v.i!==-1&&i[Xo](v.i,1)}},i[cr](u)),u}function il(i,a,u){hn(a,function(v){var y=ru(i,v.w,u);delete v.w,v.rm=function(){y.rm()}})}var ol=function(){function i(){var a,u,v,y,w,k,M,K,V,se,we,Ae,Te,ge,st,Ye,lt,tt,at,zt,rr,di,$o,oo,Ea,Fs,Fg,Gv;ki(i,this,function(xt){av(),xt._getDbgPlgTargets=function(){return[$o]},xt[Ji]=function(){return u},xt[uc]=function(Ve,Ut,kn,xn){Te&&dr(ev),xt[Ji]()&&dr("Core cannot be initialized more than once"),a=to(Ve,Gt,kn||xt[Er],!1),Ve=a.cfg,Df(a[La](function(vi){rr=vi.cfg.instrumentationKey;var ts=vi.ref(vi.cfg,Ua);Gn(ts,function(ba){vi.ref(ts,ba)}),At(rr)&&dr("Please provide instrumentation key")})),w=xn,Im(),qS(),xt[Er]=kn;var Hn=Ve[zu];if(se=[],se[cr].apply(se,kd(kd([],Ut,!1),Hn)),we=Ve[Yl],ft(null),(!Ae||Ae[yr]===0)&&dr("No "+Yl+" available"),we&&we[yr]>1){var Pi=xt[lc]("TeeChannelController");(!Pi||!Pi.plugin)&&Zt(v,1,28,"TeeChannel required")}il(Ve,di,v),di=null,u=!0,xt.releaseQueue(),xt[po]()},xt.getChannels=function(){var Ve=[];return Ae&&hn(Ae,function(Ut){Ve[cr](Ut)}),Xr(Ve)},xt.track=function(Ve){rl(xt[ui](),function(){return"AppInsightsCore:track"},function(){Ve===null&&(Om(Ve),dr("Invalid telemetry item")),!Ve[Wr]&&At(Ve[Wr])&&(Om(Ve),dr("telemetry name required")),Ve.iKey=Ve.iKey||rr,Ve[Aa]=Ve[Aa]||Ya(new Date),Ve.ver=Ve.ver||"4.0",!Te&&xt[Ji]()?Uh()[Dn](Ve):y[cr](Ve)},function(){return{item:Ve}},!Ve.sync)},xt[ws]=Uh,xt[xu]=function(){return w||(w=new nd(a.cfg),xt[Zd]=w),w},xt[Mo]=function(Ve){xt[xu]()[Mo](Ve)},xt[Fu]=function(Ve){w&&w[Fu](Ve)},xt.getCookieMgr=function(){return K||(K=yh(a.cfg,xt[Er])),K},xt.setCookieMgr=function(Ve){K!==Ve&&(iu(K,!1),K=Ve)},xt[ui]=function(){return!k&&!M&&Df(a[La](function(Ve){if(Ve.cfg.enablePerfMgr){var Ut=Ve.cfg[Pv];or(Ut)&&(M=Ut(xt,xt[xu]()))}})),k||M||id()},xt.setPerfMgr=function(Ve){k=Ve},xt.eventCnt=function(){return y[yr]},xt.releaseQueue=function(){if(u&&y[yr]>0){var Ve=y;y=[],hn(Ve,function(Ut){Uh()[Dn](Ut)})}},xt[po]=function(Ve){return st=Ve||null,Gv=!1,Fs&&Fs[Bc](),Bv(!0)};function Bv(Ve){if((!Fs||!Fs[ls])&&!Gv){var Ut=Ve||v&&v.queue[yr]>0;Ut&&(Fg||(Fg=!0,Df(a[La](function(kn){var xn=kn.cfg.diagnosticLogInterval;(!xn||!(xn>0))&&(xn=1e4);var Hn=!1;Fs&&(Hn=Fs[ls],Fs[Bc]()),Fs=Ff(Mg,xn),Fs.unref(),Fs[ls]=Hn}))),Fs[ls]=!0)}return Fs}xt[Us]=function(){Gv=!0,Fs&&Fs[Bc](),Mg()},Hf(xt,function(){return ge},["addTelemetryInitializer"]),xt[Qi]=function(Ve,Ut,kn){var xn;Ve===void 0&&(Ve=!0),u||dr(it),Te&&dr(ev);var Hn=(xn={reason:50},xn[Xc]=Ve,xn.flushComplete=!1,xn),Pi;Ve&&!Ut&&(Pi=Yu(function(ba){Ut=ba}));var vi=bn(Pm(),xt);vi[Vc](function(){tt.run(xt[Er]),Ov([K,w,v],Ve,function(){av(),Ut&&Ut(Hn)})},xt);function ts(ba){Hn.flushComplete=ba,Te=!0,lt.run(vi,Hn),xt[Us](),vi[Dn](Hn)}return Mg(),lg(Ve,ts,6,kn),Pi},xt[lc]=S_,xt.addPlugin=function(Ve,Ut,kn,xn){if(!Ve){xn&&xn(!1),Nm(au);return}var Hn=S_(Ve[bs]);if(Hn&&!Ut){xn&&xn(!1),Nm("Plugin ["+Ve[bs]+"] is already loaded!");return}var Pi={reason:16};function vi(dl){se[cr](Ve),Pi.added=[Ve],ft(Pi),xn&&xn(!0)}if(Hn){var ts=[Hn.plugin],ba={reason:2,isAsync:!!kn};Ag(ts,ba,function(dl){dl?(Pi.removed=ts,Pi.reason|=32,vi()):xn&&xn(!1)})}else vi()},xt.updateCfg=function(Ve,Ut){Ut===void 0&&(Ut=!0);var kn;if(xt[Ji]()){kn={reason:1,cfg:a.cfg,oldCfg:Pd({},a.cfg),newConfig:Pd({},Ve),merge:Ut},Ve=kn.newConfig;var xn=a.cfg;Ve[zu]=xn[zu],Ve[Yl]=xn[Yl]}a._block(function(Hn){var Pi=Hn.cfg;Ci(Hn,Pi,Ve,Ut),Ut||Gn(Pi,function(vi){yi(Ve,vi)||Hn.set(Pi,vi,qa)}),Hn[ho](Pi,Gt)},!0),a[ku](),kn&&qg(kn)},xt.evtNamespace=function(){return Ye},xt.flush=lg,xt.getTraceCtx=function(Ve){return zt||(zt=ne()),zt},xt.setTraceCtx=function(Ve){zt=Ve||null},xt.addUnloadHook=Df,Bl(xt,"addUnloadCb",function(){return lt},"add"),xt.onCfgChange=function(Ve){var Ut;return u?Ut=ru(a.cfg,Ve,xt[Er]):Ut=pf(di,Ve),{rm:function(){Ut.rm()}}},xt.getWParam=function(){return lo()||a.cfg.enableWParam?0:-1};function Lg(){var Ve={};oo=[];var Ut=function(kn){kn&&hn(kn,function(xn){if(xn[bs]&&xn[Rs]&&!Ve[xn.identifier]){var Hn=xn[bs]+"="+xn[Rs];oo[cr](Hn),Ve[xn.identifier]=xn}})};Ut(Ae),we&&hn(we,function(kn){Ut(kn)}),Ut(se)}function av(){u=!1,a=to({},Gt,xt[Er]),a.cfg[Lu]=1,gr(xt,"config",{g:function(){return a.cfg},s:function(Ut){xt.updateCfg(Ut,!1)}}),gr(xt,"pluginVersionStringArr",{g:function(){return oo||Lg(),oo}}),gr(xt,"pluginVersionString",{g:function(){return Ea||(oo||Lg(),Ea=oo.join(";")),Ea||Sr}}),gr(xt,"logger",{g:function(){return v||(v=new Zf(a.cfg),a[Er]=v),v},s:function(Ut){a[Er]=Ut,v!==Ut&&(iu(v,!1),v=Ut)}}),xt[Er]=new Zf(a.cfg),$o=[];var Ve=xt.config[zu]||[];Ve.splice(0,Ve[yr]),Fo(Ve,$o),ge=new Qd,y=[],iu(w,!1),w=null,k=null,M=null,iu(K,!1),K=null,V=null,se=[],we=null,Ae=null,Te=!1,st=null,Ye=Uo("AIBaseCore",!0),lt=Qn(),zt=null,rr=null,tt=Cn(),di=[],Ea=null,oo=null,Gv=!1}function Uh(){var Ve=an(Pm(),a.cfg,xt);return Ve[Vc](Bv),Ve}function ft(Ve){var Ut=fi(xt[Er],op,se);V=null,Ea=null,oo=null,Ae=(we||[])[0]||[],Ae=$(Fo(Ae,Ut[Yl]));var kn=Fo($(Ut[kr]),Ae);$o=Xr(kn);var xn=xt.config[zu]||[];xn.splice(0,xn[yr]),Fo(xn,$o);var Hn=Uh();Ae&&Ae[yr]>0&&R(Hn[ji](Ae),kn),R(Hn,kn),Ve&&qg(Ve)}function S_(Ve){var Ut=null,kn=null,xn=[];return hn($o,function(Hn){if(Hn[bs]===Ve&&Hn!==ge)return kn=Hn,-1;Hn.getChannel&&xn[cr](Hn)}),!kn&&xn[yr]>0&&hn(xn,function(Hn){if(kn=Hn.getChannel(Ve),!kn)return-1}),kn&&(Ut={plugin:kn,setEnabled:function(Hn){C(kn)[qd]=!Hn},isEnabled:function(){var Hn=C(kn);return!Hn[Ps]&&!Hn[qd]},remove:function(Hn,Pi){var vi;Hn===void 0&&(Hn=!0);var ts=[kn],ba=(vi={reason:1},vi[Xc]=Hn,vi);Ag(ts,ba,function(dl){dl&&ft({reason:32,removed:ts}),Pi&&Pi(dl)})}}),Ut}function Pm(){if(!V){var Ve=($o||[]).slice();fo(Ve,ge)===-1&&Ve[cr](ge),V=wn($(Ve),a.cfg,xt)}return V}function Ag(Ve,Ut,kn){if(Ve&&Ve[yr]>0){var xn=wn(Ve,a.cfg,xt),Hn=bn(xn,xt);Hn[Vc](function(){var Pi=!1,vi=[];hn(se,function(ba,dl){Di(ba,Ve)?Pi=!0:vi[cr](ba)}),se=vi,Ea=null,oo=null;var ts=[];we&&(hn(we,function(ba,dl){var jh=[];hn(ba,function(km){Di(km,Ve)?Pi=!0:jh[cr](km)}),ts[cr](jh)}),we=ts),kn&&kn(Pi),Bv()}),Hn[Dn](Ut)}else kn(!1)}function Mg(){if(v&&v.queue){var Ve=v.queue.slice(0);v.queue[yr]=0,hn(Ve,function(Ut){var kn,xn=(kn={},kn[Wr]=st||"InternalMessageId: "+Ut[fc],kn.iKey=rr,kn[Aa]=Ya(new Date),kn.baseType=ha.dataType,kn.baseData={message:Ut[dc]},kn);xt.track(xn)})}}function lg(Ve,Ut,kn,xn){var Hn=1,Pi=!1,vi=null;xn=xn||5e3;function ts(){Hn--,Pi&&Hn===0&&(vi&&vi[Bc](),vi=null,Ut&&Ut(Pi),Ut=null)}if(Ae&&Ae[yr]>0){var ba=Uh()[ji](Ae);ba.iterate(function(dl){if(dl.flush){Hn++;var jh=!1;dl.flush(Ve,function(){jh=!0,ts()},kn)||jh||(Ve&&vi==null?vi=Pl(function(){vi=null,ts()},xn):ts())}})}return Pi=!0,ts(),!0}function Im(){!w&&xt[xu](),Df(a[La](function(Ve){var Ut=Ve.cfg.disableDbgExt;Ut===!0&&at&&(w[Fu](at),at=null),w&&!at&&Ut!==!0&&(at=Kp(Ve.cfg),w[Mo](at))}))}function qS(){Df(a[La](function(Ve){var Ut=Ve.cfg.enablePerfMgr;!Ut&&M&&(M=null),Ut&&Gl(Ve.cfg,Pv,qn)}))}function qg(Ve){var Ut=Ht(Pm(),xt);Ut[Vc](Bv),(!xt._updateHook||xt._updateHook(Ut,Ve)!==!0)&&Ut[Dn](Ve)}function Nm(Ve){var Ut=xt[Er];Ut?(Zt(Ut,2,73,Ve),Bv()):dr(Ve)}function Om(Ve){var Ut=xt[xu]();Ut&&Ut[Ei]([Ve],2)}function Df(Ve){tt.add(Ve)}})}return i.__ieDyn=1,i}(),bh="on",gf="attachEvent",cu="addEventListener",tv="detachEvent",_s="removeEventListener",mf="events";Uo("aiEvtPageHide"),Uo("aiEvtPageShow");var uu=/\.[\.]+/g,sd=/[\.]+$/,Ig=1,ad=Ys("events"),ks=/^([^.]*)(?:\.(.+)|)/;function Ks(i){return i&&i[ci]?i[ci](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Sr):i}function nv(i,a){var u;if(a){var v=Sr;dt(a)?(v=Sr,hn(a,function(w){w=Ks(w),w&&(w[0]!=="."&&(w="."+w),v+=w)})):v=Ks(a),v&&(v[0]!=="."&&(v="."+v),i=(i||Sr)+v)}var y=ks.exec(i||Sr)||[];return u={},u[fs]=y[1],u.ns=(y[2]||Sr).replace(uu,".").replace(sd,Sr)[ca](".").sort().join("."),u}function Pc(i,a,u){u===void 0&&(u=!0);var v=ad.get(i,mf,{},u),y=v[a];return y||(y=v[a]=[]),y}function Bp(i,a,u,v){i&&a&&a[fs]&&(i[_s]?i[_s](a[fs],u,v):i[tv]&&i[tv](bh+a[fs],u))}function fp(i,a,u,v){var y=!1;return i&&a&&a[fs]&&u&&(i[cu]?(i[cu](a[fs],u,v),y=!0):i[gf]&&(i[gf](bh+a[fs],u),y=!0)),y}function Ng(i,a,u,v){for(var y=a[yr];y--;){var w=a[y];w&&(!u.ns||u.ns===w.evtName.ns)&&(!v||v(w))&&(Bp(i,w.evtName,w[Ns],w.capture),a[Xo](y,1))}}function Og(i,a,u){if(a[fs])Ng(i,Pc(i,a[fs]),a,u);else{var v=ad.get(i,mf,{});Gn(v,function(y,w){Ng(i,w,a,u)}),Vn(v)[yr]===0&&ad.kill(i,mf)}}function dp(i,a){var u;return a?(dt(a)?u=[i].concat(a):u=[i,a],u=nv("xx",u).ns[ca](".")):u=i,u}function Ic(i,a,u,v,y){var w;y===void 0&&(y=!1);var k=!1;if(i)try{var M=nv(a,v);if(k=fp(i,M,u,y),k&&ad.accept(i)){var K=(w={guid:Ig++,evtName:M},w[Ns]=u,w.capture=y,w);Pc(i,M.type)[cr](K)}}catch{}return k}function Vp(i,a,u,v,y){if(y===void 0&&(y=!1),i)try{var w=nv(a,v),k=!1;Og(i,w,function(M){return w.ns&&!u||M[Ns]===u?(k=!0,!0):!1}),k||Bp(i,w,u,y)}catch{}}var Mv="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",wh="sampleRate",Rh="ProcessLegacy",Ph="http.method",vp="https://dc.services.visualstudio.com",qv="/v2/track",Nc="not_specified",Uv=xd({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Ih="split",br="length",hp="toLowerCase",cd="ingestionendpoint",rv="toString",kg="removeItem",Oc="name",Da="message",pp="count",lu="stringify",ud="pathname",sl="exceptions",Gs="parsedStack",fu="properties",al="measurements",ld="sizeInBytes",cl="typeName",Nh="severityLevel",gp="problemGroup",Xp="isManual",jv="CreateFromInterface",iv="assembly",fd="fileName",ov="hasFullStack",Oh="level",dd="method",Hv="line",kh="duration",$v="receivedResponse";function xg(i,a,u){var v=a[br],y=xh(i,a);if(y[br]!==v){for(var w=0,k=y;u[k]!==void 0;)w++,k=Dt(y,0,147)+pd(w);y=k}return y}function xh(i,a){var u;return a&&(a=Vo(yn(a)),a[br]>150&&(u=Dt(a,0,150),Zt(i,2,57,"name is too long.  It has been truncated to 150 characters.",{name:a},!0))),u||a}function io(i,a,u){u===void 0&&(u=1024);var v;return a&&(u=u||1024,a=Vo(yn(a)),a[br]>u&&(v=Dt(a,0,u),Zt(i,2,61,"string value is too long. It has been truncated to "+u+" characters.",{value:a},!0))),v||a}function ul(i,a){return Fh(i,a,2048,66)}function vd(i,a){var u;return a&&a[br]>32768&&(u=Dt(a,0,32768),Zt(i,2,56,"message is too long, it has been truncated to 32768 characters.",{message:a},!0)),u||a}function Jp(i,a){var u;if(a){var v=""+a;v[br]>32768&&(u=Dt(v,0,32768),Zt(i,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:a},!0))}return u||a}function _f(i,a){if(a){var u={};Gn(a,function(v,y){if(Bt(y)&&Qo())try{y=So()[lu](y)}catch(w){Zt(i,2,49,"custom property is not valid",{exception:w},!0)}y=io(i,y,8192),v=xg(i,v,u),u[v]=y}),a=u}return a}function hd(i,a){if(a){var u={};Gn(a,function(v,y){v=xg(i,v,u),u[v]=y}),a=u}return a}function Yv(i,a){return a&&Fh(i,a,128,69)[rv]()}function Fh(i,a,u,v){var y;return a&&(a=Vo(yn(a)),a[br]>u&&(y=Dt(a,0,u),Zt(i,2,v,"input is too long, it has been truncated to "+u+" characters.",{data:a},!0))),y||a}function pd(i){var a="00"+i;return en(a,a[br]-3)}var gd=Go()||{},Qp=0,Zp=[null,null,null,null,null];function zv(i){var a=Qp,u=Zp,v=u[a];return gd.createElement?u[a]||(v=u[a]=gd.createElement("a")):v={host:eg(i,!0)},v.href=i,a++,a>=u[br]&&(a=0),Qp=a,v}function eg(i,a){var u=bm(i,a)||"";if(u){var v=u.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(v!=null&&v[br]>3&&Kn(v[2])&&v[2][br]>0)return v[2]+(v[3]||"")}return u}function bm(i,a){var u=null;if(i){var v=i.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(v!=null&&v[br]>2&&Kn(v[2])&&v[2][br]>0&&(u=v[2]||"",a&&v[br]>2)){var y=(v[1]||"")[hp](),w=v[3]||"";(y==="http"&&w===":80"||y==="https"&&w===":443")&&(w=""),u+=w}}return u}var wm=[vp+qv,"https://breeze.aimon.applicationinsights.io"+qv,"https://dc-int.services.visualstudio.com"+qv];function yf(i){return fo(wm,i[hp]())!==-1}function Rm(i,a,u,v){var y,w=v,k=v;if(a&&a[br]>0){var M=zv(a);if(y=M.host,!w)if(M[ud]!=null){var K=M.pathname[br]===0?"/":M[ud];K.charAt(0)!=="/"&&(K="/"+K),k=M[ud],w=io(i,u?u+" "+K:K)}else w=io(i,a)}else y=v,w=v;return{target:y,name:w,data:k}}var Lh=Uf({LocalStorage:0,SessionStorage:1});Uf({AI:0,AI_AND_W3C:1,W3C:2});var sv=void 0,mp="";function _p(i){try{if(At(vn()))return null;var a=new Date()[rv](),u=Ar(i===Lh.LocalStorage?"localStorage":"sessionStorage"),v=mp+a;u.setItem(v,a);var y=u.getItem(v)!==a;if(u[kg](v),!y)return u}catch{}return null}function Ah(){return tg()?_p(Lh.SessionStorage):null}function Sf(i){mp=i||""}function tg(i){return(i||sv===void 0)&&(sv=!!_p(Lh.SessionStorage)),sv}function Fi(i,a){var u=Ah();if(u!==null)try{return u.getItem(a)}catch(v){sv=!1,Zt(i,2,2,"Browser failed read of session storage. "+qo(v),{exception:Lt(v)})}return null}function du(i,a,u){var v=Ah();if(v!==null)try{return v.setItem(a,u),!0}catch(y){sv=!1,Zt(i,2,4,"Browser failed write to session storage. "+qo(y),{exception:Lt(y)})}return!1}var Li=";",ng="=";function rg(i){if(!i)return{};var a=i[Ih](Li),u=ea(a,function(y,w){var k=w[Ih](ng);if(k[br]===2){var M=k[0][hp](),K=k[1];y[M]=K}return y},{});if(Vn(u)[br]>0){if(u.endpointsuffix){var v=u.location?u.location+".":"";u[cd]=u[cd]||"https://"+v+"dc."+u.endpointsuffix}u[cd]=u[cd]||vp,Lo(u[cd],"/")&&(u[cd]=u[cd].slice(0,-1))}return u}var ig=function(){function i(a,u,v){var y=this,w=this;w.ver=1,w.sampleRate=100,w.tags={},w[Oc]=io(a,v)||Nc,w.data=u,w.time=Ya(new Date),w.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return y.sampleRate===100?4:1},tags:1,data:1}}return i}(),l=function(){function i(a,u,v,y){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var w=this;w.ver=2,w[Oc]=io(a,u)||Nc,w[fu]=_f(a,v),w[al]=hd(a,y)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.Event",i.dataType="EventData",i}(),m="<no_method>",E="error",P="stack",L="stackDetails",z="errorSrc",W="message",ae="description";function me(i,a){var u=i;return u&&!Kn(u)&&(JSON&&JSON[lu]?(u=JSON[lu](i),a&&(!u||u==="{}")&&(or(i[rv])?u=i[rv]():u=""+i)):u=""+i+" - (Missing JSON.stringify)"),u||""}function De(i,a){var u=i;return i&&(u&&!Kn(u)&&(u=i[W]||i[ae]||u),u&&!Kn(u)&&(u=me(u,!0)),i.filename&&(u=u+" @"+(i.filename||"")+":"+(i.lineno||"?")+":"+(i.colno||"?"))),a&&a!=="String"&&a!=="Object"&&a!=="Error"&&rc(u||"",a)===-1&&(u=a+": "+u),u||""}function Ke(i){try{if(Bt(i))return"hasFullStack"in i&&"typeName"in i}catch{}return!1}function bt(i){try{if(Bt(i))return"ver"in i&&"exceptions"in i&&"properties"in i}catch{}return!1}function St(i){return i&&i.src&&Kn(i.src)&&i.obj&&dt(i.obj)}function je(i){var a=i||"";Kn(a)||(Kn(a[P])?a=a[P]:a=""+a);var u=a[Ih](`
`);return{src:a,obj:u}}function xe(i){for(var a=[],u=i[Ih](`
`),v=0;v<u[br];v++){var y=u[v];u[v+1]&&(y+="@"+u[v+1],v++),a.push(y)}return{src:i,obj:a}}function We(i){var a=null;if(i)try{if(i[P])a=je(i[P]);else if(i[E]&&i[E][P])a=je(i[E][P]);else if(i.exception&&i.exception[P])a=je(i.exception[P]);else if(St(i))a=i;else if(St(i[L]))a=i[L];else if(ss()&&ss().opera&&i[W])a=xe(i[Da]);else if(i.reason&&i.reason[P])a=je(i.reason[P]);else if(Kn(i))a=je(i);else{var u=i[W]||i[ae]||"";Kn(i[z])&&(u&&(u+=`
`),u+=" from "+i[z]),u&&(a=je(u))}}catch(v){a=je(v)}return a||{src:"",obj:null}}function ke(i){var a="";return i&&(i.obj?hn(i.obj,function(u){a+=u+`
`}):a=i.src||""),a}function ct(i){var a,u=i.obj;if(u&&u[br]>0){a=[];var v=0,y=0;hn(u,function(ge){var st=ge[rv]();if(On.regex.test(st)){var Ye=new On(st,v++);y+=Ye[ld],a.push(Ye)}});var w=32*1024;if(y>w)for(var k=0,M=a[br]-1,K=0,V=k,se=M;k<M;){var we=a[k][ld],Ae=a[M][ld];if(K+=we+Ae,K>w){var Te=se-V+1;a.splice(V,Te);break}V=k,se=M,k++,M--}}return a}function nt(i){var a="";if(i&&(a=i.typeName||i[Oc]||"",!a))try{var u=/function (.{1,200})\(/,v=u.exec(i.constructor[rv]());a=v&&v[br]>1?v[1]:""}catch{}return a}function gt(i){if(i)try{if(!Kn(i)){var a=nt(i),u=me(i,!1);return(!u||u==="{}")&&(i[E]&&(i=i[E],a=nt(i)),u=me(i,!0)),rc(u,a)!==0&&a!=="String"?a+":"+u:u}}catch{}return""+(i||"")}var Xt=function(){function i(a,u,v,y,w,k){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var M=this;M.ver=2,bt(u)?(M[sl]=u[sl]||[],M[fu]=u[fu],M[al]=u[al],u[Nh]&&(M[Nh]=u[Nh]),u.id&&(M.id=u.id),u[gp]&&(M[gp]=u[gp]),At(u[Xp])||(M[Xp]=u[Xp])):(v||(v={}),M[sl]=[new Un(a,u,v)],M[fu]=_f(a,v),M[al]=hd(a,y),w&&(M[Nh]=w),k&&(M.id=k))}return i.CreateAutoException=function(a,u,v,y,w,k,M,K){var V,se=nt(w||k||a);return V={},V[Da]=De(a,se),V.url=u,V.lineNumber=v,V.columnNumber=y,V.error=gt(w||k||a),V.evt=gt(k||a),V[cl]=se,V.stackDetails=We(M||w||k),V.errorSrc=K,V},i.CreateFromInterface=function(a,u,v,y){var w=u[sl]&&Pf(u[sl],function(M){return Un[jv](a,M)}),k=new i(a,xi(xi({},u),{exceptions:w}),v,y);return k},i.prototype.toInterface=function(){var a,u=this,v=u.exceptions,y=u.properties,w=u.measurements,k=u.severityLevel,M=u.problemGroup,K=u.id,V=u.isManual,se=v instanceof Array&&Pf(v,function(we){return we.toInterface()})||void 0;return a={ver:"4.0"},a[sl]=se,a.severityLevel=k,a.properties=y,a.measurements=w,a.problemGroup=M,a.id=K,a.isManual=V,a},i.CreateSimpleException=function(a,u,v,y,w,k){var M;return{exceptions:[(M={},M[ov]=!0,M.message=a,M.stack=w,M.typeName=u,M)]}},i.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",i.dataType="ExceptionData",i.formatError=gt,i}(),Un=function(){function i(a,u,v){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var y=this;if(Ke(u))y[cl]=u[cl],y[Da]=u[Da],y[P]=u[P],y[Gs]=u[Gs]||[],y[ov]=u[ov];else{var w=u,k=w&&w.evt;mr(w)||(w=w[E]||k||w),y[cl]=io(a,nt(w))||Nc,y[Da]=vd(a,De(u||w,y[cl]))||Nc;var M=u[L]||We(u);y[Gs]=ct(M),dt(y[Gs])&&Pf(y[Gs],function(K){K[iv]=io(a,K[iv]),K[fd]=io(a,K[fd])}),y[P]=Jp(a,ke(M)),y.hasFullStack=dt(y.parsedStack)&&y.parsedStack[br]>0,v&&(v[cl]=v[cl]||y[cl])}}return i.prototype.toInterface=function(){var a,u=this,v=u[Gs]instanceof Array&&Pf(u[Gs],function(w){return w.toInterface()}),y=(a={id:u.id,outerId:u.outerId,typeName:u[cl],message:u[Da],hasFullStack:u[ov],stack:u[P]},a[Gs]=v||void 0,a);return y},i.CreateFromInterface=function(a,u){var v=u[Gs]instanceof Array&&Pf(u[Gs],function(w){return On[jv](w)})||u[Gs],y=new i(a,xi(xi({},u),{parsedStack:v}));return y},i}(),On=function(){function i(a,u){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var v=this;if(v[ld]=0,typeof a=="string"){var y=a;v[Oh]=u,v[dd]=m,v[iv]=Vo(y),v[fd]="",v[Hv]=0;var w=y.match(i.regex);w&&w[br]>=5&&(v[dd]=Vo(w[2])||v[dd],v[fd]=Vo(w[4]),v[Hv]=parseInt(w[5])||0)}else v[Oh]=a[Oh],v[dd]=a[dd],v[iv]=a[iv],v[fd]=a[fd],v[Hv]=a[Hv],v[ld]=0;v.sizeInBytes+=v.method[br],v.sizeInBytes+=v.fileName[br],v.sizeInBytes+=v.assembly[br],v[ld]+=i.baseSize,v.sizeInBytes+=v.level.toString()[br],v.sizeInBytes+=v.line.toString()[br]}return i.CreateFromInterface=function(a){return new i(a,null)},i.prototype.toInterface=function(){var a=this;return{level:a[Oh],method:a[dd],assembly:a[iv],fileName:a[fd],line:a[Hv]}},i.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,i.baseSize=58,i}(),xr=function(){function i(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return i}(),ni=function(){function i(a,u,v,y,w,k,M,K,V){this.aiDataContract={ver:1,metrics:1,properties:0};var se=this;se.ver=2;var we=new xr;we[pp]=y>0?y:void 0,we.max=isNaN(k)||k===null?void 0:k,we.min=isNaN(w)||w===null?void 0:w,we[Oc]=io(a,u)||Nc,we.value=v,we.stdDev=isNaN(M)||M===null?void 0:M,se.metrics=[we],se[fu]=_f(a,K),se[al]=hd(a,V)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",i.dataType="MetricData",i}(),Kr="";function Ri(i){(isNaN(i)||i<0)&&(i=0),i=Math.round(i);var a=Kr+i%1e3,u=Kr+Math.floor(i/1e3)%60,v=Kr+Math.floor(i/(1e3*60))%60,y=Kr+Math.floor(i/(1e3*60*60))%24,w=Math.floor(i/(1e3*60*60*24));return a=a[br]===1?"00"+a:a[br]===2?"0"+a:a,u=u[br]<2?"0"+u:u,v=v[br]<2?"0"+v:v,y=y[br]<2?"0"+y:y,(w>0?w+".":Kr)+y+":"+v+":"+u+"."+a}var wo=function(){function i(a,u,v,y,w,k,M){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var K=this;K.ver=2,K.id=Yv(a,M),K.url=ul(a,v),K[Oc]=io(a,u)||Nc,isNaN(y)||(K[kh]=Ri(y)),K[fu]=_f(a,w),K[al]=hd(a,k)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",i.dataType="PageviewData",i}(),Dr=function(){function i(a,u,v,y,w,k,M,K,V,se,we,Ae){V===void 0&&(V="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Te=this;Te.ver=2,Te.id=u,Te[kh]=Ri(w),Te.success=k,Te.resultCode=M+"",Te.type=io(a,V);var ge=Rm(a,v,K,y);Te.data=ul(a,y)||ge.data,Te.target=io(a,ge.target),se&&(Te.target="".concat(Te.target," | ").concat(se)),Te[Oc]=io(a,ge[Oc]),Te[fu]=_f(a,we),Te[al]=hd(a,Ae)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",i.dataType="RemoteDependencyData",i}(),jo=function(){function i(a,u,v,y,w){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var k=this;k.ver=2,u=u||Nc,k[Da]=vd(a,u),k[fu]=_f(a,y),k[al]=hd(a,w),v&&(k[Nh]=v)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.Message",i.dataType="MessageData",i}(),Ho=function(){function i(a,u,v,y,w,k,M){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var K=this;K.ver=2,K.url=ul(a,v),K[Oc]=io(a,u)||Nc,K[fu]=_f(a,w),K[al]=hd(a,k),M&&(K.domProcessing=M.domProcessing,K[kh]=M[kh],K.networkConnect=M.networkConnect,K.perfTotal=M.perfTotal,K[$v]=M[$v],K.sentRequest=M.sentRequest)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",i.dataType="PageviewPerformanceData",i}(),$i=function(){function i(a,u){this.aiDataContract={baseType:1,baseData:1},this.baseType=a,this.baseData=u}return i}(),Bs=Uf({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function Wi(i){var a="ai."+i+".";return function(u){return a+u}}var Ki=Wi("application"),Zn=Wi("device"),wr=Wi("location"),Ca=Wi("operation"),Wv=Wi("session"),ll=Wi("user"),fl=Wi("cloud"),s=Wi("internal"),c=function(i){Kc(a,i);function a(){return i.call(this)||this}return a}(Gu({applicationVersion:Ki("ver"),applicationBuild:Ki("build"),applicationTypeId:Ki("typeId"),applicationId:Ki("applicationId"),applicationLayer:Ki("layer"),deviceId:Zn("id"),deviceIp:Zn("ip"),deviceLanguage:Zn("language"),deviceLocale:Zn("locale"),deviceModel:Zn("model"),deviceFriendlyName:Zn("friendlyName"),deviceNetwork:Zn("network"),deviceNetworkName:Zn("networkName"),deviceOEMName:Zn("oemName"),deviceOS:Zn("os"),deviceOSVersion:Zn("osVersion"),deviceRoleInstance:Zn("roleInstance"),deviceRoleName:Zn("roleName"),deviceScreenResolution:Zn("screenResolution"),deviceType:Zn("type"),deviceMachineName:Zn("machineName"),deviceVMName:Zn("vmName"),deviceBrowser:Zn("browser"),deviceBrowserVersion:Zn("browserVersion"),locationIp:wr("ip"),locationCountry:wr("country"),locationProvince:wr("province"),locationCity:wr("city"),operationId:Ca("id"),operationName:Ca("name"),operationParentId:Ca("parentId"),operationRootId:Ca("rootId"),operationSyntheticSource:Ca("syntheticSource"),operationCorrelationVector:Ca("correlationVector"),sessionId:Wv("id"),sessionIsFirst:Wv("isFirst"),sessionIsNew:Wv("isNew"),userAccountAcquisitionDate:ll("accountAcquisitionDate"),userAccountId:ll("accountId"),userAgent:ll("userAgent"),userId:ll("id"),userStoreRegion:ll("storeRegion"),userAuthUserId:ll("authUserId"),userAnonymousUserAcquisitionDate:ll("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ll("authUserAcquisitionDate"),cloudName:fl("name"),cloudRole:fl("role"),cloudRoleVer:fl("roleVer"),cloudRoleInstance:fl("roleInstance"),cloudEnvironment:fl("environment"),cloudLocation:fl("location"),cloudDeploymentUnit:fl("deploymentUnit"),internalNodeName:s("nodeName"),internalSdkVersion:s("sdkVersion"),internalAgentVersion:s("agentVersion"),internalSnippet:s("snippet"),internalSdkSrc:s("sdkSrc")})),p=new c,S="AppInsightsChannelPlugin",b="duration",F="tags",q="deviceType",G="data",Z="name",ue="traceID",re="length",Re="stringify",ve="measurements",be="dataType",de="envelopeType",Ze="toString",Xe="onLine",mt="isOnline",wt="_get",Pt="enqueue",un="count",nr="eventsLimitInMem",Gr="push",ie="emitLineDelimitedJson",Ue="clear",et="batchPayloads",ut="createNew",Yt="markAsSent",Rn="clearSent",Pe="bufferOverride",fe="BUFFER_KEY",Ne="SENT_BUFFER_KEY",Le="MAX_BUFFER_SIZE",vt="sendPOST",Rt="triggerSend",Ot="diagLog",Pn="_sender",ri="customHeaders",qr="maxBatchSizeInBytes",vu="onunloadDisableBeacon",ec="isBeaconApiDisabled",Kv="alwaysUseXhrOverride",kc="enableSessionStorageBuffer",hu="_buffer",og="onunloadDisableFetch",Mh="disableSendBeaconSplit",Be="instrumentationKey",qt="convertUndefined",jn="maxBatchInterval",In="baseType",Tn="sampleRate",Ai="_xhrReadyStateChange",Ur="_onError",Zo="_onPartialSuccess",ys="_onSuccess",pu="itemsAccepted",sg="itemsReceived",yp="oriPayload",xS="setRequestHeader",F0="eventsSendRequest",L0="getSamplingScore",ik="getHashCodeScore",FS="baseType",Ro="baseData",Ta="properties",A0="true";function xs(i,a,u){return hs(i,a,u,Ir)}function ok(i,a,u){var v=u[F]=u[F]||{},y=a.ext=a.ext||{},w=a[F]=a[F]||[],k=y.user;k&&(xs(v,p.userAuthUserId,k.authId),xs(v,p.userId,k.id||k.localId));var M=y.app;M&&xs(v,p.sessionId,M.sesId);var K=y.device;K&&(xs(v,p.deviceId,K.id||K.localId),xs(v,p[q],K.deviceClass),xs(v,p.deviceIp,K.ip),xs(v,p.deviceModel,K.model),xs(v,p[q],K[q]));var V=a.ext.web;if(V){xs(v,p.deviceLanguage,V.browserLang),xs(v,p.deviceBrowserVersion,V.browserVer),xs(v,p.deviceBrowser,V.browser);var se=u[G]=u[G]||{},we=se[Ro]=se[Ro]||{},Ae=we[Ta]=we[Ta]||{};xs(Ae,"domain",V.domain),xs(Ae,"isManual",V.isManual?A0:null),xs(Ae,"screenRes",V.screenRes),xs(Ae,"userConsent",V.userConsent?A0:null)}var Te=y.os;Te&&xs(v,p.deviceOS,Te[Z]);var ge=y.trace;ge&&(xs(v,p.operationParentId,ge.parentID),xs(v,p.operationName,io(i,ge[Z])),xs(v,p.operationId,ge[ue]));for(var st={},Ye=w[re]-1;Ye>=0;Ye--){var lt=w[Ye];Gn(lt,function(at,zt){st[at]=zt}),w.splice(Ye,1)}Gn(w,function(at,zt){st[at]=zt});var tt=xi(xi({},v),st);tt[p.internalSdkVersion]||(tt[p.internalSdkVersion]=io(i,"javascript:".concat(sk.Version),64)),u[F]=rn(tt)}function Sp(i,a,u){At(i)||Gn(i,function(v,y){Pr(y)?u[v]=y:Kn(y)?a[v]=y:Qo()&&(a[v]=So()[Re](y))})}function ag(i,a){At(i)||Gn(i,function(u,v){i[u]=v||a})}function cg(i,a,u,v){var y=new ig(i,v,a);xs(y,"sampleRate",u[wh]),(u[Ro]||{}).startTime&&(y.time=Ya(u[Ro].startTime)),y.iKey=u.iKey;var w=u.iKey.replace(/-/g,"");return y[Z]=y[Z].replace("{0}",w),ok(i,u,y),u[F]=u[F]||[],rn(y)}function ug(i,a){At(a[Ro])&&Zt(i,1,46,"telemetryItem.baseData cannot be null.")}var sk={Version:"3.0.6"};function ak(i,a,u){ug(i,a);var v=a[Ro][ve]||{},y=a[Ro][Ta]||{};Sp(a[G],y,v),At(u)||ag(y,u);var w=a[Ro];if(At(w))return Bd(i,"Invalid input for dependency data"),null;var k=w[Ta]&&w[Ta][Ph]?w[Ta][Ph]:"GET",M=new Dr(i,w.id,w.target,w[Z],w[b],w.success,w.responseCode,k,w.type,w.correlationContext,y,v),K=new $i(Dr[be],M);return cg(i,Dr[de],a,K)}function M0(i,a,u){ug(i,a);var v={},y={};a[FS]!==l[be]&&(v.baseTypeSource=a[FS]),a[FS]===l[be]?(v=a[Ro][Ta]||{},y=a[Ro][ve]||{}):a[Ro]&&Sp(a[Ro],v,y),Sp(a[G],v,y),At(u)||ag(v,u);var w=a[Ro][Z],k=new l(i,w,v,y),M=new $i(l[be],k);return cg(i,l[de],a,M)}function ck(i,a,u){ug(i,a);var v=a[Ro][ve]||{},y=a[Ro][Ta]||{};Sp(a[G],y,v),At(u)||ag(y,u);var w=a[Ro],k=Xt.CreateFromInterface(i,w,y,v),M=new $i(Xt[be],k);return cg(i,Xt[de],a,M)}function uk(i,a,u){ug(i,a);var v=a[Ro],y=v[Ta]||{},w=v[ve]||{};Sp(a[G],y,w),At(u)||ag(y,u);var k=new ni(i,v[Z],v.average,v.sampleCount,v.min,v.max,v.stdDev,y,w),M=new $i(ni[be],k);return cg(i,ni[de],a,M)}function lk(i,a,u){ug(i,a);var v,y=a[Ro];!At(y)&&!At(y[Ta])&&!At(y[Ta][b])?(v=y[Ta][b],delete y[Ta][b]):!At(a[G])&&!At(a[G][b])&&(v=a[G][b],delete a[G][b]);var w=a[Ro],k;((a.ext||{}).trace||{})[ue]&&(k=a.ext.trace[ue]);var M=w.id||k,K=w[Z],V=w.uri,se=w[Ta]||{},we=w[ve]||{};if(At(w.refUri)||(se.refUri=w.refUri),At(w.pageType)||(se.pageType=w.pageType),At(w.isLoggedIn)||(se.isLoggedIn=w.isLoggedIn[Ze]()),!At(w[Ta])){var Ae=w[Ta];Gn(Ae,function(st,Ye){se[st]=Ye})}Sp(a[G],se,we),At(u)||ag(se,u);var Te=new wo(i,K,V,v,se,we,M),ge=new $i(wo[be],Te);return cg(i,wo[de],a,ge)}function fk(i,a,u){ug(i,a);var v=a[Ro],y=v[Z],w=v.uri||v.url,k=v[Ta]||{},M=v[ve]||{};Sp(a[G],k,M),At(u)||ag(k,u);var K=new Ho(i,y,w,void 0,k,M,v),V=new $i(Ho[be],K);return cg(i,Ho[de],a,V)}function dk(i,a,u){ug(i,a);var v=a[Ro].message,y=a[Ro].severityLevel,w=a[Ro][Ta]||{},k=a[Ro][ve]||{};Sp(a[G],w,k),At(u)||ag(w,u);var M=new jo(i,v,y,w,k),K=new $i(jo[be],M);return cg(i,jo[de],a,K)}function q0(i,a){Vp(i,null,null,a)}function vk(i){var a,u=Go(),v=Js(),y=!1,w=!0,k=dp(Uo("OfflineListener"),i);try{if(K(ss())&&(y=!0),u){var M=u.body||u;M.ononline&&K(M)&&(y=!0)}y&&v&&!At(v[Xe])&&(w=v[Xe])}catch{y=!1}function K(Te){var ge=!1;return Te&&(ge=Ic(Te,"online",V,k),ge&&Ic(Te,"offline",se,k)),ge}function V(){w=!0}function se(){w=!1}function we(){var Te=!0;return y?Te=w:v&&!At(v[Xe])&&(Te=v[Xe]),Te}function Ae(){var Te=ss();if(Te&&y){if(q0(Te,k),u){var ge=u.body||u;Kt(ge.ononline)||q0(ge,k)}y=!1}}return a={},a[mt]=we,a.isListening=function(){return y},a.unload=Ae,a}var U0=function(){function i(a,u){var v=[],y=!1;this[wt]=function(){return v},this._set=function(w){return v=w,v},ki(i,this,function(w){w[Pt]=function(k){if(w[un]()>=u[nr]){y||(Zt(a,2,105,"Maximum in-memory buffer size reached: "+w[un](),!0),y=!0);return}v[Gr](k)},w[un]=function(){return v[re]},w.size=function(){for(var k=v[re],M=0;M<v[re];M++)k+=v[M][re];return u[ie]||(k+=2),k},w[Ue]=function(){v=[],y=!1},w.getItems=function(){return v.slice(0)},w[et]=function(k){if(k&&k[re]>0){var M=u[ie]?k.join(`
`):"["+k.join(",")+"]";return M}return null},w[ut]=function(k,M,K){var V=v.slice(0);k=k||a,M=M||{};var se=K?new j0(k,M):new LS(k,M);return hn(V,function(we){se[Pt](we)}),se}})}return i.__ieDyn=1,i}(),LS=function(i){Kc(a,i);function a(u,v){var y=i.call(this,u,v)||this;return ki(a,y,function(w,k){w[Yt]=function(M){k[Ue]()},w[Rn]=function(M){}}),y}return a.__ieDyn=1,a}(U0),j0=function(i){Kc(a,i);function a(u,v){var y=i.call(this,u,v)||this,w=!1,k=v?.namePrefix,M=v[Pe]||{getItem:Fi,setItem:du},K=M.getItem,V=M.setItem;return ki(a,y,function(se,we){var Ae=Ye(a[fe]),Te=Ye(a[Ne]),ge=se._set(Ae.concat(Te));ge[re]>a[Le]&&(ge[re]=a[Le]),lt(a[Ne],[]),lt(a[fe],ge),se[Pt]=function(tt){if(se[un]()>=a[Le]){w||(Zt(u,2,67,"Maximum buffer size reached: "+se[un](),!0),w=!0);return}we[Pt](tt),lt(a.BUFFER_KEY,se[wt]())},se[Ue]=function(){we[Ue](),lt(a.BUFFER_KEY,se[wt]()),lt(a[Ne],[]),w=!1},se[Yt]=function(tt){lt(a[fe],se._set(st(tt,se[wt]())));var at=Ye(a[Ne]);at instanceof Array&&tt instanceof Array&&(at=at.concat(tt),at[re]>a[Le]&&(Zt(u,1,67,"Sent buffer reached its maximum size: "+at[re],!0),at[re]=a[Le]),lt(a[Ne],at))},se[Rn]=function(tt){var at=Ye(a[Ne]);at=st(tt,at),lt(a[Ne],at)},se[ut]=function(tt,at,zt){zt=!!zt;var rr=se[wt]().slice(0),di=Ye(a[Ne]).slice(0);tt=tt||u,at=at||{},se[Ue]();var $o=zt?new a(tt,at):new LS(tt,at);return hn(rr,function(oo){$o[Pt](oo)}),zt&&$o[Yt](di),$o};function st(tt,at){var zt=[];return hn(at,function(rr){!or(rr)&&fo(tt,rr)===-1&&zt[Gr](rr)}),zt}function Ye(tt){var at=tt;try{at=k?k+"_"+at:at;var zt=K(u,at);if(zt){var rr=So().parse(zt);if(Kn(rr)&&(rr=So().parse(rr)),rr&&dt(rr))return rr}}catch(di){Zt(u,1,42," storage key: "+at+", "+qo(di),{exception:Lt(di)})}return[]}function lt(tt,at){var zt=tt;try{zt=k?k+"_"+zt:zt;var rr=JSON[Re](at);V(u,zt,rr)}catch(di){V(u,zt,JSON[Re]([])),Zt(u,2,41," storage key: "+zt+", "+qo(di)+". Buffer cleared",{exception:Lt(di)})}}}),y}return a.BUFFER_KEY="AI_buffer",a.SENT_BUFFER_KEY="AI_sentBuffer",a.MAX_BUFFER_SIZE=2e3,a}(U0),hk=function(){function i(a){ki(i,this,function(u){u.serialize=function(k){var M=v(k,"root");try{return So()[Re](M)}catch(K){Zt(a,1,48,K&&or(K[Ze])?K[Ze]():"Error serializing object",null,!0)}};function v(k,M){var K="__aiCircularRefCheck",V={};if(!k)return Zt(a,1,48,"cannot serialize object because it is null or undefined",{name:M},!0),V;if(k[K])return Zt(a,2,50,"Circular reference detected while serializing object",{name:M},!0),V;if(!k.aiDataContract){if(M==="measurements")V=w(k,"number",M);else if(M==="properties")V=w(k,"string",M);else if(M==="tags")V=w(k,"string",M);else if(dt(k))V=y(k,M);else{Zt(a,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:M},!0);try{So()[Re](k),V=k}catch(se){Zt(a,1,48,se&&or(se[Ze])?se[Ze]():"Error serializing object",null,!0)}}return V}return k[K]=!0,Gn(k.aiDataContract,function(se,we){var Ae=or(we)?we()&1:we&1,Te=or(we)?we()&4:we&4,ge=we&2,st=k[se]!==void 0,Ye=Bt(k[se])&&k[se]!==null;if(Ae&&!st&&!ge)Zt(a,1,24,"Missing required field specification. The field is required but not present on source",{field:se,name:M});else if(!Te){var lt=void 0;Ye?ge?lt=y(k[se],se):lt=v(k[se],se):lt=k[se],lt!==void 0&&(V[se]=lt)}}),delete k[K],V}function y(k,M){var K;if(k)if(!dt(k))Zt(a,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:M},!0);else{K=[];for(var V=0;V<k[re];V++){var se=k[V],we=v(se,M+"["+V+"]");K[Gr](we)}}return K}function w(k,M,K){var V;return k&&(V={},Gn(k,function(se,we){if(M==="string")we===void 0?V[se]="undefined":we===null?V[se]="null":we[Ze]?V[se]=we[Ze]():V[se]="invalid field: toString() is not defined.";else if(M==="number")if(we===void 0)V[se]="undefined";else if(we===null)V[se]="null";else{var Ae=parseFloat(we);isNaN(Ae)?V[se]="NaN":V[se]=Ae}else V[se]="invalid field: "+K+" is of unknown type.",Zt(a,1,V[se],null,!0)})),V}})}return i.__ieDyn=1,i}(),pk=8,gk=function(){function i(){}return i.prototype.getHashCodeScore=function(a){var u=this.getHashCode(a)/i.INT_MAX_VALUE;return u*100},i.prototype.getHashCode=function(a){if(a==="")return 0;for(;a[re]<pk;)a=a.concat(a);for(var u=5381,v=0;v<a[re];++v)u=(u<<5)+u+a.charCodeAt(v),u=u&u;return Math.abs(u)},i.INT_MAX_VALUE=2147483647,i}(),mk=function(){function i(){var a=this,u=new gk,v=new c;a[L0]=function(y){var w=0;return y[F]&&y[F][v.userId]?w=u.getHashCodeScore(y[F][v.userId]):y.ext&&y.ext.user&&y.ext.user.id?w=u[ik](y.ext.user.id):y[F]&&y[F][v.operationId]?w=u.getHashCodeScore(y[F][v.operationId]):y.ext&&y.ext.telemetryTrace&&y.ext.telemetryTrace[ue]?w=u.getHashCodeScore(y.ext.telemetryTrace[ue]):w=Math.random()*100,w}}return i}(),_k=function(){function i(a,u){this.INT_MAX_VALUE=2147483647;var v=u||uf(null);(a>100||a<0)&&(v.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:a},!0),a=100),this[Tn]=a,this.samplingScoreGenerator=new mk}return i.prototype.isSampledIn=function(a){var u=this[Tn],v=!1;return u==null||u>=100||a.baseType===ni[be]?!0:(v=this.samplingScoreGenerator[L0](a)<u,v)},i}(),es,qh,Dp=void 0,yk=65e3;function y_(i){try{return i.responseText}catch{}return null}function Sk(i){return i&&i[vt]}var H0=xo((es={endpointUrl:rf(Ir,vp+qv)},es[ie]=Tc(),es[jn]=15e3,es[qr]=102400,es.disableTelemetry=Tc(),es[kc]=Tc(!0),es.isRetryDisabled=Tc(),es[ec]=Tc(!0),es[Mh]=Tc(),es.disableXhr=Tc(),es[og]=Tc(),es[vu]=Tc(),es[Be]=Dp,es.namePrefix=Dp,es.samplingPercentage=rf(Dk,100),es[ri]=Dp,es[qt]=Dp,es[nr]=1e4,es[Pe]=!1,es.httpXHROverride={isVal:Sk,v:Dp},es[Kv]=Tc(),es));function Dk(i){return!isNaN(i)&&i>0&&i<=100}var Ck=(qh={},qh[l.dataType]=M0,qh[jo.dataType]=dk,qh[wo.dataType]=lk,qh[Ho.dataType]=fk,qh[Xt.dataType]=ck,qh[ni.dataType]=uk,qh[Dr.dataType]=ak,qh),$0=function(i){Kc(a,i);function a(){var u=i.call(this)||this;u.priority=1001,u.identifier=S;var v,y,w,k,M,K,V,se=0,we,Ae,Te,ge,st,Ye,lt,tt,at,zt,rr,di,$o,oo,Ea,Fs,Fg,Gv,xt,Bv,Lg,av,Uh;return ki(a,u,function(ft,S_){z0(),ft.pause=function(){jh(),w=!0},ft.resume=function(){w&&(w=!1,y=null,qg(),dl())},ft.flush=function(Se,rt,Mt){if(Se===void 0&&(Se=!0),!w){jh();try{return ft[Rt](Se,null,Mt||1)}catch(Wt){Zt(ft[Ot](),1,22,"flush failed, telemetry will not be collected: "+qo(Wt),{exception:Lt(Wt)})}}},ft.onunloadFlush=function(){if(!w)if(lt||Gv)try{return ft[Rt](!0,Ve,2)}catch(Se){Zt(ft[Ot](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+qo(Se),{exception:Lt(Se)})}else ft.flush(!1)},ft.addHeader=function(Se,rt){V[Se]=rt},ft.initialize=function(Se,rt,Mt,Wt){ft.isInitialized()&&Zt(ft[Ot](),1,28,"Sender is already initialized"),S_.initialize(Se,rt,Mt,Wt);var sn=ft.identifier;M=new hk(rt.logger),v=0,y=null,ft[Pn]=null,K=0;var gn=ft[Ot]();Te=dp(Uo("Sender"),rt.evtNamespace&&rt.evtNamespace()),Ae=vk(Te),ft._addHook(ru(Se,function(Rr){var Cr=Rr.cfg;Cr.storagePrefix&&Sf(Cr.storagePrefix);var ns=an(null,Cr,rt),_n=ns.getExtCfg(sn,H0);gr(ft,"_senderConfig",{g:function(){return _n}}),st!==_n.endpointUrl&&(ge=st=_n.endpointUrl),tt&&tt!==_n[ri]&&hn(tt,function(Po){delete V[Po.header]}),Ye=_n[qr],lt=(_n[vu]===!1||_n[ec]===!1)&&Ga(),Gv=_n[Kv],xt=!!_n.disableXhr;var cv=_n[Pe],Vv=!!_n[kc]&&(!!cv||tg()),Ug=_n.namePrefix,D_=Vv!==oo||Vv&&Fs!==Ug||Vv&&Ea!==cv;if(ft[hu]){if(D_)try{ft._buffer=ft._buffer[ut](gn,_n,Vv)}catch(Po){Zt(ft[Ot](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+qo(Po),{exception:Lt(Po)})}qg()}else ft[hu]=Vv?new j0(gn,_n):new LS(gn,_n);Fs=Ug,oo=Vv,Ea=cv,Bv=!_n[og]&&Wf(!0),Uh=!!_n[Mh],ft._sample=new _k(_n.samplingPercentage,gn),zt=_n[Be],Ik(zt,Cr)||Zt(gn,1,100,"Invalid Instrumentation key "+zt),tt=_n[ri],!yf(ge)&&tt&&tt[re]>0?hn(tt,function(Po){u.addHeader(Po.header,Po.value)}):tt=null,Fg=_n.enableSendPromise;var Xv=_n.httpXHROverride,Cp=null,jg=null;Cp=Ag([1,2],!1);var wa={sendPOST:xn};Lg=function(Po,Hh){return lg(wa,Po,Hh)},av=function(Po,Hh){return lg(wa,Po,Hh,!1)},!_n[ec]&&Ga()&&(Cp=Ag([3],!1)),Cp=Gv?Xv:Cp||Xv||wa,ft[Pn]=function(Po,Hh){return lg(Cp,Po,Hh)},Bv&&(we=Hn),jg=Gv?Xv:Ag([3,1],!0)||Xv,(Gv||!we)&&jg&&(we=function(Po,Hh){return lg(jg,Po,Hh)}),we||(we=Lg),at=_n.disableTelemetry,rr=_n[qt]||Dp,di=_n.isRetryDisabled,$o=_n[jn]}))},ft.processTelemetry=function(Se,rt){rt=ft._getTelCtx(rt);var Mt=rt[Ot]();try{if(at)return;if(!Se){Zt(Mt,1,7,"Cannot send empty telemetry");return}if(Se.baseData&&!Se[In]){Zt(Mt,1,70,"Cannot send telemetry without baseData and baseType");return}if(Se[In]||(Se[In]="EventData"),!ft[Pn]){Zt(Mt,1,28,"Sender was not initialized");return}if(Pm(Se))Se[wh]=ft._sample[Tn];else{Zt(Mt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:ft._sample[Tn]});return}var Wt=Se.iKey||zt,sn=a.constructEnvelope(Se,Wt,Mt,rr);if(!sn){Zt(Mt,1,47,"Unable to create an AppInsights envelope");return}var gn=!1;if(Se[F]&&Se[F][Rh]&&(hn(Se[F][Rh],function(ns){try{ns&&ns(sn)===!1&&(gn=!0,Bd(Mt,"Telemetry processor check returns false"))}catch(_n){Zt(Mt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+qo(_n),{exception:Lt(_n)},!0)}}),delete Se[F][Rh]),gn)return;var Rr=M.serialize(sn),Cr=ft[hu];qg(Rr),Cr[Pt](Rr),dl()}catch(ns){Zt(Mt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+qo(ns),{exception:Lt(ns)})}ft.processNext(Se,rt)},ft[Ai]=function(Se,rt,Mt){Se.readyState===4&&Nm(Se.status,rt,Se.responseURL,Mt,US(Se),y_(Se)||Se.response)},ft[Rt]=function(Se,rt,Mt){Se===void 0&&(Se=!0);var Wt;if(!w)try{var sn=ft[hu];if(at)sn[Ue]();else if(sn[un]()>0){var gn=sn.getItems();Pk(Mt||0,Se),rt?Wt=rt.call(ft,gn,Se):Wt=ft[Pn](gn,Se)}jh()}catch(Cr){var Rr=Qc();(!Rr||Rr>9)&&Zt(ft[Ot](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+qo(Cr),{exception:Lt(Cr)})}return Wt},ft._doTeardown=function(Se,rt){ft.onunloadFlush(),iu(Ae,!1),z0()},ft[Ur]=function(Se,rt,Mt){Zt(ft[Ot](),2,26,"Failed to send telemetry.",{message:rt}),ft._buffer&&ft._buffer[Rn](Se)},ft[Zo]=function(Se,rt){for(var Mt=[],Wt=[],sn=rt.errors.reverse(),gn=0,Rr=sn;gn<Rr.length;gn++){var Cr=Rr[gn],ns=Se.splice(Cr.index,1)[0];km(Cr.statusCode)?Wt[Gr](ns):Mt[Gr](ns)}Se[re]>0&&ft[ys](Se,rt[pu]),Mt[re]>0&&ft[Ur](Mt,US(null,["partial success",rt[pu],"of",rt.itemsReceived].join(" "))),Wt[re]>0&&(ts(Wt),Zt(ft[Ot](),2,40,"Partial success. Delivered: "+Se[re]+", Failed: "+Mt[re]+". Will retry to send "+Wt[re]+" our of "+rt[sg]+" items"))},ft[ys]=function(Se,rt){ft._buffer&&ft._buffer[Rn](Se)},ft._xdrOnLoad=function(Se,rt){var Mt=y_(Se);if(Se&&(Mt+""=="200"||Mt===""))v=0,ft[ys](rt,0);else{var Wt=vi(Mt);Wt&&Wt.itemsReceived&&Wt.itemsReceived>Wt[pu]&&!di?ft[Zo](rt,Wt):ft[Ur](rt,Y0(Se))}};function Pm(Se){return ft._sample.isSampledIn(Se)}function Ag(Se,rt){for(var Mt,Wt=null,sn=null,gn=0;sn==null&&gn<Se[re];)Wt=Se[gn],!xt&&Wt===1?Xu()?sn=wk:Ju()&&(sn=xn):Wt===2&&Wf(rt)?sn=qS:Ga()&&Wt===3&&(sn=kn),gn++;return sn?(Mt={},Mt[vt]=sn,Mt):null}function Mg(Se,rt,Mt,Wt){rt===200&&Se?ft._onSuccess(Se,Se[re]):Wt&&ft[Ur](Se,Wt)}function lg(Se,rt,Mt,Wt){Wt===void 0&&(Wt=!0);var sn=function(Cr,ns,_n){return Mg(rt,Cr,ns,_n)},gn=Im(rt),Rr=Se&&Se[vt];return Rr&&gn?(Wt&&ft._buffer[Yt](rt),Rr(gn,sn,!Mt)):null}function Im(Se){var rt;if(dt(Se)&&Se[re]>0){var Mt=ft._buffer[et](Se),Wt=(rt={},rt[G]=Mt,rt.urlString=ge,rt.headers=V,rt.disableXhrSync=xt,rt.disableFetchKeepAlive=!Bv,rt[yp]=Se,rt);return Wt}return null}function qS(Se,rt,Mt){return Pi(Se,rt,!1)}function qg(Se){var rt=Se?Se[re]:0;return ft[hu].size()+rt>Ye?((!Ae||Ae[mt]())&&ft[Rt](!0,null,10),!0):!1}function Nm(Se,rt,Mt,Wt,sn,gn){var Rr=null;if(ft._appId||(Rr=vi(gn),Rr&&Rr.appId&&(ft._appId=Rr.appId)),(Se<200||Se>=300)&&Se!==0){if((Se===301||Se===307||Se===308)&&!Om(Mt)){ft[Ur](rt,sn);return}!di&&km(Se)?(ts(rt),Zt(ft[Ot](),2,40,". Response code "+Se+". Will retry to send "+rt[re]+" items.")):ft[Ur](rt,sn)}else if(Ae&&!Ae[mt]()){if(!di){var Cr=10;ts(rt,Cr),Zt(ft[Ot](),2,40,". Offline - Response Code: ".concat(Se,". Offline status: ").concat(!Ae.isOnline(),". Will retry to send ").concat(rt.length," items."))}}else Om(Mt),Se===206?(Rr||(Rr=vi(gn)),Rr&&!di?ft[Zo](rt,Rr):ft[Ur](rt,sn)):(v=0,ft[ys](rt,Wt))}function Om(Se){return K>=10?!1:!At(Se)&&Se!==""&&Se!==ge?(ge=Se,++K,!0):!1}function Df(Se,rt,Mt,Wt){try{Se(rt,Mt,Wt)}catch{}}function Ve(Se,rt){if(we)we(Se,!1);else{var Mt=Im(Se);kn(Mt)}}function Ut(Se,rt){var Mt=Js(),Wt=ge,sn=ft[hu],gn=sn[et](Se),Rr=new Blob([gn],{type:"text/plain;charset=UTF-8"}),Cr=Mt.sendBeacon(Wt,Rr);return Cr&&ft._onSuccess(Se,Se[re]),Cr}function kn(Se,rt,Mt){var Wt=Se,sn=Wt&&Wt[yp];if(dt(sn)&&sn[re]>0&&!Ut(sn))if(Uh)av&&av(sn,!0),Zt(ft[Ot](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var gn=[],Rr=0;Rr<sn[re];Rr++){var Cr=sn[Rr];Ut([Cr])||gn[Gr](Cr)}gn[re]>0&&(av&&av(gn,!0),Zt(ft[Ot](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function xn(Se,rt,Mt){var Wt=Se,sn,gn,Rr,Cr=new XMLHttpRequest,ns=ge;try{Cr[Mv]=!0}catch{}return Cr.open("POST",ns,!Mt),Cr[xS]("Content-type","application/json"),yf(ns)&&Cr[xS](Uv[6],Uv[7]),hn(Vn(V),function(_n){Cr[xS](_n,V[_n])}),Cr.onreadystatechange=function(){var _n=Wt[yp];ft._xhrReadyStateChange(Cr,_n,_n[re]),Cr.readyState===4&&gn&&gn(!0)},Cr.onerror=function(_n){Df(rt,400,{},US(Cr)),Rr&&Rr(_n)},!Mt&&Fg&&(sn=Yu(function(_n,cv){gn=_n,Rr=cv})),Cr.send(Se[G]),sn}function Hn(Se,rt){var Mt=function(Rr,Cr,ns){return Mg(Se,Rr,Cr,ns)};if(dt(Se)){for(var Wt=Se[re],sn=0;sn<Se[re];sn++)Wt+=Se[sn][re];var gn=Im(Se);se+Wt<=yk?Pi(gn,Mt,!0):Ga()?kn(gn):(av&&av(Se,!0),Zt(ft[Ot](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function Pi(Se,rt,Mt){var Wt,sn=ge,gn=Se,Rr=gn[G],Cr=new Blob([Rr],{type:"application/json"}),ns,_n,cv,Vv=new Headers,Ug=Rr[re],D_=!1,Xv=!1;yf(sn)&&Vv.append(Uv[6],Uv[7]),hn(Vn(V),function(wa){Vv.append(wa,V[wa])});var Cp=(Wt={method:"POST",headers:Vv,body:Cr},Wt[Mv]=!0,Wt);Mt&&(Cp.keepalive=!0,D_=!0,se+=Ug);var jg=new Request(sn,Cp);try{jg[Mv]=!0}catch{}!Mt&&Fg&&(ns=Yu(function(wa,Po){_n=wa,cv=Po}));try{Zi(fetch(jg),function(wa){if(Mt&&(se-=Ug,Ug=0),!Xv)if(Xv=!0,wa.rejected)Df(rt,400,{},wa.reason&&wa.reason.message),cv&&cv(wa.reason);else{var Po=wa.value;Po.ok?Zi(Po.text(),function(Hh){var W0=gn[yp];Nm(Po.status,W0,Po.url,W0[re],Po.statusText,Hh.value||""),_n&&_n(!0)}):(Df(rt,400,{},Po.statusText),_n&&_n(!1))}})}catch(wa){Xv||(Df(rt,400,{},Lt(wa)),cv&&cv(wa))}return D_&&!Xv&&(Xv=!0,Df(rt,200,{}),_n&&_n(!0)),ns}function vi(Se){try{if(Se&&Se!==""){var rt=So().parse(Se);if(rt&&rt.itemsReceived&&rt.itemsReceived>=rt[pu]&&rt.itemsReceived-rt.itemsAccepted===rt.errors[re])return rt}}catch(Mt){Zt(ft[Ot](),1,43,"Cannot parse the response. "+qo(Mt),{response:Se})}return null}function ts(Se,rt){if(rt===void 0&&(rt=1),!(!Se||Se[re]===0)){var Mt=ft[hu];Mt[Rn](Se),v++;for(var Wt=0,sn=Se;Wt<sn.length;Wt++){var gn=sn[Wt];Mt[Pt](gn)}ba(rt),dl()}}function ba(Se){var rt=10,Mt;if(v<=1)Mt=rt;else{var Wt=(Math.pow(2,v)-1)/2,sn=Math.floor(Math.random()*Wt*rt)+1;sn=Se*sn,Mt=Math.max(Math.min(sn,3600),rt)}var gn=$c()+Mt*1e3;y=gn}function dl(){if(!k&&!w){var Se=y?Math.max(0,y-$c()):0,rt=Math.max($o,Se);k=Pl(function(){k=null,ft[Rt](!0,null,1)},rt)}}function jh(){k&&k.cancel(),k=null,y=null}function km(Se){return Se===401||Se===403||Se===408||Se===429||Se===500||Se===502||Se===503||Se===504}function US(Se,rt){return Se?"XMLHttpRequest,Status:"+Se.status+",Response:"+y_(Se)||Se.response||"":rt}function wk(Se,rt,Mt){var Wt=Se,sn=ss(),gn=new XDomainRequest,Rr=Wt[G];gn.onload=function(){var _n=Wt[yp];ft._xdrOnLoad(gn,_n)},gn.onerror=function(){Df(rt,400,{},Y0(gn))};var Cr=sn&&sn.location&&sn.location.protocol||"";if(ge.lastIndexOf(Cr,0)!==0){Zt(ft[Ot](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),ft._buffer[Ue]();return}var ns=ge.replace(/^(https?:)/,"");gn.open("POST",ns),gn.send(Rr)}function Y0(Se,rt){return Se?"XDomainRequest,Response:"+y_(Se)||"":rt}function Rk(){var Se="getNotifyMgr";return ft.core[Se]?ft.core[Se]():ft.core._notificationManager}function Pk(Se,rt){var Mt=Rk();if(Mt&&Mt[F0])try{Mt[F0](Se,rt)}catch(Wt){Zt(ft[Ot](),1,74,"send request notification failed: "+qo(Wt),{exception:Lt(Wt)})}}function Ik(Se,rt){var Mt=rt.disableInstrumentationKeyValidation,Wt=At(Mt)?!1:Mt;if(Wt)return!0;var sn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",gn=new RegExp(sn);return gn.test(Se)}function z0(){ft[Pn]=null,ft[hu]=null,ft._appId=null,ft._sample=null,V={},Ae=null,v=0,y=null,w=!1,k=null,M=null,K=0,se=0,we=null,Te=null,ge=null,st=null,Ye=0,lt=!1,tt=null,at=!1,zt=null,rr=Dp,di=!1,oo=null,Fs=Dp,xt=!1,Bv=!1,Uh=!1,Lg=null,av=null,gr(ft,"_senderConfig",{g:function(){return za({},H0)}})}}),u}return a.constructEnvelope=function(u,v,y,w){var k;v!==u.iKey&&!At(v)?k=xi(xi({},u),{iKey:v}):k=u;var M=Ck[k.baseType]||M0;return M(y,k,w)},a}(ro),AS="instrumentationKey",MS="connectionString",Tk={diagnosticLogInterval:rf(Ek,1e4)};function Ek(i){return i&&i>0}var bk=function(){function i(a){var u=new ol,v;(At(a)||At(a[AS])&&At(a[MS]))&&dr("Invalid input configuration"),ki(i,this,function(w){gr(w,"config",{g:function(){return v}}),k(),w.initialize=k,w.track=y,Hf(w,u,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function k(){var M=to(a||{},Tk);v=M.cfg,u.addUnloadHook(ru(M,function(){if(v[MS]){var K=rg(v[MS]),V=K.ingestionendpoint;v.endpointUrl=V?V+qv:v.endpointUrl,v[AS]=K.instrumentationkey||v[AS]}})),u.initialize(v,[new $0])}});function y(w){w&&(w.baseData=w.baseData||{},w.baseType=w.baseType||"EventData"),u.track(w)}}return i.__ieDyn=1,i}();t.AppInsightsCore=ol,t.ApplicationInsights=bk,t.Sender=$0,t.SeverityLevel=Bs,t.arrForEach=hn,t.isNullOrUndefined=At,t.proxyFunctions=Hf,t.throwError=dr})});var cb=Ie(Qv=>{"use strict";var $k=Qv&&Qv.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Yk=Qv&&Qv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zk=Qv&&Qv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&$k(e,t,n);return Yk(e,t),e};Object.defineProperty(Qv,"__esModule",{value:!0});Qv.appInsightsClientFactory=void 0;var Wk=ob(),Kk=YS(),Gk=async(t,e,n)=>{let r;try{let f=await Promise.resolve().then(()=>zk(ab()));if(r=new f.ApplicationInsights({instrumentationKey:t,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),e){r.config.extensionConfig={};let h={alwaysUseXhrOverride:!0,httpXHROverride:e};r.config.extensionConfig[Wk.BreezeChannelIdentifier]=h}}catch(f){return Promise.reject(f)}return{logEvent:(f,h)=>{let _={...h?.properties,...h?.measurements};n?.length&&Kk.TelemetryUtil.applyReplacements(_,n),r?.track({name:f,data:_,baseType:"EventData",baseData:{name:f,properties:h?.properties,measurements:h?.measurements}})},flush:async()=>{r?.flush(!1)},dispose:async()=>new Promise(h=>{r?.unload(!0,()=>{h(),r=void 0},1e3)})}};Qv.appInsightsClientFactory=Gk});var db=Ie(Yh=>{"use strict";var Bk=Yh&&Yh.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Vk=Yh&&Yh.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),KS=Yh&&Yh.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Bk(e,t,n);return Vk(e,t),e};Object.defineProperty(Yh,"__esModule",{value:!0});var zS=KS(require("os")),ub=KS(require("vscode")),Xk=KS(require("https")),Jk=X0(),Qk=J0(),lb=YS(),Zk=rb(),ex=cb();function fb(){return{sendPOST:(e,n)=>{let r={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{let o=Xk.request(e.urlString,r,f=>{f.on("data",function(h){n(f.statusCode??200,f.headers,h.toString())}),f.on("error",function(){n(0,{})})});o.write(e.data,f=>{f&&n(0,{})}),o.end()}catch{n(0,{})}}}}var WS=class extends Jk.BaseTelemetryReporter{constructor(e,n){let r=h=>(0,ex.appInsightsClientFactory)(h,fb(),n);lb.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(r=h=>(0,Zk.oneDataSystemClientFactory)(h,ub,fb()));let o={release:zS.release(),platform:zS.platform(),architecture:zS.arch()},f=new Qk.BaseTelemetrySender(e,r);if(e&&e.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(f,ub,{additionalCommonProperties:lb.TelemetryUtil.getAdditionalCommonProperties(o)})}};Yh.default=WS});var md=Ie(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.asPromise=rs.thenable=rs.typedArray=rs.stringArray=rs.array=rs.func=rs.error=rs.number=rs.string=rs.boolean=void 0;function ox(t){return t===!0||t===!1}rs.boolean=ox;function _b(t){return typeof t=="string"||t instanceof String}rs.string=_b;function sx(t){return typeof t=="number"||t instanceof Number}rs.number=sx;function ax(t){return t instanceof Error}rs.error=ax;function yb(t){return typeof t=="function"}rs.func=yb;function Sb(t){return Array.isArray(t)}rs.array=Sb;function cx(t){return Sb(t)&&t.every(e=>_b(e))}rs.stringArray=cx;function ux(t,e){return Array.isArray(t)&&t.every(e)}rs.typedArray=ux;function Db(t){return t&&yb(t.then)}rs.thenable=Db;function lx(t){return t instanceof Promise?t:Db(t)?new Promise((e,n)=>{t.then(r=>e(r),r=>n(r))}):Promise.resolve(t)}rs.asPromise=lx});var $g=Ie(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.stringArray=xc.array=xc.func=xc.error=xc.number=xc.string=xc.boolean=void 0;function fx(t){return t===!0||t===!1}xc.boolean=fx;function Cb(t){return typeof t=="string"||t instanceof String}xc.string=Cb;function dx(t){return typeof t=="number"||t instanceof Number}xc.number=dx;function vx(t){return t instanceof Error}xc.error=vx;function hx(t){return typeof t=="function"}xc.func=hx;function Tb(t){return Array.isArray(t)}xc.array=Tb;function px(t){return Tb(t)&&t.every(e=>Cb(e))}xc.stringArray=px});var DD=Ie(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.Message=ln.NotificationType9=ln.NotificationType8=ln.NotificationType7=ln.NotificationType6=ln.NotificationType5=ln.NotificationType4=ln.NotificationType3=ln.NotificationType2=ln.NotificationType1=ln.NotificationType0=ln.NotificationType=ln.RequestType9=ln.RequestType8=ln.RequestType7=ln.RequestType6=ln.RequestType5=ln.RequestType4=ln.RequestType3=ln.RequestType2=ln.RequestType1=ln.RequestType=ln.RequestType0=ln.AbstractMessageSignature=ln.ParameterStructures=ln.ResponseError=ln.ErrorCodes=void 0;var fg=$g(),JS;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(JS||(ln.ErrorCodes=JS={}));var QS=class t extends Error{constructor(e,n,r){super(n),this.code=fg.number(e)?e:JS.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};ln.ResponseError=QS;var vl=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};ln.ParameterStructures=vl;vl.auto=new vl("auto");vl.byPosition=new vl("byPosition");vl.byName=new vl("byName");var so=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return vl.auto}};ln.AbstractMessageSignature=so;var ZS=class extends so{constructor(e){super(e,0)}};ln.RequestType0=ZS;var eD=class extends so{constructor(e,n=vl.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ln.RequestType=eD;var tD=class extends so{constructor(e,n=vl.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ln.RequestType1=tD;var nD=class extends so{constructor(e){super(e,2)}};ln.RequestType2=nD;var rD=class extends so{constructor(e){super(e,3)}};ln.RequestType3=rD;var iD=class extends so{constructor(e){super(e,4)}};ln.RequestType4=iD;var oD=class extends so{constructor(e){super(e,5)}};ln.RequestType5=oD;var sD=class extends so{constructor(e){super(e,6)}};ln.RequestType6=sD;var aD=class extends so{constructor(e){super(e,7)}};ln.RequestType7=aD;var cD=class extends so{constructor(e){super(e,8)}};ln.RequestType8=cD;var uD=class extends so{constructor(e){super(e,9)}};ln.RequestType9=uD;var lD=class extends so{constructor(e,n=vl.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ln.NotificationType=lD;var fD=class extends so{constructor(e){super(e,0)}};ln.NotificationType0=fD;var dD=class extends so{constructor(e,n=vl.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ln.NotificationType1=dD;var vD=class extends so{constructor(e){super(e,2)}};ln.NotificationType2=vD;var hD=class extends so{constructor(e){super(e,3)}};ln.NotificationType3=hD;var pD=class extends so{constructor(e){super(e,4)}};ln.NotificationType4=pD;var gD=class extends so{constructor(e){super(e,5)}};ln.NotificationType5=gD;var mD=class extends so{constructor(e){super(e,6)}};ln.NotificationType6=mD;var _D=class extends so{constructor(e){super(e,7)}};ln.NotificationType7=_D;var yD=class extends so{constructor(e){super(e,8)}};ln.NotificationType8=yD;var SD=class extends so{constructor(e){super(e,9)}};ln.NotificationType9=SD;var Eb;(function(t){function e(o){let f=o;return f&&fg.string(f.method)&&(fg.string(f.id)||fg.number(f.id))}t.isRequest=e;function n(o){let f=o;return f&&fg.string(f.method)&&o.id===void 0}t.isNotification=n;function r(o){let f=o;return f&&(f.result!==void 0||!!f.error)&&(fg.string(f.id)||fg.number(f.id)||f.id===null)}t.isResponse=r})(Eb||(ln.Message=Eb={}))});var TD=Ie(Ep=>{"use strict";var bb;Object.defineProperty(Ep,"__esModule",{value:!0});Ep.LRUCache=Ep.LinkedMap=Ep.Touch=void 0;var Fc;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Fc||(Ep.Touch=Fc={}));var k_=class{constructor(){this[bb]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=Fc.None){let r=this._map.get(e);if(r)return n!==Fc.None&&this.touch(r,n),r.value}set(e,n,r=Fc.None){let o=this._map.get(e);if(o)o.value=n,r!==Fc.None&&this.touch(o,r);else{switch(o={key:e,value:n,next:void 0,previous:void 0},r){case Fc.None:this.addItemLast(o);break;case Fc.First:this.addItemFirst(o);break;case Fc.Last:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,o=this._head;for(;o;){if(n?e.bind(n)(o.value,o.key,this):e(o.value,o.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.key,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.value,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:[n.key,n.value],done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return r}[(bb=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Fc.First&&n!==Fc.Last)){if(n===Fc.First){if(e===this._head)return;let r=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(r.previous=o,o.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Fc.Last){if(e===this._tail)return;let r=e.next,o=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=o,o.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Ep.LinkedMap=k_;var CD=class extends k_{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Fc.AsNew){return super.get(e,n)}peek(e){return super.get(e,Fc.None)}set(e,n){return super.set(e,n,Fc.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ep.LRUCache=CD});var Rb=Ie(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.Disposable=void 0;var wb;(function(t){function e(n){return{dispose:n}}t.create=e})(wb||(x_.Disposable=wb={}))});var bp=Ie(wD=>{"use strict";Object.defineProperty(wD,"__esModule",{value:!0});var ED;function bD(){if(ED===void 0)throw new Error("No runtime abstraction layer installed");return ED}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");ED=n}t.install=e})(bD||(bD={}));wD.default=bD});var zg=Ie(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.Emitter=Yg.Event=void 0;var gx=bp(),Pb;(function(t){let e={dispose(){}};t.None=function(){return e}})(Pb||(Yg.Event=Pb={}));var RD=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let o=0,f=this._callbacks.length;o<f;o++)if(this._callbacks[o]===e)if(this._contexts[o]===n){this._callbacks.splice(o,1),this._contexts.splice(o,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),o=this._contexts.slice(0);for(let f=0,h=r.length;f<h;f++)try{n.push(r[f].apply(o[f],e))}catch(_){(0,gx.default)().console.error(_)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},F_=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new RD),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let o={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),o.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(o),o}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Yg.Emitter=F_;F_._noop=function(){}});var M_=Ie(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.CancellationTokenSource=Wg.CancellationToken=void 0;var mx=bp(),_x=$g(),PD=zg(),L_;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:PD.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:PD.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||_x.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(L_||(Wg.CancellationToken=L_={}));var yx=Object.freeze(function(t,e){let n=(0,mx.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),A_=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?yx:(this._emitter||(this._emitter=new PD.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ID=class{get token(){return this._token||(this._token=new A_),this._token}cancel(){this._token?this._token.cancel():this._token=L_.Cancelled}dispose(){this._token?this._token instanceof A_&&this._token.dispose():this._token=L_.None}};Wg.CancellationTokenSource=ID});var Ib=Ie(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.SharedArrayReceiverStrategy=Kg.SharedArraySenderStrategy=void 0;var Sx=M_(),Fm;(function(t){t.Continue=0,t.Cancelled=1})(Fm||(Fm={}));var ND=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=Fm.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let o=new Int32Array(r,0,1);Atomics.store(o,0,Fm.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Kg.SharedArraySenderStrategy=ND;var OD=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Fm.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},kD=class{constructor(e){this.token=new OD(e)}cancel(){}dispose(){}},xD=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new Sx.CancellationTokenSource:new kD(n)}};Kg.SharedArrayReceiverStrategy=xD});var LD=Ie(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});q_.Semaphore=void 0;var Dx=bp(),FD=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Dx.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};q_.Semaphore=FD});var Ob=Ie(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.ReadableStreamMessageReader=wp.AbstractMessageReader=wp.MessageReader=void 0;var MD=bp(),Gg=$g(),AD=zg(),Cx=LD(),Nb;(function(t){function e(n){let r=n;return r&&Gg.func(r.listen)&&Gg.func(r.dispose)&&Gg.func(r.onError)&&Gg.func(r.onClose)&&Gg.func(r.onPartialMessage)}t.is=e})(Nb||(wp.MessageReader=Nb={}));var U_=class{constructor(){this.errorEmitter=new AD.Emitter,this.closeEmitter=new AD.Emitter,this.partialMessageEmitter=new AD.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Gg.string(e.message)?e.message:"unknown"}`)}};wp.AbstractMessageReader=U_;var qD;(function(t){function e(n){let r,o,f,h=new Map,_,T=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(f=n.contentDecoder,h.set(f.name,f)),n.contentDecoders!==void 0)for(let N of n.contentDecoders)h.set(N.name,N);if(n.contentTypeDecoder!==void 0&&(_=n.contentTypeDecoder,T.set(_.name,_)),n.contentTypeDecoders!==void 0)for(let N of n.contentTypeDecoders)T.set(N.name,N)}return _===void 0&&(_=(0,MD.default)().applicationJson.decoder,T.set(_.name,_)),{charset:r,contentDecoder:f,contentDecoders:h,contentTypeDecoder:_,contentTypeDecoders:T}}t.fromOptions=e})(qD||(qD={}));var UD=class extends U_{constructor(e,n){super(),this.readable=e,this.options=qD.fromOptions(n),this.buffer=(0,MD.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Cx.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let o=r.get("content-length");if(!o){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let f=parseInt(o);if(isNaN(f)){this.fireError(new Error(`Content-Length value must be a number. Got ${o}`));return}this.nextMessageLength=f}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,o=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(o)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,MD.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};wp.ReadableStreamMessageReader=UD});var Ab=Ie(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.WriteableStreamMessageWriter=Rp.AbstractMessageWriter=Rp.MessageWriter=void 0;var kb=bp(),Lm=$g(),Tx=LD(),xb=zg(),Ex="Content-Length: ",Fb=`\r
`,Lb;(function(t){function e(n){let r=n;return r&&Lm.func(r.dispose)&&Lm.func(r.onClose)&&Lm.func(r.onError)&&Lm.func(r.write)}t.is=e})(Lb||(Rp.MessageWriter=Lb={}));var j_=class{constructor(){this.errorEmitter=new xb.Emitter,this.closeEmitter=new xb.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Lm.string(e.message)?e.message:"unknown"}`)}};Rp.AbstractMessageWriter=j_;var jD;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,kb.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,kb.default)().applicationJson.encoder}}t.fromOptions=e})(jD||(jD={}));var HD=class extends j_{constructor(e,n){super(),this.writable=e,this.options=jD.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Tx.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let o=[];return o.push(Ex,r.byteLength.toString(),Fb),o.push(Fb),this.doWrite(e,o,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(o){return this.handleError(o,e),Promise.reject(o)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Rp.WriteableStreamMessageWriter=HD});var Mb=Ie(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});H_.AbstractMessageBuffer=void 0;var bx=13,wx=10,Rx=`\r
`,$D=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,o=0,f=0;e:for(;r<this._chunks.length;){let N=this._chunks[r];for(o=0;o<N.length;){switch(N[o]){case bx:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case wx:switch(n){case 1:n=2;break;case 3:n=4,o++;break e;default:n=0}break;default:n=0}o++}f+=N.byteLength,r++}if(n!==4)return;let h=this._read(f+o),_=new Map,T=this.toString(h,"ascii").split(Rx);if(T.length<2)return _;for(let N=0;N<T.length-2;N++){let A=T[N],U=A.indexOf(":");if(U===-1)throw new Error(`Message header must separate key and value using ':'
${A}`);let H=A.substr(0,U),te=A.substr(U+1).trim();_.set(e?H.toLowerCase():H,te)}return _}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let f=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(f)}if(this._chunks[0].byteLength>e){let f=this._chunks[0],h=this.asNative(f,e);return this._chunks[0]=f.slice(e),this._totalLength-=e,h}let n=this.allocNative(e),r=0,o=0;for(;e>0;){let f=this._chunks[o];if(f.byteLength>e){let h=f.slice(0,e);n.set(h,r),r+=e,this._chunks[o]=f.slice(e),this._totalLength-=e,e-=e}else n.set(f,r),r+=f.byteLength,this._chunks.shift(),this._totalLength-=f.byteLength,e-=f.byteLength}return n}};H_.AbstractMessageBuffer=$D});var $b=Ie(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.createMessageConnection=lr.ConnectionOptions=lr.MessageStrategy=lr.CancellationStrategy=lr.CancellationSenderStrategy=lr.CancellationReceiverStrategy=lr.RequestCancellationReceiverStrategy=lr.IdCancellationReceiverStrategy=lr.ConnectionStrategy=lr.ConnectionError=lr.ConnectionErrors=lr.LogTraceNotification=lr.SetTraceNotification=lr.TraceFormat=lr.TraceValues=lr.Trace=lr.NullLogger=lr.ProgressType=lr.ProgressToken=void 0;var qb=bp(),Yo=$g(),$n=DD(),Ub=TD(),Am=zg(),YD=M_(),Um;(function(t){t.type=new $n.NotificationType("$/cancelRequest")})(Um||(Um={}));var zD;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(zD||(lr.ProgressToken=zD={}));var Mm;(function(t){t.type=new $n.NotificationType("$/progress")})(Mm||(Mm={}));var WD=class{constructor(){}};lr.ProgressType=WD;var KD;(function(t){function e(n){return Yo.func(n)}t.is=e})(KD||(KD={}));lr.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var mi;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(mi||(lr.Trace=mi={}));var jb;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(jb||(lr.TraceValues=jb={}));(function(t){function e(r){if(!Yo.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(mi||(lr.Trace=mi={}));var Cf;(function(t){t.Text="text",t.JSON="json"})(Cf||(lr.TraceFormat=Cf={}));(function(t){function e(n){return Yo.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Cf||(lr.TraceFormat=Cf={}));var GD;(function(t){t.type=new $n.NotificationType("$/setTrace")})(GD||(lr.SetTraceNotification=GD={}));var $_;(function(t){t.type=new $n.NotificationType("$/logTrace")})($_||(lr.LogTraceNotification=$_={}));var qm;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(qm||(lr.ConnectionErrors=qm={}));var Bg=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};lr.ConnectionError=Bg;var BD;(function(t){function e(n){let r=n;return r&&Yo.func(r.cancelUndispatched)}t.is=e})(BD||(lr.ConnectionStrategy=BD={}));var Y_;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&Yo.func(r.createCancellationTokenSource)&&(r.dispose===void 0||Yo.func(r.dispose))}t.is=e})(Y_||(lr.IdCancellationReceiverStrategy=Y_={}));var VD;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&Yo.func(r.createCancellationTokenSource)&&(r.dispose===void 0||Yo.func(r.dispose))}t.is=e})(VD||(lr.RequestCancellationReceiverStrategy=VD={}));var z_;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new YD.CancellationTokenSource}});function e(n){return Y_.is(n)||VD.is(n)}t.is=e})(z_||(lr.CancellationReceiverStrategy=z_={}));var W_;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(Um.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&Yo.func(r.sendCancellation)&&Yo.func(r.cleanup)}t.is=e})(W_||(lr.CancellationSenderStrategy=W_={}));var K_;(function(t){t.Message=Object.freeze({receiver:z_.Message,sender:W_.Message});function e(n){let r=n;return r&&z_.is(r.receiver)&&W_.is(r.sender)}t.is=e})(K_||(lr.CancellationStrategy=K_={}));var G_;(function(t){function e(n){let r=n;return r&&Yo.func(r.handleMessage)}t.is=e})(G_||(lr.MessageStrategy=G_={}));var Hb;(function(t){function e(n){let r=n;return r&&(K_.is(r.cancellationStrategy)||BD.is(r.connectionStrategy)||G_.is(r.messageStrategy))}t.is=e})(Hb||(lr.ConnectionOptions=Hb={}));var lv;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(lv||(lv={}));function Px(t,e,n,r){let o=n!==void 0?n:lr.NullLogger,f=0,h=0,_=0,T="2.0",N,A=new Map,U,H=new Map,te=new Map,Y,ye=new Ub.LinkedMap,Ce=new Map,qe=new Set,_e=new Map,he=mi.Off,$e=Cf.Text,Qe,Et=lv.New,Ge=new Am.Emitter,pt=new Am.Emitter,Ft=new Am.Emitter,zn=new Am.Emitter,Vt=new Am.Emitter,Nn=r&&r.cancellationStrategy?r.cancellationStrategy:K_.Message;function Zr(X){if(X===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+X.toString()}function Wn(X){return X===null?"res-unknown-"+(++_).toString():"res-"+X.toString()}function er(){return"not-"+(++h).toString()}function Ii(X,Me){$n.Message.isRequest(Me)?X.set(Zr(Me.id),Me):$n.Message.isResponse(Me)?X.set(Wn(Me.id),Me):X.set(er(),Me)}function Kt(X){}function At(){return Et===lv.Listening}function vr(){return Et===lv.Closed}function hr(){return Et===lv.Disposed}function co(){(Et===lv.New||Et===lv.Listening)&&(Et=lv.Closed,pt.fire(void 0))}function Kn(X){Ge.fire([X,void 0,void 0])}function or(X){Ge.fire(X)}t.onClose(co),t.onError(Kn),e.onClose(co),e.onError(or);function Bt(){Y||ye.size===0||(Y=(0,qb.default)().timer.setImmediate(()=>{Y=void 0,si()}))}function dt(X){$n.Message.isRequest(X)?Ss(X):$n.Message.isNotification(X)?jt(X):$n.Message.isResponse(X)?mr(X):Ir(X)}function si(){if(ye.size===0)return;let X=ye.shift();try{let Me=r?.messageStrategy;G_.is(Me)?Me.handleMessage(X,dt):dt(X)}finally{Bt()}}let Pr=X=>{try{if($n.Message.isNotification(X)&&X.method===Um.type.method){let Me=X.params.id,ot=Zr(Me),Tt=ye.get(ot);if($n.Message.isRequest(Tt)){let Fn=r?.connectionStrategy,En=Fn&&Fn.cancelUndispatched?Fn.cancelUndispatched(Tt,Kt):void 0;if(En&&(En.error!==void 0||En.result!==void 0)){ye.delete(ot),_e.delete(Me),En.id=Tt.id,ko(En,X.method,Date.now()),e.write(En).catch(()=>o.error("Sending response for canceled message failed."));return}}let yn=_e.get(Me);if(yn!==void 0){yn.cancel(),zi(X);return}else qe.add(Me)}Ii(ye,X)}finally{Bt()}};function Ss(X){if(hr())return;function Me(mn,Lt,Ln){let $t={jsonrpc:T,id:X.id};mn instanceof $n.ResponseError?$t.error=mn.toJson():$t.result=mn===void 0?null:mn,ko($t,Lt,Ln),e.write($t).catch(()=>o.error("Sending response failed."))}function ot(mn,Lt,Ln){let $t={jsonrpc:T,id:X.id,error:mn.toJson()};ko($t,Lt,Ln),e.write($t).catch(()=>o.error("Sending response failed."))}function Tt(mn,Lt,Ln){mn===void 0&&(mn=null);let $t={jsonrpc:T,id:X.id,result:mn};ko($t,Lt,Ln),e.write($t).catch(()=>o.error("Sending response failed."))}Gn(X);let yn=A.get(X.method),Fn,En;yn&&(Fn=yn.type,En=yn.handler);let tr=Date.now();if(En||N){let mn=X.id??String(Date.now()),Lt=Y_.is(Nn.receiver)?Nn.receiver.createCancellationTokenSource(mn):Nn.receiver.createCancellationTokenSource(X);X.id!==null&&qe.has(X.id)&&Lt.cancel(),X.id!==null&&_e.set(mn,Lt);try{let Ln;if(En)if(X.params===void 0){if(Fn!==void 0&&Fn.numberOfParams!==0){ot(new $n.ResponseError($n.ErrorCodes.InvalidParams,`Request ${X.method} defines ${Fn.numberOfParams} params but received none.`),X.method,tr);return}Ln=En(Lt.token)}else if(Array.isArray(X.params)){if(Fn!==void 0&&Fn.parameterStructures===$n.ParameterStructures.byName){ot(new $n.ResponseError($n.ErrorCodes.InvalidParams,`Request ${X.method} defines parameters by name but received parameters by position`),X.method,tr);return}Ln=En(...X.params,Lt.token)}else{if(Fn!==void 0&&Fn.parameterStructures===$n.ParameterStructures.byPosition){ot(new $n.ResponseError($n.ErrorCodes.InvalidParams,`Request ${X.method} defines parameters by position but received parameters by name`),X.method,tr);return}Ln=En(X.params,Lt.token)}else N&&(Ln=N(X.method,X.params,Lt.token));let $t=Ln;Ln?$t.then?$t.then(Jr=>{_e.delete(mn),Me(Jr,X.method,tr)},Jr=>{_e.delete(mn),Jr instanceof $n.ResponseError?ot(Jr,X.method,tr):Jr&&Yo.string(Jr.message)?ot(new $n.ResponseError($n.ErrorCodes.InternalError,`Request ${X.method} failed with message: ${Jr.message}`),X.method,tr):ot(new $n.ResponseError($n.ErrorCodes.InternalError,`Request ${X.method} failed unexpectedly without providing any details.`),X.method,tr)}):(_e.delete(mn),Me(Ln,X.method,tr)):(_e.delete(mn),Tt(Ln,X.method,tr))}catch(Ln){_e.delete(mn),Ln instanceof $n.ResponseError?Me(Ln,X.method,tr):Ln&&Yo.string(Ln.message)?ot(new $n.ResponseError($n.ErrorCodes.InternalError,`Request ${X.method} failed with message: ${Ln.message}`),X.method,tr):ot(new $n.ResponseError($n.ErrorCodes.InternalError,`Request ${X.method} failed unexpectedly without providing any details.`),X.method,tr)}}else ot(new $n.ResponseError($n.ErrorCodes.MethodNotFound,`Unhandled method ${X.method}`),X.method,tr)}function mr(X){if(!hr())if(X.id===null)X.error?o.error(`Received response message without id: Error is: 
${JSON.stringify(X.error,void 0,4)}`):o.error("Received response message without id. No further error information provided.");else{let Me=X.id,ot=Ce.get(Me);if(dr(X,ot),ot!==void 0){Ce.delete(Me);try{if(X.error){let Tt=X.error;ot.reject(new $n.ResponseError(Tt.code,Tt.message,Tt.data))}else if(X.result!==void 0)ot.resolve(X.result);else throw new Error("Should never happen.")}catch(Tt){Tt.message?o.error(`Response handler '${ot.method}' failed with message: ${Tt.message}`):o.error(`Response handler '${ot.method}' failed unexpectedly.`)}}}}function jt(X){if(hr())return;let Me,ot;if(X.method===Um.type.method){let Tt=X.params.id;qe.delete(Tt),zi(X);return}else{let Tt=H.get(X.method);Tt&&(ot=Tt.handler,Me=Tt.type)}if(ot||U)try{if(zi(X),ot)if(X.params===void 0)Me!==void 0&&Me.numberOfParams!==0&&Me.parameterStructures!==$n.ParameterStructures.byName&&o.error(`Notification ${X.method} defines ${Me.numberOfParams} params but received none.`),ot();else if(Array.isArray(X.params)){let Tt=X.params;X.method===Mm.type.method&&Tt.length===2&&zD.is(Tt[0])?ot({token:Tt[0],value:Tt[1]}):(Me!==void 0&&(Me.parameterStructures===$n.ParameterStructures.byName&&o.error(`Notification ${X.method} defines parameters by name but received parameters by position`),Me.numberOfParams!==X.params.length&&o.error(`Notification ${X.method} defines ${Me.numberOfParams} params but received ${Tt.length} arguments`)),ot(...Tt))}else Me!==void 0&&Me.parameterStructures===$n.ParameterStructures.byPosition&&o.error(`Notification ${X.method} defines parameters by position but received parameters by name`),ot(X.params);else U&&U(X.method,X.params)}catch(Tt){Tt.message?o.error(`Notification handler '${X.method}' failed with message: ${Tt.message}`):o.error(`Notification handler '${X.method}' failed unexpectedly.`)}else Ft.fire(X)}function Ir(X){if(!X){o.error("Received empty message.");return}o.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(X,null,4)}`);let Me=X;if(Yo.string(Me.id)||Yo.number(Me.id)){let ot=Me.id,Tt=Ce.get(ot);Tt&&Tt.reject(new Error("The received response has neither a result nor an error property."))}}function _t(X){if(X!=null)switch(he){case mi.Verbose:return JSON.stringify(X,null,4);case mi.Compact:return JSON.stringify(X);default:return}}function ei(X){if(!(he===mi.Off||!Qe))if($e===Cf.Text){let Me;(he===mi.Verbose||he===mi.Compact)&&X.params&&(Me=`Params: ${_t(X.params)}

`),Qe.log(`Sending request '${X.method} - (${X.id})'.`,Me)}else sr("send-request",X)}function yi(X){if(!(he===mi.Off||!Qe))if($e===Cf.Text){let Me;(he===mi.Verbose||he===mi.Compact)&&(X.params?Me=`Params: ${_t(X.params)}

`:Me=`No parameters provided.

`),Qe.log(`Sending notification '${X.method}'.`,Me)}else sr("send-notification",X)}function ko(X,Me,ot){if(!(he===mi.Off||!Qe))if($e===Cf.Text){let Tt;(he===mi.Verbose||he===mi.Compact)&&(X.error&&X.error.data?Tt=`Error data: ${_t(X.error.data)}

`:X.result?Tt=`Result: ${_t(X.result)}

`:X.error===void 0&&(Tt=`No result returned.

`)),Qe.log(`Sending response '${Me} - (${X.id})'. Processing request took ${Date.now()-ot}ms`,Tt)}else sr("send-response",X)}function Gn(X){if(!(he===mi.Off||!Qe))if($e===Cf.Text){let Me;(he===mi.Verbose||he===mi.Compact)&&X.params&&(Me=`Params: ${_t(X.params)}

`),Qe.log(`Received request '${X.method} - (${X.id})'.`,Me)}else sr("receive-request",X)}function zi(X){if(!(he===mi.Off||!Qe||X.method===$_.type.method))if($e===Cf.Text){let Me;(he===mi.Verbose||he===mi.Compact)&&(X.params?Me=`Params: ${_t(X.params)}

`:Me=`No parameters provided.

`),Qe.log(`Received notification '${X.method}'.`,Me)}else sr("receive-notification",X)}function dr(X,Me){if(!(he===mi.Off||!Qe))if($e===Cf.Text){let ot;if((he===mi.Verbose||he===mi.Compact)&&(X.error&&X.error.data?ot=`Error data: ${_t(X.error.data)}

`:X.result?ot=`Result: ${_t(X.result)}

`:X.error===void 0&&(ot=`No result returned.

`)),Me){let Tt=X.error?` Request failed: ${X.error.message} (${X.error.code}).`:"";Qe.log(`Received response '${Me.method} - (${X.id})' in ${Date.now()-Me.timerStart}ms.${Tt}`,ot)}else Qe.log(`Received response ${X.id} without active response promise.`,ot)}else sr("receive-response",X)}function sr(X,Me){if(!Qe||he===mi.Off)return;let ot={isLSPMessage:!0,type:X,message:Me,timestamp:Date.now()};Qe.log(ot)}function Ni(){if(vr())throw new Bg(qm.Closed,"Connection is closed.");if(hr())throw new Bg(qm.Disposed,"Connection is disposed.")}function fn(){if(At())throw new Bg(qm.AlreadyListening,"Connection is already listening")}function Yr(){if(!At())throw new Error("Call listen() first.")}function Vr(X){return X===void 0?null:X}function Vn(X){if(X!==null)return X}function xo(X){return X!=null&&!Array.isArray(X)&&typeof X=="object"}function Xr(X,Me){switch(X){case $n.ParameterStructures.auto:return xo(Me)?Vn(Me):[Vr(Me)];case $n.ParameterStructures.byName:if(!xo(Me))throw new Error("Received parameters by name but param is not an object literal.");return Vn(Me);case $n.ParameterStructures.byPosition:return[Vr(Me)];default:throw new Error(`Unknown parameter structure ${X.toString()}`)}}function Xn(X,Me){let ot,Tt=X.numberOfParams;switch(Tt){case 0:ot=void 0;break;case 1:ot=Xr(X.parameterStructures,Me[0]);break;default:ot=[];for(let yn=0;yn<Me.length&&yn<Tt;yn++)ot.push(Vr(Me[yn]));if(Me.length<Tt)for(let yn=Me.length;yn<Tt;yn++)ot.push(null);break}return ot}let pi={sendNotification:(X,...Me)=>{Ni();let ot,Tt;if(Yo.string(X)){ot=X;let Fn=Me[0],En=0,tr=$n.ParameterStructures.auto;$n.ParameterStructures.is(Fn)&&(En=1,tr=Fn);let mn=Me.length,Lt=mn-En;switch(Lt){case 0:Tt=void 0;break;case 1:Tt=Xr(tr,Me[En]);break;default:if(tr===$n.ParameterStructures.byName)throw new Error(`Received ${Lt} parameters for 'by Name' notification parameter structure.`);Tt=Me.slice(En,mn).map(Ln=>Vr(Ln));break}}else{let Fn=Me;ot=X.method,Tt=Xn(X,Fn)}let yn={jsonrpc:T,method:ot,params:Tt};return yi(yn),e.write(yn).catch(Fn=>{throw o.error("Sending notification failed."),Fn})},onNotification:(X,Me)=>{Ni();let ot;return Yo.func(X)?U=X:Me&&(Yo.string(X)?(ot=X,H.set(X,{type:void 0,handler:Me})):(ot=X.method,H.set(X.method,{type:X,handler:Me}))),{dispose:()=>{ot!==void 0?H.delete(ot):U=void 0}}},onProgress:(X,Me,ot)=>{if(te.has(Me))throw new Error(`Progress handler for token ${Me} already registered`);return te.set(Me,ot),{dispose:()=>{te.delete(Me)}}},sendProgress:(X,Me,ot)=>pi.sendNotification(Mm.type,{token:Me,value:ot}),onUnhandledProgress:zn.event,sendRequest:(X,...Me)=>{Ni(),Yr();let ot,Tt,yn;if(Yo.string(X)){ot=X;let mn=Me[0],Lt=Me[Me.length-1],Ln=0,$t=$n.ParameterStructures.auto;$n.ParameterStructures.is(mn)&&(Ln=1,$t=mn);let Jr=Me.length;YD.CancellationToken.is(Lt)&&(Jr=Jr-1,yn=Lt);let Mr=Jr-Ln;switch(Mr){case 0:Tt=void 0;break;case 1:Tt=Xr($t,Me[Ln]);break;default:if($t===$n.ParameterStructures.byName)throw new Error(`Received ${Mr} parameters for 'by Name' request parameter structure.`);Tt=Me.slice(Ln,Jr).map(Ds=>Vr(Ds));break}}else{let mn=Me;ot=X.method,Tt=Xn(X,mn);let Lt=X.numberOfParams;yn=YD.CancellationToken.is(mn[Lt])?mn[Lt]:void 0}let Fn=f++,En;yn&&(En=yn.onCancellationRequested(()=>{let mn=Nn.sender.sendCancellation(pi,Fn);return mn===void 0?(o.log(`Received no promise from cancellation strategy when cancelling id ${Fn}`),Promise.resolve()):mn.catch(()=>{o.log(`Sending cancellation messages for id ${Fn} failed`)})}));let tr={jsonrpc:T,id:Fn,method:ot,params:Tt};return ei(tr),typeof Nn.sender.enableCancellation=="function"&&Nn.sender.enableCancellation(tr),new Promise(async(mn,Lt)=>{let Ln=Mr=>{mn(Mr),Nn.sender.cleanup(Fn),En?.dispose()},$t=Mr=>{Lt(Mr),Nn.sender.cleanup(Fn),En?.dispose()},Jr={method:ot,timerStart:Date.now(),resolve:Ln,reject:$t};try{await e.write(tr),Ce.set(Fn,Jr)}catch(Mr){throw o.error("Sending request failed."),Jr.reject(new $n.ResponseError($n.ErrorCodes.MessageWriteError,Mr.message?Mr.message:"Unknown reason")),Mr}})},onRequest:(X,Me)=>{Ni();let ot=null;return KD.is(X)?(ot=void 0,N=X):Yo.string(X)?(ot=null,Me!==void 0&&(ot=X,A.set(X,{handler:Me,type:void 0}))):Me!==void 0&&(ot=X.method,A.set(X.method,{type:X,handler:Me})),{dispose:()=>{ot!==null&&(ot!==void 0?A.delete(ot):N=void 0)}}},hasPendingResponse:()=>Ce.size>0,trace:async(X,Me,ot)=>{let Tt=!1,yn=Cf.Text;ot!==void 0&&(Yo.boolean(ot)?Tt=ot:(Tt=ot.sendNotification||!1,yn=ot.traceFormat||Cf.Text)),he=X,$e=yn,he===mi.Off?Qe=void 0:Qe=Me,Tt&&!vr()&&!hr()&&await pi.sendNotification(GD.type,{value:mi.toString(X)})},onError:Ge.event,onClose:pt.event,onUnhandledNotification:Ft.event,onDispose:Vt.event,end:()=>{e.end()},dispose:()=>{if(hr())return;Et=lv.Disposed,Vt.fire(void 0);let X=new $n.ResponseError($n.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Me of Ce.values())Me.reject(X);Ce=new Map,_e=new Map,qe=new Set,ye=new Ub.LinkedMap,Yo.func(e.dispose)&&e.dispose(),Yo.func(t.dispose)&&t.dispose()},listen:()=>{Ni(),fn(),Et=lv.Listening,t.listen(Pr)},inspect:()=>{(0,qb.default)().console.log("inspect")}};return pi.onNotification($_.type,X=>{if(he===mi.Off||!Qe)return;let Me=he===mi.Verbose||he===mi.Compact;Qe.log(X.message,Me?X.verbose:void 0)}),pi.onNotification(Mm.type,X=>{let Me=te.get(X.token);Me?Me(X.value):zn.fire(X)}),pi}lr.createMessageConnection=Px});var B_=Ie(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.ProgressType=ze.ProgressToken=ze.createMessageConnection=ze.NullLogger=ze.ConnectionOptions=ze.ConnectionStrategy=ze.AbstractMessageBuffer=ze.WriteableStreamMessageWriter=ze.AbstractMessageWriter=ze.MessageWriter=ze.ReadableStreamMessageReader=ze.AbstractMessageReader=ze.MessageReader=ze.SharedArrayReceiverStrategy=ze.SharedArraySenderStrategy=ze.CancellationToken=ze.CancellationTokenSource=ze.Emitter=ze.Event=ze.Disposable=ze.LRUCache=ze.Touch=ze.LinkedMap=ze.ParameterStructures=ze.NotificationType9=ze.NotificationType8=ze.NotificationType7=ze.NotificationType6=ze.NotificationType5=ze.NotificationType4=ze.NotificationType3=ze.NotificationType2=ze.NotificationType1=ze.NotificationType0=ze.NotificationType=ze.ErrorCodes=ze.ResponseError=ze.RequestType9=ze.RequestType8=ze.RequestType7=ze.RequestType6=ze.RequestType5=ze.RequestType4=ze.RequestType3=ze.RequestType2=ze.RequestType1=ze.RequestType0=ze.RequestType=ze.Message=ze.RAL=void 0;ze.MessageStrategy=ze.CancellationStrategy=ze.CancellationSenderStrategy=ze.CancellationReceiverStrategy=ze.ConnectionError=ze.ConnectionErrors=ze.LogTraceNotification=ze.SetTraceNotification=ze.TraceFormat=ze.TraceValues=ze.Trace=void 0;var Gi=DD();Object.defineProperty(ze,"Message",{enumerable:!0,get:function(){return Gi.Message}});Object.defineProperty(ze,"RequestType",{enumerable:!0,get:function(){return Gi.RequestType}});Object.defineProperty(ze,"RequestType0",{enumerable:!0,get:function(){return Gi.RequestType0}});Object.defineProperty(ze,"RequestType1",{enumerable:!0,get:function(){return Gi.RequestType1}});Object.defineProperty(ze,"RequestType2",{enumerable:!0,get:function(){return Gi.RequestType2}});Object.defineProperty(ze,"RequestType3",{enumerable:!0,get:function(){return Gi.RequestType3}});Object.defineProperty(ze,"RequestType4",{enumerable:!0,get:function(){return Gi.RequestType4}});Object.defineProperty(ze,"RequestType5",{enumerable:!0,get:function(){return Gi.RequestType5}});Object.defineProperty(ze,"RequestType6",{enumerable:!0,get:function(){return Gi.RequestType6}});Object.defineProperty(ze,"RequestType7",{enumerable:!0,get:function(){return Gi.RequestType7}});Object.defineProperty(ze,"RequestType8",{enumerable:!0,get:function(){return Gi.RequestType8}});Object.defineProperty(ze,"RequestType9",{enumerable:!0,get:function(){return Gi.RequestType9}});Object.defineProperty(ze,"ResponseError",{enumerable:!0,get:function(){return Gi.ResponseError}});Object.defineProperty(ze,"ErrorCodes",{enumerable:!0,get:function(){return Gi.ErrorCodes}});Object.defineProperty(ze,"NotificationType",{enumerable:!0,get:function(){return Gi.NotificationType}});Object.defineProperty(ze,"NotificationType0",{enumerable:!0,get:function(){return Gi.NotificationType0}});Object.defineProperty(ze,"NotificationType1",{enumerable:!0,get:function(){return Gi.NotificationType1}});Object.defineProperty(ze,"NotificationType2",{enumerable:!0,get:function(){return Gi.NotificationType2}});Object.defineProperty(ze,"NotificationType3",{enumerable:!0,get:function(){return Gi.NotificationType3}});Object.defineProperty(ze,"NotificationType4",{enumerable:!0,get:function(){return Gi.NotificationType4}});Object.defineProperty(ze,"NotificationType5",{enumerable:!0,get:function(){return Gi.NotificationType5}});Object.defineProperty(ze,"NotificationType6",{enumerable:!0,get:function(){return Gi.NotificationType6}});Object.defineProperty(ze,"NotificationType7",{enumerable:!0,get:function(){return Gi.NotificationType7}});Object.defineProperty(ze,"NotificationType8",{enumerable:!0,get:function(){return Gi.NotificationType8}});Object.defineProperty(ze,"NotificationType9",{enumerable:!0,get:function(){return Gi.NotificationType9}});Object.defineProperty(ze,"ParameterStructures",{enumerable:!0,get:function(){return Gi.ParameterStructures}});var XD=TD();Object.defineProperty(ze,"LinkedMap",{enumerable:!0,get:function(){return XD.LinkedMap}});Object.defineProperty(ze,"LRUCache",{enumerable:!0,get:function(){return XD.LRUCache}});Object.defineProperty(ze,"Touch",{enumerable:!0,get:function(){return XD.Touch}});var Ix=Rb();Object.defineProperty(ze,"Disposable",{enumerable:!0,get:function(){return Ix.Disposable}});var Yb=zg();Object.defineProperty(ze,"Event",{enumerable:!0,get:function(){return Yb.Event}});Object.defineProperty(ze,"Emitter",{enumerable:!0,get:function(){return Yb.Emitter}});var zb=M_();Object.defineProperty(ze,"CancellationTokenSource",{enumerable:!0,get:function(){return zb.CancellationTokenSource}});Object.defineProperty(ze,"CancellationToken",{enumerable:!0,get:function(){return zb.CancellationToken}});var Wb=Ib();Object.defineProperty(ze,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Wb.SharedArraySenderStrategy}});Object.defineProperty(ze,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Wb.SharedArrayReceiverStrategy}});var JD=Ob();Object.defineProperty(ze,"MessageReader",{enumerable:!0,get:function(){return JD.MessageReader}});Object.defineProperty(ze,"AbstractMessageReader",{enumerable:!0,get:function(){return JD.AbstractMessageReader}});Object.defineProperty(ze,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return JD.ReadableStreamMessageReader}});var QD=Ab();Object.defineProperty(ze,"MessageWriter",{enumerable:!0,get:function(){return QD.MessageWriter}});Object.defineProperty(ze,"AbstractMessageWriter",{enumerable:!0,get:function(){return QD.AbstractMessageWriter}});Object.defineProperty(ze,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return QD.WriteableStreamMessageWriter}});var Nx=Mb();Object.defineProperty(ze,"AbstractMessageBuffer",{enumerable:!0,get:function(){return Nx.AbstractMessageBuffer}});var tc=$b();Object.defineProperty(ze,"ConnectionStrategy",{enumerable:!0,get:function(){return tc.ConnectionStrategy}});Object.defineProperty(ze,"ConnectionOptions",{enumerable:!0,get:function(){return tc.ConnectionOptions}});Object.defineProperty(ze,"NullLogger",{enumerable:!0,get:function(){return tc.NullLogger}});Object.defineProperty(ze,"createMessageConnection",{enumerable:!0,get:function(){return tc.createMessageConnection}});Object.defineProperty(ze,"ProgressToken",{enumerable:!0,get:function(){return tc.ProgressToken}});Object.defineProperty(ze,"ProgressType",{enumerable:!0,get:function(){return tc.ProgressType}});Object.defineProperty(ze,"Trace",{enumerable:!0,get:function(){return tc.Trace}});Object.defineProperty(ze,"TraceValues",{enumerable:!0,get:function(){return tc.TraceValues}});Object.defineProperty(ze,"TraceFormat",{enumerable:!0,get:function(){return tc.TraceFormat}});Object.defineProperty(ze,"SetTraceNotification",{enumerable:!0,get:function(){return tc.SetTraceNotification}});Object.defineProperty(ze,"LogTraceNotification",{enumerable:!0,get:function(){return tc.LogTraceNotification}});Object.defineProperty(ze,"ConnectionErrors",{enumerable:!0,get:function(){return tc.ConnectionErrors}});Object.defineProperty(ze,"ConnectionError",{enumerable:!0,get:function(){return tc.ConnectionError}});Object.defineProperty(ze,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return tc.CancellationReceiverStrategy}});Object.defineProperty(ze,"CancellationSenderStrategy",{enumerable:!0,get:function(){return tc.CancellationSenderStrategy}});Object.defineProperty(ze,"CancellationStrategy",{enumerable:!0,get:function(){return tc.CancellationStrategy}});Object.defineProperty(ze,"MessageStrategy",{enumerable:!0,get:function(){return tc.MessageStrategy}});var Ox=bp();ze.RAL=Ox.default});var Bb=Ie(nC=>{"use strict";Object.defineProperty(nC,"__esModule",{value:!0});var Kb=require("util"),zh=B_(),V_=class t extends zh.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new Kb.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};V_.emptyBuffer=Buffer.allocUnsafe(0);var ZD=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),zh.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),zh.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),zh.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),zh.Disposable.create(()=>this.stream.off("data",e))}},eC=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),zh.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),zh.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),zh.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,o)=>{let f=h=>{h==null?r():o(h)};typeof e=="string"?this.stream.write(e,n,f):this.stream.write(e,f)})}end(){this.stream.end()}},Gb=Object.freeze({messageBuffer:Object.freeze({create:t=>new V_(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Kb.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new ZD(t),asWritableStream:t=>new eC(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function tC(){return Gb}(function(t){function e(){zh.RAL.install(Gb)}t.install=e})(tC||(tC={}));nC.default=tC});var hg=Ie(Br=>{"use strict";var kx=Br&&Br.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),xx=Br&&Br.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&kx(e,t,n)};Object.defineProperty(Br,"__esModule",{value:!0});Br.createMessageConnection=Br.createServerSocketTransport=Br.createClientSocketTransport=Br.createServerPipeTransport=Br.createClientPipeTransport=Br.generateRandomPipeName=Br.StreamMessageWriter=Br.StreamMessageReader=Br.SocketMessageWriter=Br.SocketMessageReader=Br.PortMessageWriter=Br.PortMessageReader=Br.IPCMessageWriter=Br.IPCMessageReader=void 0;var Vg=Bb();Vg.default.install();var Vb=require("path"),Fx=require("os"),Lx=require("crypto"),Q_=require("net"),Tf=B_();xx(B_(),Br);var rC=class extends Tf.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Tf.Disposable.create(()=>this.process.off("message",e))}};Br.IPCMessageReader=rC;var iC=class extends Tf.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Br.IPCMessageWriter=iC;var oC=class extends Tf.AbstractMessageReader{constructor(e){super(),this.onData=new Tf.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};Br.PortMessageReader=oC;var sC=class extends Tf.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Br.PortMessageWriter=sC;var dg=class extends Tf.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,Vg.default)().stream.asReadableStream(e),n)}};Br.SocketMessageReader=dg;var vg=class extends Tf.WriteableStreamMessageWriter{constructor(e,n){super((0,Vg.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Br.SocketMessageWriter=vg;var X_=class extends Tf.ReadableStreamMessageReader{constructor(e,n){super((0,Vg.default)().stream.asReadableStream(e),n)}};Br.StreamMessageReader=X_;var J_=class extends Tf.WriteableStreamMessageWriter{constructor(e,n){super((0,Vg.default)().stream.asWritableStream(e),n)}};Br.StreamMessageWriter=J_;var Xb=process.env.XDG_RUNTIME_DIR,Ax=new Map([["linux",107],["darwin",103]]);function Mx(){let t=(0,Lx.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Xb?e=Vb.join(Xb,`vscode-ipc-${t}.sock`):e=Vb.join(Fx.tmpdir(),`vscode-${t}.sock`);let n=Ax.get(process.platform);return n!==void 0&&e.length>n&&(0,Vg.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Br.generateRandomPipeName=Mx;function qx(t,e="utf-8"){let n,r=new Promise((o,f)=>{n=o});return new Promise((o,f)=>{let h=(0,Q_.createServer)(_=>{h.close(),n([new dg(_,e),new vg(_,e)])});h.on("error",f),h.listen(t,()=>{h.removeListener("error",f),o({onConnected:()=>r})})})}Br.createClientPipeTransport=qx;function Ux(t,e="utf-8"){let n=(0,Q_.createConnection)(t);return[new dg(n,e),new vg(n,e)]}Br.createServerPipeTransport=Ux;function jx(t,e="utf-8"){let n,r=new Promise((o,f)=>{n=o});return new Promise((o,f)=>{let h=(0,Q_.createServer)(_=>{h.close(),n([new dg(_,e),new vg(_,e)])});h.on("error",f),h.listen(t,"127.0.0.1",()=>{h.removeListener("error",f),o({onConnected:()=>r})})})}Br.createClientSocketTransport=jx;function Hx(t,e="utf-8"){let n=(0,Q_.createConnection)(t,"127.0.0.1");return[new dg(n,e),new vg(n,e)]}Br.createServerSocketTransport=Hx;function $x(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function Yx(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function zx(t,e,n,r){n||(n=Tf.NullLogger);let o=$x(t)?new X_(t):t,f=Yx(e)?new J_(e):e;return Tf.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Tf.createMessageConnection)(o,f,n,r)}Br.createMessageConnection=zx});var aC=Ie((Z1,Jb)=>{"use strict";Jb.exports=hg()});var ey=Ie((Qb,Z_)=>{(function(t){if(typeof Z_=="object"&&typeof Z_.exports=="object"){var e=t(require,Qb);e!==void 0&&(Z_.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(x){function J(Q){return typeof Q=="string"}x.is=J})(n||(e.DocumentUri=n={}));var r;(function(x){function J(Q){return typeof Q=="string"}x.is=J})(r||(e.URI=r={}));var o;(function(x){x.MIN_VALUE=-2147483648,x.MAX_VALUE=2147483647;function J(Q){return typeof Q=="number"&&x.MIN_VALUE<=Q&&Q<=x.MAX_VALUE}x.is=J})(o||(e.integer=o={}));var f;(function(x){x.MIN_VALUE=0,x.MAX_VALUE=2147483647;function J(Q){return typeof Q=="number"&&x.MIN_VALUE<=Q&&Q<=x.MAX_VALUE}x.is=J})(f||(e.uinteger=f={}));var h;(function(x){function J(j,I){return j===Number.MAX_VALUE&&(j=f.MAX_VALUE),I===Number.MAX_VALUE&&(I=f.MAX_VALUE),{line:j,character:I}}x.create=J;function Q(j){var I=j;return oe.objectLiteral(I)&&oe.uinteger(I.line)&&oe.uinteger(I.character)}x.is=Q})(h||(e.Position=h={}));var _;(function(x){function J(j,I,le,He){if(oe.uinteger(j)&&oe.uinteger(I)&&oe.uinteger(le)&&oe.uinteger(He))return{start:h.create(j,I),end:h.create(le,He)};if(h.is(j)&&h.is(I))return{start:j,end:I};throw new Error("Range#create called with invalid arguments[".concat(j,", ").concat(I,", ").concat(le,", ").concat(He,"]"))}x.create=J;function Q(j){var I=j;return oe.objectLiteral(I)&&h.is(I.start)&&h.is(I.end)}x.is=Q})(_||(e.Range=_={}));var T;(function(x){function J(j,I){return{uri:j,range:I}}x.create=J;function Q(j){var I=j;return oe.objectLiteral(I)&&_.is(I.range)&&(oe.string(I.uri)||oe.undefined(I.uri))}x.is=Q})(T||(e.Location=T={}));var N;(function(x){function J(j,I,le,He){return{targetUri:j,targetRange:I,targetSelectionRange:le,originSelectionRange:He}}x.create=J;function Q(j){var I=j;return oe.objectLiteral(I)&&_.is(I.targetRange)&&oe.string(I.targetUri)&&_.is(I.targetSelectionRange)&&(_.is(I.originSelectionRange)||oe.undefined(I.originSelectionRange))}x.is=Q})(N||(e.LocationLink=N={}));var A;(function(x){function J(j,I,le,He){return{red:j,green:I,blue:le,alpha:He}}x.create=J;function Q(j){var I=j;return oe.objectLiteral(I)&&oe.numberRange(I.red,0,1)&&oe.numberRange(I.green,0,1)&&oe.numberRange(I.blue,0,1)&&oe.numberRange(I.alpha,0,1)}x.is=Q})(A||(e.Color=A={}));var U;(function(x){function J(j,I){return{range:j,color:I}}x.create=J;function Q(j){var I=j;return oe.objectLiteral(I)&&_.is(I.range)&&A.is(I.color)}x.is=Q})(U||(e.ColorInformation=U={}));var H;(function(x){function J(j,I,le){return{label:j,textEdit:I,additionalTextEdits:le}}x.create=J;function Q(j){var I=j;return oe.objectLiteral(I)&&oe.string(I.label)&&(oe.undefined(I.textEdit)||Qe.is(I))&&(oe.undefined(I.additionalTextEdits)||oe.typedArray(I.additionalTextEdits,Qe.is))}x.is=Q})(H||(e.ColorPresentation=H={}));var te;(function(x){x.Comment="comment",x.Imports="imports",x.Region="region"})(te||(e.FoldingRangeKind=te={}));var Y;(function(x){function J(j,I,le,He,tn,pr){var ar={startLine:j,endLine:I};return oe.defined(le)&&(ar.startCharacter=le),oe.defined(He)&&(ar.endCharacter=He),oe.defined(tn)&&(ar.kind=tn),oe.defined(pr)&&(ar.collapsedText=pr),ar}x.create=J;function Q(j){var I=j;return oe.objectLiteral(I)&&oe.uinteger(I.startLine)&&oe.uinteger(I.startLine)&&(oe.undefined(I.startCharacter)||oe.uinteger(I.startCharacter))&&(oe.undefined(I.endCharacter)||oe.uinteger(I.endCharacter))&&(oe.undefined(I.kind)||oe.string(I.kind))}x.is=Q})(Y||(e.FoldingRange=Y={}));var ye;(function(x){function J(j,I){return{location:j,message:I}}x.create=J;function Q(j){var I=j;return oe.defined(I)&&T.is(I.location)&&oe.string(I.message)}x.is=Q})(ye||(e.DiagnosticRelatedInformation=ye={}));var Ce;(function(x){x.Error=1,x.Warning=2,x.Information=3,x.Hint=4})(Ce||(e.DiagnosticSeverity=Ce={}));var qe;(function(x){x.Unnecessary=1,x.Deprecated=2})(qe||(e.DiagnosticTag=qe={}));var _e;(function(x){function J(Q){var j=Q;return oe.objectLiteral(j)&&oe.string(j.href)}x.is=J})(_e||(e.CodeDescription=_e={}));var he;(function(x){function J(j,I,le,He,tn,pr){var ar={range:j,message:I};return oe.defined(le)&&(ar.severity=le),oe.defined(He)&&(ar.code=He),oe.defined(tn)&&(ar.source=tn),oe.defined(pr)&&(ar.relatedInformation=pr),ar}x.create=J;function Q(j){var I,le=j;return oe.defined(le)&&_.is(le.range)&&oe.string(le.message)&&(oe.number(le.severity)||oe.undefined(le.severity))&&(oe.integer(le.code)||oe.string(le.code)||oe.undefined(le.code))&&(oe.undefined(le.codeDescription)||oe.string((I=le.codeDescription)===null||I===void 0?void 0:I.href))&&(oe.string(le.source)||oe.undefined(le.source))&&(oe.undefined(le.relatedInformation)||oe.typedArray(le.relatedInformation,ye.is))}x.is=Q})(he||(e.Diagnostic=he={}));var $e;(function(x){function J(j,I){for(var le=[],He=2;He<arguments.length;He++)le[He-2]=arguments[He];var tn={title:j,command:I};return oe.defined(le)&&le.length>0&&(tn.arguments=le),tn}x.create=J;function Q(j){var I=j;return oe.defined(I)&&oe.string(I.title)&&oe.string(I.command)}x.is=Q})($e||(e.Command=$e={}));var Qe;(function(x){function J(le,He){return{range:le,newText:He}}x.replace=J;function Q(le,He){return{range:{start:le,end:le},newText:He}}x.insert=Q;function j(le){return{range:le,newText:""}}x.del=j;function I(le){var He=le;return oe.objectLiteral(He)&&oe.string(He.newText)&&_.is(He.range)}x.is=I})(Qe||(e.TextEdit=Qe={}));var Et;(function(x){function J(j,I,le){var He={label:j};return I!==void 0&&(He.needsConfirmation=I),le!==void 0&&(He.description=le),He}x.create=J;function Q(j){var I=j;return oe.objectLiteral(I)&&oe.string(I.label)&&(oe.boolean(I.needsConfirmation)||I.needsConfirmation===void 0)&&(oe.string(I.description)||I.description===void 0)}x.is=Q})(Et||(e.ChangeAnnotation=Et={}));var Ge;(function(x){function J(Q){var j=Q;return oe.string(j)}x.is=J})(Ge||(e.ChangeAnnotationIdentifier=Ge={}));var pt;(function(x){function J(le,He,tn){return{range:le,newText:He,annotationId:tn}}x.replace=J;function Q(le,He,tn){return{range:{start:le,end:le},newText:He,annotationId:tn}}x.insert=Q;function j(le,He){return{range:le,newText:"",annotationId:He}}x.del=j;function I(le){var He=le;return Qe.is(He)&&(Et.is(He.annotationId)||Ge.is(He.annotationId))}x.is=I})(pt||(e.AnnotatedTextEdit=pt={}));var Ft;(function(x){function J(j,I){return{textDocument:j,edits:I}}x.create=J;function Q(j){var I=j;return oe.defined(I)&&vr.is(I.textDocument)&&Array.isArray(I.edits)}x.is=Q})(Ft||(e.TextDocumentEdit=Ft={}));var zn;(function(x){function J(j,I,le){var He={kind:"create",uri:j};return I!==void 0&&(I.overwrite!==void 0||I.ignoreIfExists!==void 0)&&(He.options=I),le!==void 0&&(He.annotationId=le),He}x.create=J;function Q(j){var I=j;return I&&I.kind==="create"&&oe.string(I.uri)&&(I.options===void 0||(I.options.overwrite===void 0||oe.boolean(I.options.overwrite))&&(I.options.ignoreIfExists===void 0||oe.boolean(I.options.ignoreIfExists)))&&(I.annotationId===void 0||Ge.is(I.annotationId))}x.is=Q})(zn||(e.CreateFile=zn={}));var Vt;(function(x){function J(j,I,le,He){var tn={kind:"rename",oldUri:j,newUri:I};return le!==void 0&&(le.overwrite!==void 0||le.ignoreIfExists!==void 0)&&(tn.options=le),He!==void 0&&(tn.annotationId=He),tn}x.create=J;function Q(j){var I=j;return I&&I.kind==="rename"&&oe.string(I.oldUri)&&oe.string(I.newUri)&&(I.options===void 0||(I.options.overwrite===void 0||oe.boolean(I.options.overwrite))&&(I.options.ignoreIfExists===void 0||oe.boolean(I.options.ignoreIfExists)))&&(I.annotationId===void 0||Ge.is(I.annotationId))}x.is=Q})(Vt||(e.RenameFile=Vt={}));var Nn;(function(x){function J(j,I,le){var He={kind:"delete",uri:j};return I!==void 0&&(I.recursive!==void 0||I.ignoreIfNotExists!==void 0)&&(He.options=I),le!==void 0&&(He.annotationId=le),He}x.create=J;function Q(j){var I=j;return I&&I.kind==="delete"&&oe.string(I.uri)&&(I.options===void 0||(I.options.recursive===void 0||oe.boolean(I.options.recursive))&&(I.options.ignoreIfNotExists===void 0||oe.boolean(I.options.ignoreIfNotExists)))&&(I.annotationId===void 0||Ge.is(I.annotationId))}x.is=Q})(Nn||(e.DeleteFile=Nn={}));var Zr;(function(x){function J(Q){var j=Q;return j&&(j.changes!==void 0||j.documentChanges!==void 0)&&(j.documentChanges===void 0||j.documentChanges.every(function(I){return oe.string(I.kind)?zn.is(I)||Vt.is(I)||Nn.is(I):Ft.is(I)}))}x.is=J})(Zr||(e.WorkspaceEdit=Zr={}));var Wn=function(){function x(J,Q){this.edits=J,this.changeAnnotations=Q}return x.prototype.insert=function(J,Q,j){var I,le;if(j===void 0?I=Qe.insert(J,Q):Ge.is(j)?(le=j,I=pt.insert(J,Q,j)):(this.assertChangeAnnotations(this.changeAnnotations),le=this.changeAnnotations.manage(j),I=pt.insert(J,Q,le)),this.edits.push(I),le!==void 0)return le},x.prototype.replace=function(J,Q,j){var I,le;if(j===void 0?I=Qe.replace(J,Q):Ge.is(j)?(le=j,I=pt.replace(J,Q,j)):(this.assertChangeAnnotations(this.changeAnnotations),le=this.changeAnnotations.manage(j),I=pt.replace(J,Q,le)),this.edits.push(I),le!==void 0)return le},x.prototype.delete=function(J,Q){var j,I;if(Q===void 0?j=Qe.del(J):Ge.is(Q)?(I=Q,j=pt.del(J,Q)):(this.assertChangeAnnotations(this.changeAnnotations),I=this.changeAnnotations.manage(Q),j=pt.del(J,I)),this.edits.push(j),I!==void 0)return I},x.prototype.add=function(J){this.edits.push(J)},x.prototype.all=function(){return this.edits},x.prototype.clear=function(){this.edits.splice(0,this.edits.length)},x.prototype.assertChangeAnnotations=function(J){if(J===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},x}(),er=function(){function x(J){this._annotations=J===void 0?Object.create(null):J,this._counter=0,this._size=0}return x.prototype.all=function(){return this._annotations},Object.defineProperty(x.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),x.prototype.manage=function(J,Q){var j;if(Ge.is(J)?j=J:(j=this.nextId(),Q=J),this._annotations[j]!==void 0)throw new Error("Id ".concat(j," is already in use."));if(Q===void 0)throw new Error("No annotation provided for id ".concat(j));return this._annotations[j]=Q,this._size++,j},x.prototype.nextId=function(){return this._counter++,this._counter.toString()},x}(),Ii=function(){function x(J){var Q=this;this._textEditChanges=Object.create(null),J!==void 0?(this._workspaceEdit=J,J.documentChanges?(this._changeAnnotations=new er(J.changeAnnotations),J.changeAnnotations=this._changeAnnotations.all(),J.documentChanges.forEach(function(j){if(Ft.is(j)){var I=new Wn(j.edits,Q._changeAnnotations);Q._textEditChanges[j.textDocument.uri]=I}})):J.changes&&Object.keys(J.changes).forEach(function(j){var I=new Wn(J.changes[j]);Q._textEditChanges[j]=I})):this._workspaceEdit={}}return Object.defineProperty(x.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),x.prototype.getTextEditChange=function(J){if(vr.is(J)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Q={uri:J.uri,version:J.version},j=this._textEditChanges[Q.uri];if(!j){var I=[],le={textDocument:Q,edits:I};this._workspaceEdit.documentChanges.push(le),j=new Wn(I,this._changeAnnotations),this._textEditChanges[Q.uri]=j}return j}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var j=this._textEditChanges[J];if(!j){var I=[];this._workspaceEdit.changes[J]=I,j=new Wn(I),this._textEditChanges[J]=j}return j}},x.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new er,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},x.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},x.prototype.createFile=function(J,Q,j){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var I;Et.is(Q)||Ge.is(Q)?I=Q:j=Q;var le,He;if(I===void 0?le=zn.create(J,j):(He=Ge.is(I)?I:this._changeAnnotations.manage(I),le=zn.create(J,j,He)),this._workspaceEdit.documentChanges.push(le),He!==void 0)return He},x.prototype.renameFile=function(J,Q,j,I){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var le;Et.is(j)||Ge.is(j)?le=j:I=j;var He,tn;if(le===void 0?He=Vt.create(J,Q,I):(tn=Ge.is(le)?le:this._changeAnnotations.manage(le),He=Vt.create(J,Q,I,tn)),this._workspaceEdit.documentChanges.push(He),tn!==void 0)return tn},x.prototype.deleteFile=function(J,Q,j){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var I;Et.is(Q)||Ge.is(Q)?I=Q:j=Q;var le,He;if(I===void 0?le=Nn.create(J,j):(He=Ge.is(I)?I:this._changeAnnotations.manage(I),le=Nn.create(J,j,He)),this._workspaceEdit.documentChanges.push(le),He!==void 0)return He},x}();e.WorkspaceChange=Ii;var Kt;(function(x){function J(j){return{uri:j}}x.create=J;function Q(j){var I=j;return oe.defined(I)&&oe.string(I.uri)}x.is=Q})(Kt||(e.TextDocumentIdentifier=Kt={}));var At;(function(x){function J(j,I){return{uri:j,version:I}}x.create=J;function Q(j){var I=j;return oe.defined(I)&&oe.string(I.uri)&&oe.integer(I.version)}x.is=Q})(At||(e.VersionedTextDocumentIdentifier=At={}));var vr;(function(x){function J(j,I){return{uri:j,version:I}}x.create=J;function Q(j){var I=j;return oe.defined(I)&&oe.string(I.uri)&&(I.version===null||oe.integer(I.version))}x.is=Q})(vr||(e.OptionalVersionedTextDocumentIdentifier=vr={}));var hr;(function(x){function J(j,I,le,He){return{uri:j,languageId:I,version:le,text:He}}x.create=J;function Q(j){var I=j;return oe.defined(I)&&oe.string(I.uri)&&oe.string(I.languageId)&&oe.integer(I.version)&&oe.string(I.text)}x.is=Q})(hr||(e.TextDocumentItem=hr={}));var co;(function(x){x.PlainText="plaintext",x.Markdown="markdown";function J(Q){var j=Q;return j===x.PlainText||j===x.Markdown}x.is=J})(co||(e.MarkupKind=co={}));var Kn;(function(x){function J(Q){var j=Q;return oe.objectLiteral(Q)&&co.is(j.kind)&&oe.string(j.value)}x.is=J})(Kn||(e.MarkupContent=Kn={}));var or;(function(x){x.Text=1,x.Method=2,x.Function=3,x.Constructor=4,x.Field=5,x.Variable=6,x.Class=7,x.Interface=8,x.Module=9,x.Property=10,x.Unit=11,x.Value=12,x.Enum=13,x.Keyword=14,x.Snippet=15,x.Color=16,x.File=17,x.Reference=18,x.Folder=19,x.EnumMember=20,x.Constant=21,x.Struct=22,x.Event=23,x.Operator=24,x.TypeParameter=25})(or||(e.CompletionItemKind=or={}));var Bt;(function(x){x.PlainText=1,x.Snippet=2})(Bt||(e.InsertTextFormat=Bt={}));var dt;(function(x){x.Deprecated=1})(dt||(e.CompletionItemTag=dt={}));var si;(function(x){function J(j,I,le){return{newText:j,insert:I,replace:le}}x.create=J;function Q(j){var I=j;return I&&oe.string(I.newText)&&_.is(I.insert)&&_.is(I.replace)}x.is=Q})(si||(e.InsertReplaceEdit=si={}));var Pr;(function(x){x.asIs=1,x.adjustIndentation=2})(Pr||(e.InsertTextMode=Pr={}));var Ss;(function(x){function J(Q){var j=Q;return j&&(oe.string(j.detail)||j.detail===void 0)&&(oe.string(j.description)||j.description===void 0)}x.is=J})(Ss||(e.CompletionItemLabelDetails=Ss={}));var mr;(function(x){function J(Q){return{label:Q}}x.create=J})(mr||(e.CompletionItem=mr={}));var jt;(function(x){function J(Q,j){return{items:Q||[],isIncomplete:!!j}}x.create=J})(jt||(e.CompletionList=jt={}));var Ir;(function(x){function J(j){return j.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}x.fromPlainText=J;function Q(j){var I=j;return oe.string(I)||oe.objectLiteral(I)&&oe.string(I.language)&&oe.string(I.value)}x.is=Q})(Ir||(e.MarkedString=Ir={}));var _t;(function(x){function J(Q){var j=Q;return!!j&&oe.objectLiteral(j)&&(Kn.is(j.contents)||Ir.is(j.contents)||oe.typedArray(j.contents,Ir.is))&&(Q.range===void 0||_.is(Q.range))}x.is=J})(_t||(e.Hover=_t={}));var ei;(function(x){function J(Q,j){return j?{label:Q,documentation:j}:{label:Q}}x.create=J})(ei||(e.ParameterInformation=ei={}));var yi;(function(x){function J(Q,j){for(var I=[],le=2;le<arguments.length;le++)I[le-2]=arguments[le];var He={label:Q};return oe.defined(j)&&(He.documentation=j),oe.defined(I)?He.parameters=I:He.parameters=[],He}x.create=J})(yi||(e.SignatureInformation=yi={}));var ko;(function(x){x.Text=1,x.Read=2,x.Write=3})(ko||(e.DocumentHighlightKind=ko={}));var Gn;(function(x){function J(Q,j){var I={range:Q};return oe.number(j)&&(I.kind=j),I}x.create=J})(Gn||(e.DocumentHighlight=Gn={}));var zi;(function(x){x.File=1,x.Module=2,x.Namespace=3,x.Package=4,x.Class=5,x.Method=6,x.Property=7,x.Field=8,x.Constructor=9,x.Enum=10,x.Interface=11,x.Function=12,x.Variable=13,x.Constant=14,x.String=15,x.Number=16,x.Boolean=17,x.Array=18,x.Object=19,x.Key=20,x.Null=21,x.EnumMember=22,x.Struct=23,x.Event=24,x.Operator=25,x.TypeParameter=26})(zi||(e.SymbolKind=zi={}));var dr;(function(x){x.Deprecated=1})(dr||(e.SymbolTag=dr={}));var sr;(function(x){function J(Q,j,I,le,He){var tn={name:Q,kind:j,location:{uri:le,range:I}};return He&&(tn.containerName=He),tn}x.create=J})(sr||(e.SymbolInformation=sr={}));var Ni;(function(x){function J(Q,j,I,le){return le!==void 0?{name:Q,kind:j,location:{uri:I,range:le}}:{name:Q,kind:j,location:{uri:I}}}x.create=J})(Ni||(e.WorkspaceSymbol=Ni={}));var fn;(function(x){function J(j,I,le,He,tn,pr){var ar={name:j,detail:I,kind:le,range:He,selectionRange:tn};return pr!==void 0&&(ar.children=pr),ar}x.create=J;function Q(j){var I=j;return I&&oe.string(I.name)&&oe.number(I.kind)&&_.is(I.range)&&_.is(I.selectionRange)&&(I.detail===void 0||oe.string(I.detail))&&(I.deprecated===void 0||oe.boolean(I.deprecated))&&(I.children===void 0||Array.isArray(I.children))&&(I.tags===void 0||Array.isArray(I.tags))}x.is=Q})(fn||(e.DocumentSymbol=fn={}));var Yr;(function(x){x.Empty="",x.QuickFix="quickfix",x.Refactor="refactor",x.RefactorExtract="refactor.extract",x.RefactorInline="refactor.inline",x.RefactorRewrite="refactor.rewrite",x.Source="source",x.SourceOrganizeImports="source.organizeImports",x.SourceFixAll="source.fixAll"})(Yr||(e.CodeActionKind=Yr={}));var Vr;(function(x){x.Invoked=1,x.Automatic=2})(Vr||(e.CodeActionTriggerKind=Vr={}));var Vn;(function(x){function J(j,I,le){var He={diagnostics:j};return I!=null&&(He.only=I),le!=null&&(He.triggerKind=le),He}x.create=J;function Q(j){var I=j;return oe.defined(I)&&oe.typedArray(I.diagnostics,he.is)&&(I.only===void 0||oe.typedArray(I.only,oe.string))&&(I.triggerKind===void 0||I.triggerKind===Vr.Invoked||I.triggerKind===Vr.Automatic)}x.is=Q})(Vn||(e.CodeActionContext=Vn={}));var xo;(function(x){function J(j,I,le){var He={title:j},tn=!0;return typeof I=="string"?(tn=!1,He.kind=I):$e.is(I)?He.command=I:He.edit=I,tn&&le!==void 0&&(He.kind=le),He}x.create=J;function Q(j){var I=j;return I&&oe.string(I.title)&&(I.diagnostics===void 0||oe.typedArray(I.diagnostics,he.is))&&(I.kind===void 0||oe.string(I.kind))&&(I.edit!==void 0||I.command!==void 0)&&(I.command===void 0||$e.is(I.command))&&(I.isPreferred===void 0||oe.boolean(I.isPreferred))&&(I.edit===void 0||Zr.is(I.edit))}x.is=Q})(xo||(e.CodeAction=xo={}));var Xr;(function(x){function J(j,I){var le={range:j};return oe.defined(I)&&(le.data=I),le}x.create=J;function Q(j){var I=j;return oe.defined(I)&&_.is(I.range)&&(oe.undefined(I.command)||$e.is(I.command))}x.is=Q})(Xr||(e.CodeLens=Xr={}));var Xn;(function(x){function J(j,I){return{tabSize:j,insertSpaces:I}}x.create=J;function Q(j){var I=j;return oe.defined(I)&&oe.uinteger(I.tabSize)&&oe.boolean(I.insertSpaces)}x.is=Q})(Xn||(e.FormattingOptions=Xn={}));var pi;(function(x){function J(j,I,le){return{range:j,target:I,data:le}}x.create=J;function Q(j){var I=j;return oe.defined(I)&&_.is(I.range)&&(oe.undefined(I.target)||oe.string(I.target))}x.is=Q})(pi||(e.DocumentLink=pi={}));var X;(function(x){function J(j,I){return{range:j,parent:I}}x.create=J;function Q(j){var I=j;return oe.objectLiteral(I)&&_.is(I.range)&&(I.parent===void 0||x.is(I.parent))}x.is=Q})(X||(e.SelectionRange=X={}));var Me;(function(x){x.namespace="namespace",x.type="type",x.class="class",x.enum="enum",x.interface="interface",x.struct="struct",x.typeParameter="typeParameter",x.parameter="parameter",x.variable="variable",x.property="property",x.enumMember="enumMember",x.event="event",x.function="function",x.method="method",x.macro="macro",x.keyword="keyword",x.modifier="modifier",x.comment="comment",x.string="string",x.number="number",x.regexp="regexp",x.operator="operator",x.decorator="decorator"})(Me||(e.SemanticTokenTypes=Me={}));var ot;(function(x){x.declaration="declaration",x.definition="definition",x.readonly="readonly",x.static="static",x.deprecated="deprecated",x.abstract="abstract",x.async="async",x.modification="modification",x.documentation="documentation",x.defaultLibrary="defaultLibrary"})(ot||(e.SemanticTokenModifiers=ot={}));var Tt;(function(x){function J(Q){var j=Q;return oe.objectLiteral(j)&&(j.resultId===void 0||typeof j.resultId=="string")&&Array.isArray(j.data)&&(j.data.length===0||typeof j.data[0]=="number")}x.is=J})(Tt||(e.SemanticTokens=Tt={}));var yn;(function(x){function J(j,I){return{range:j,text:I}}x.create=J;function Q(j){var I=j;return I!=null&&_.is(I.range)&&oe.string(I.text)}x.is=Q})(yn||(e.InlineValueText=yn={}));var Fn;(function(x){function J(j,I,le){return{range:j,variableName:I,caseSensitiveLookup:le}}x.create=J;function Q(j){var I=j;return I!=null&&_.is(I.range)&&oe.boolean(I.caseSensitiveLookup)&&(oe.string(I.variableName)||I.variableName===void 0)}x.is=Q})(Fn||(e.InlineValueVariableLookup=Fn={}));var En;(function(x){function J(j,I){return{range:j,expression:I}}x.create=J;function Q(j){var I=j;return I!=null&&_.is(I.range)&&(oe.string(I.expression)||I.expression===void 0)}x.is=Q})(En||(e.InlineValueEvaluatableExpression=En={}));var tr;(function(x){function J(j,I){return{frameId:j,stoppedLocation:I}}x.create=J;function Q(j){var I=j;return oe.defined(I)&&_.is(j.stoppedLocation)}x.is=Q})(tr||(e.InlineValueContext=tr={}));var mn;(function(x){x.Type=1,x.Parameter=2;function J(Q){return Q===1||Q===2}x.is=J})(mn||(e.InlayHintKind=mn={}));var Lt;(function(x){function J(j){return{value:j}}x.create=J;function Q(j){var I=j;return oe.objectLiteral(I)&&(I.tooltip===void 0||oe.string(I.tooltip)||Kn.is(I.tooltip))&&(I.location===void 0||T.is(I.location))&&(I.command===void 0||$e.is(I.command))}x.is=Q})(Lt||(e.InlayHintLabelPart=Lt={}));var Ln;(function(x){function J(j,I,le){var He={position:j,label:I};return le!==void 0&&(He.kind=le),He}x.create=J;function Q(j){var I=j;return oe.objectLiteral(I)&&h.is(I.position)&&(oe.string(I.label)||oe.typedArray(I.label,Lt.is))&&(I.kind===void 0||mn.is(I.kind))&&I.textEdits===void 0||oe.typedArray(I.textEdits,Qe.is)&&(I.tooltip===void 0||oe.string(I.tooltip)||Kn.is(I.tooltip))&&(I.paddingLeft===void 0||oe.boolean(I.paddingLeft))&&(I.paddingRight===void 0||oe.boolean(I.paddingRight))}x.is=Q})(Ln||(e.InlayHint=Ln={}));var $t;(function(x){function J(Q){return{kind:"snippet",value:Q}}x.createSnippet=J})($t||(e.StringValue=$t={}));var Jr;(function(x){function J(Q,j,I,le){return{insertText:Q,filterText:j,range:I,command:le}}x.create=J})(Jr||(e.InlineCompletionItem=Jr={}));var Mr;(function(x){function J(Q){return{items:Q}}x.create=J})(Mr||(e.InlineCompletionList=Mr={}));var Ds;(function(x){x.Invoked=0,x.Automatic=1})(Ds||(e.InlineCompletionTriggerKind=Ds={}));var uo;(function(x){function J(Q,j){return{range:Q,text:j}}x.create=J})(uo||(e.SelectedCompletionInfo=uo={}));var O;(function(x){function J(Q,j){return{triggerKind:Q,selectedCompletionInfo:j}}x.create=J})(O||(e.InlineCompletionContext=O={}));var Ee;(function(x){function J(Q){var j=Q;return oe.objectLiteral(j)&&r.is(j.uri)&&oe.string(j.name)}x.is=J})(Ee||(e.WorkspaceFolder=Ee={})),e.EOL=[`
`,`\r
`,"\r"];var Dt;(function(x){function J(le,He,tn,pr){return new en(le,He,tn,pr)}x.create=J;function Q(le){var He=le;return!!(oe.defined(He)&&oe.string(He.uri)&&(oe.undefined(He.languageId)||oe.string(He.languageId))&&oe.uinteger(He.lineCount)&&oe.func(He.getText)&&oe.func(He.positionAt)&&oe.func(He.offsetAt))}x.is=Q;function j(le,He){for(var tn=le.getText(),pr=I(He,function(ai,D){var ee=ai.range.start.line-D.range.start.line;return ee===0?ai.range.start.character-D.range.start.character:ee}),ar=tn.length,gi=pr.length-1;gi>=0;gi--){var gr=pr[gi],_r=le.offsetAt(gr.range.start),dn=le.offsetAt(gr.range.end);if(dn<=ar)tn=tn.substring(0,_r)+gr.newText+tn.substring(dn,tn.length);else throw new Error("Overlapping edit");ar=_r}return tn}x.applyEdits=j;function I(le,He){if(le.length<=1)return le;var tn=le.length/2|0,pr=le.slice(0,tn),ar=le.slice(tn);I(pr,He),I(ar,He);for(var gi=0,gr=0,_r=0;gi<pr.length&&gr<ar.length;){var dn=He(pr[gi],ar[gr]);dn<=0?le[_r++]=pr[gi++]:le[_r++]=ar[gr++]}for(;gi<pr.length;)le[_r++]=pr[gi++];for(;gr<ar.length;)le[_r++]=ar[gr++];return le}})(Dt||(e.TextDocument=Dt={}));var en=function(){function x(J,Q,j,I){this._uri=J,this._languageId=Q,this._version=j,this._content=I,this._lineOffsets=void 0}return Object.defineProperty(x.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),x.prototype.getText=function(J){if(J){var Q=this.offsetAt(J.start),j=this.offsetAt(J.end);return this._content.substring(Q,j)}return this._content},x.prototype.update=function(J,Q){this._content=J.text,this._version=Q,this._lineOffsets=void 0},x.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var J=[],Q=this._content,j=!0,I=0;I<Q.length;I++){j&&(J.push(I),j=!1);var le=Q.charAt(I);j=le==="\r"||le===`
`,le==="\r"&&I+1<Q.length&&Q.charAt(I+1)===`
`&&I++}j&&Q.length>0&&J.push(Q.length),this._lineOffsets=J}return this._lineOffsets},x.prototype.positionAt=function(J){J=Math.max(Math.min(J,this._content.length),0);var Q=this.getLineOffsets(),j=0,I=Q.length;if(I===0)return h.create(0,J);for(;j<I;){var le=Math.floor((j+I)/2);Q[le]>J?I=le:j=le+1}var He=j-1;return h.create(He,J-Q[He])},x.prototype.offsetAt=function(J){var Q=this.getLineOffsets();if(J.line>=Q.length)return this._content.length;if(J.line<0)return 0;var j=Q[J.line],I=J.line+1<Q.length?Q[J.line+1]:this._content.length;return Math.max(Math.min(j+J.character,I),j)},Object.defineProperty(x.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),x}(),oe;(function(x){var J=Object.prototype.toString;function Q(dn){return typeof dn<"u"}x.defined=Q;function j(dn){return typeof dn>"u"}x.undefined=j;function I(dn){return dn===!0||dn===!1}x.boolean=I;function le(dn){return J.call(dn)==="[object String]"}x.string=le;function He(dn){return J.call(dn)==="[object Number]"}x.number=He;function tn(dn,ai,D){return J.call(dn)==="[object Number]"&&ai<=dn&&dn<=D}x.numberRange=tn;function pr(dn){return J.call(dn)==="[object Number]"&&-2147483648<=dn&&dn<=2147483647}x.integer=pr;function ar(dn){return J.call(dn)==="[object Number]"&&0<=dn&&dn<=2147483647}x.uinteger=ar;function gi(dn){return J.call(dn)==="[object Function]"}x.func=gi;function gr(dn){return dn!==null&&typeof dn=="object"}x.objectLiteral=gr;function _r(dn,ai){return Array.isArray(dn)&&dn.every(ai)}x.typedArray=_r})(oe||(oe={}))})});var Io=Ie(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.ProtocolNotificationType=hl.ProtocolNotificationType0=hl.ProtocolRequestType=hl.ProtocolRequestType0=hl.RegistrationType=hl.MessageDirection=void 0;var Xg=hg(),Zb;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(Zb||(hl.MessageDirection=Zb={}));var cC=class{constructor(e){this.method=e}};hl.RegistrationType=cC;var uC=class extends Xg.RequestType0{constructor(e){super(e)}};hl.ProtocolRequestType0=uC;var lC=class extends Xg.RequestType{constructor(e){super(e,Xg.ParameterStructures.byName)}};hl.ProtocolRequestType=lC;var fC=class extends Xg.NotificationType0{constructor(e){super(e)}};hl.ProtocolNotificationType0=fC;var dC=class extends Xg.NotificationType{constructor(e){super(e,Xg.ParameterStructures.byName)}};hl.ProtocolNotificationType=dC});var ty=Ie(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.objectLiteral=Ls.typedArray=Ls.stringArray=Ls.array=Ls.func=Ls.error=Ls.number=Ls.string=Ls.boolean=void 0;function Wx(t){return t===!0||t===!1}Ls.boolean=Wx;function ew(t){return typeof t=="string"||t instanceof String}Ls.string=ew;function Kx(t){return typeof t=="number"||t instanceof Number}Ls.number=Kx;function Gx(t){return t instanceof Error}Ls.error=Gx;function Bx(t){return typeof t=="function"}Ls.func=Bx;function tw(t){return Array.isArray(t)}Ls.array=tw;function Vx(t){return tw(t)&&t.every(e=>ew(e))}Ls.stringArray=Vx;function Xx(t,e){return Array.isArray(t)&&t.every(e)}Ls.typedArray=Xx;function Jx(t){return t!==null&&typeof t=="object"}Ls.objectLiteral=Jx});var iw=Ie(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0});ny.ImplementationRequest=void 0;var nw=Io(),rw;(function(t){t.method="textDocument/implementation",t.messageDirection=nw.MessageDirection.clientToServer,t.type=new nw.ProtocolRequestType(t.method)})(rw||(ny.ImplementationRequest=rw={}))});var aw=Ie(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});ry.TypeDefinitionRequest=void 0;var ow=Io(),sw;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=ow.MessageDirection.clientToServer,t.type=new ow.ProtocolRequestType(t.method)})(sw||(ry.TypeDefinitionRequest=sw={}))});var lw=Ie(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.DidChangeWorkspaceFoldersNotification=Jg.WorkspaceFoldersRequest=void 0;var iy=Io(),cw;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=iy.MessageDirection.serverToClient,t.type=new iy.ProtocolRequestType0(t.method)})(cw||(Jg.WorkspaceFoldersRequest=cw={}));var uw;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=iy.MessageDirection.clientToServer,t.type=new iy.ProtocolNotificationType(t.method)})(uw||(Jg.DidChangeWorkspaceFoldersNotification=uw={}))});var vw=Ie(oy=>{"use strict";Object.defineProperty(oy,"__esModule",{value:!0});oy.ConfigurationRequest=void 0;var fw=Io(),dw;(function(t){t.method="workspace/configuration",t.messageDirection=fw.MessageDirection.serverToClient,t.type=new fw.ProtocolRequestType(t.method)})(dw||(oy.ConfigurationRequest=dw={}))});var gw=Ie(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.ColorPresentationRequest=Qg.DocumentColorRequest=void 0;var sy=Io(),hw;(function(t){t.method="textDocument/documentColor",t.messageDirection=sy.MessageDirection.clientToServer,t.type=new sy.ProtocolRequestType(t.method)})(hw||(Qg.DocumentColorRequest=hw={}));var pw;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=sy.MessageDirection.clientToServer,t.type=new sy.ProtocolRequestType(t.method)})(pw||(Qg.ColorPresentationRequest=pw={}))});var yw=Ie(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});Zg.FoldingRangeRefreshRequest=Zg.FoldingRangeRequest=void 0;var ay=Io(),mw;(function(t){t.method="textDocument/foldingRange",t.messageDirection=ay.MessageDirection.clientToServer,t.type=new ay.ProtocolRequestType(t.method)})(mw||(Zg.FoldingRangeRequest=mw={}));var _w;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=ay.MessageDirection.serverToClient,t.type=new ay.ProtocolRequestType0(t.method)})(_w||(Zg.FoldingRangeRefreshRequest=_w={}))});var Cw=Ie(cy=>{"use strict";Object.defineProperty(cy,"__esModule",{value:!0});cy.DeclarationRequest=void 0;var Sw=Io(),Dw;(function(t){t.method="textDocument/declaration",t.messageDirection=Sw.MessageDirection.clientToServer,t.type=new Sw.ProtocolRequestType(t.method)})(Dw||(cy.DeclarationRequest=Dw={}))});var bw=Ie(uy=>{"use strict";Object.defineProperty(uy,"__esModule",{value:!0});uy.SelectionRangeRequest=void 0;var Tw=Io(),Ew;(function(t){t.method="textDocument/selectionRange",t.messageDirection=Tw.MessageDirection.clientToServer,t.type=new Tw.ProtocolRequestType(t.method)})(Ew||(uy.SelectionRangeRequest=Ew={}))});var Iw=Ie(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.WorkDoneProgressCancelNotification=Pp.WorkDoneProgressCreateRequest=Pp.WorkDoneProgress=void 0;var Qx=hg(),ly=Io(),ww;(function(t){t.type=new Qx.ProgressType;function e(n){return n===t.type}t.is=e})(ww||(Pp.WorkDoneProgress=ww={}));var Rw;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=ly.MessageDirection.serverToClient,t.type=new ly.ProtocolRequestType(t.method)})(Rw||(Pp.WorkDoneProgressCreateRequest=Rw={}));var Pw;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=ly.MessageDirection.clientToServer,t.type=new ly.ProtocolNotificationType(t.method)})(Pw||(Pp.WorkDoneProgressCancelNotification=Pw={}))});var xw=Ie(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.CallHierarchyOutgoingCallsRequest=Ip.CallHierarchyIncomingCallsRequest=Ip.CallHierarchyPrepareRequest=void 0;var em=Io(),Nw;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=em.MessageDirection.clientToServer,t.type=new em.ProtocolRequestType(t.method)})(Nw||(Ip.CallHierarchyPrepareRequest=Nw={}));var Ow;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=em.MessageDirection.clientToServer,t.type=new em.ProtocolRequestType(t.method)})(Ow||(Ip.CallHierarchyIncomingCallsRequest=Ow={}));var kw;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=em.MessageDirection.clientToServer,t.type=new em.ProtocolRequestType(t.method)})(kw||(Ip.CallHierarchyOutgoingCallsRequest=kw={}))});var Uw=Ie(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.SemanticTokensRefreshRequest=pl.SemanticTokensRangeRequest=pl.SemanticTokensDeltaRequest=pl.SemanticTokensRequest=pl.SemanticTokensRegistrationType=pl.TokenFormat=void 0;var Wh=Io(),Fw;(function(t){t.Relative="relative"})(Fw||(pl.TokenFormat=Fw={}));var jm;(function(t){t.method="textDocument/semanticTokens",t.type=new Wh.RegistrationType(t.method)})(jm||(pl.SemanticTokensRegistrationType=jm={}));var Lw;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Wh.MessageDirection.clientToServer,t.type=new Wh.ProtocolRequestType(t.method),t.registrationMethod=jm.method})(Lw||(pl.SemanticTokensRequest=Lw={}));var Aw;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Wh.MessageDirection.clientToServer,t.type=new Wh.ProtocolRequestType(t.method),t.registrationMethod=jm.method})(Aw||(pl.SemanticTokensDeltaRequest=Aw={}));var Mw;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Wh.MessageDirection.clientToServer,t.type=new Wh.ProtocolRequestType(t.method),t.registrationMethod=jm.method})(Mw||(pl.SemanticTokensRangeRequest=Mw={}));var qw;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Wh.MessageDirection.serverToClient,t.type=new Wh.ProtocolRequestType0(t.method)})(qw||(pl.SemanticTokensRefreshRequest=qw={}))});var $w=Ie(fy=>{"use strict";Object.defineProperty(fy,"__esModule",{value:!0});fy.ShowDocumentRequest=void 0;var jw=Io(),Hw;(function(t){t.method="window/showDocument",t.messageDirection=jw.MessageDirection.serverToClient,t.type=new jw.ProtocolRequestType(t.method)})(Hw||(fy.ShowDocumentRequest=Hw={}))});var Ww=Ie(dy=>{"use strict";Object.defineProperty(dy,"__esModule",{value:!0});dy.LinkedEditingRangeRequest=void 0;var Yw=Io(),zw;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Yw.MessageDirection.clientToServer,t.type=new Yw.ProtocolRequestType(t.method)})(zw||(dy.LinkedEditingRangeRequest=zw={}))});var Zw=Ie(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.WillDeleteFilesRequest=Lc.DidDeleteFilesNotification=Lc.DidRenameFilesNotification=Lc.WillRenameFilesRequest=Lc.DidCreateFilesNotification=Lc.WillCreateFilesRequest=Lc.FileOperationPatternKind=void 0;var _d=Io(),Kw;(function(t){t.file="file",t.folder="folder"})(Kw||(Lc.FileOperationPatternKind=Kw={}));var Gw;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=_d.MessageDirection.clientToServer,t.type=new _d.ProtocolRequestType(t.method)})(Gw||(Lc.WillCreateFilesRequest=Gw={}));var Bw;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=_d.MessageDirection.clientToServer,t.type=new _d.ProtocolNotificationType(t.method)})(Bw||(Lc.DidCreateFilesNotification=Bw={}));var Vw;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=_d.MessageDirection.clientToServer,t.type=new _d.ProtocolRequestType(t.method)})(Vw||(Lc.WillRenameFilesRequest=Vw={}));var Xw;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=_d.MessageDirection.clientToServer,t.type=new _d.ProtocolNotificationType(t.method)})(Xw||(Lc.DidRenameFilesNotification=Xw={}));var Jw;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=_d.MessageDirection.clientToServer,t.type=new _d.ProtocolNotificationType(t.method)})(Jw||(Lc.DidDeleteFilesNotification=Jw={}));var Qw;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=_d.MessageDirection.clientToServer,t.type=new _d.ProtocolRequestType(t.method)})(Qw||(Lc.WillDeleteFilesRequest=Qw={}))});var iR=Ie(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.MonikerRequest=Np.MonikerKind=Np.UniquenessLevel=void 0;var eR=Io(),tR;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(tR||(Np.UniquenessLevel=tR={}));var nR;(function(t){t.$import="import",t.$export="export",t.local="local"})(nR||(Np.MonikerKind=nR={}));var rR;(function(t){t.method="textDocument/moniker",t.messageDirection=eR.MessageDirection.clientToServer,t.type=new eR.ProtocolRequestType(t.method)})(rR||(Np.MonikerRequest=rR={}))});var cR=Ie(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.TypeHierarchySubtypesRequest=Op.TypeHierarchySupertypesRequest=Op.TypeHierarchyPrepareRequest=void 0;var tm=Io(),oR;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=tm.MessageDirection.clientToServer,t.type=new tm.ProtocolRequestType(t.method)})(oR||(Op.TypeHierarchyPrepareRequest=oR={}));var sR;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=tm.MessageDirection.clientToServer,t.type=new tm.ProtocolRequestType(t.method)})(sR||(Op.TypeHierarchySupertypesRequest=sR={}));var aR;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=tm.MessageDirection.clientToServer,t.type=new tm.ProtocolRequestType(t.method)})(aR||(Op.TypeHierarchySubtypesRequest=aR={}))});var fR=Ie(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.InlineValueRefreshRequest=nm.InlineValueRequest=void 0;var vy=Io(),uR;(function(t){t.method="textDocument/inlineValue",t.messageDirection=vy.MessageDirection.clientToServer,t.type=new vy.ProtocolRequestType(t.method)})(uR||(nm.InlineValueRequest=uR={}));var lR;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=vy.MessageDirection.serverToClient,t.type=new vy.ProtocolRequestType0(t.method)})(lR||(nm.InlineValueRefreshRequest=lR={}))});var pR=Ie(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.InlayHintRefreshRequest=kp.InlayHintResolveRequest=kp.InlayHintRequest=void 0;var rm=Io(),dR;(function(t){t.method="textDocument/inlayHint",t.messageDirection=rm.MessageDirection.clientToServer,t.type=new rm.ProtocolRequestType(t.method)})(dR||(kp.InlayHintRequest=dR={}));var vR;(function(t){t.method="inlayHint/resolve",t.messageDirection=rm.MessageDirection.clientToServer,t.type=new rm.ProtocolRequestType(t.method)})(vR||(kp.InlayHintResolveRequest=vR={}));var hR;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=rm.MessageDirection.serverToClient,t.type=new rm.ProtocolRequestType0(t.method)})(hR||(kp.InlayHintRefreshRequest=hR={}))});var CR=Ie(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.DiagnosticRefreshRequest=yd.WorkspaceDiagnosticRequest=yd.DocumentDiagnosticRequest=yd.DocumentDiagnosticReportKind=yd.DiagnosticServerCancellationData=void 0;var DR=hg(),Zx=ty(),im=Io(),gR;(function(t){function e(n){let r=n;return r&&Zx.boolean(r.retriggerRequest)}t.is=e})(gR||(yd.DiagnosticServerCancellationData=gR={}));var mR;(function(t){t.Full="full",t.Unchanged="unchanged"})(mR||(yd.DocumentDiagnosticReportKind=mR={}));var _R;(function(t){t.method="textDocument/diagnostic",t.messageDirection=im.MessageDirection.clientToServer,t.type=new im.ProtocolRequestType(t.method),t.partialResult=new DR.ProgressType})(_R||(yd.DocumentDiagnosticRequest=_R={}));var yR;(function(t){t.method="workspace/diagnostic",t.messageDirection=im.MessageDirection.clientToServer,t.type=new im.ProtocolRequestType(t.method),t.partialResult=new DR.ProgressType})(yR||(yd.WorkspaceDiagnosticRequest=yR={}));var SR;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=im.MessageDirection.serverToClient,t.type=new im.ProtocolRequestType0(t.method)})(SR||(yd.DiagnosticRefreshRequest=SR={}))});var IR=Ie(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.DidCloseNotebookDocumentNotification=is.DidSaveNotebookDocumentNotification=is.DidChangeNotebookDocumentNotification=is.NotebookCellArrayChange=is.DidOpenNotebookDocumentNotification=is.NotebookDocumentSyncRegistrationType=is.NotebookDocument=is.NotebookCell=is.ExecutionSummary=is.NotebookCellKind=void 0;var Hm=ey(),fv=ty(),Zv=Io(),vC;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(vC||(is.NotebookCellKind=vC={}));var hC;(function(t){function e(o,f){let h={executionOrder:o};return(f===!0||f===!1)&&(h.success=f),h}t.create=e;function n(o){let f=o;return fv.objectLiteral(f)&&Hm.uinteger.is(f.executionOrder)&&(f.success===void 0||fv.boolean(f.success))}t.is=n;function r(o,f){return o===f?!0:o==null||f===null||f===void 0?!1:o.executionOrder===f.executionOrder&&o.success===f.success}t.equals=r})(hC||(is.ExecutionSummary=hC={}));var hy;(function(t){function e(f,h){return{kind:f,document:h}}t.create=e;function n(f){let h=f;return fv.objectLiteral(h)&&vC.is(h.kind)&&Hm.DocumentUri.is(h.document)&&(h.metadata===void 0||fv.objectLiteral(h.metadata))}t.is=n;function r(f,h){let _=new Set;return f.document!==h.document&&_.add("document"),f.kind!==h.kind&&_.add("kind"),f.executionSummary!==h.executionSummary&&_.add("executionSummary"),(f.metadata!==void 0||h.metadata!==void 0)&&!o(f.metadata,h.metadata)&&_.add("metadata"),(f.executionSummary!==void 0||h.executionSummary!==void 0)&&!hC.equals(f.executionSummary,h.executionSummary)&&_.add("executionSummary"),_}t.diff=r;function o(f,h){if(f===h)return!0;if(f==null||h===null||h===void 0||typeof f!=typeof h||typeof f!="object")return!1;let _=Array.isArray(f),T=Array.isArray(h);if(_!==T)return!1;if(_&&T){if(f.length!==h.length)return!1;for(let N=0;N<f.length;N++)if(!o(f[N],h[N]))return!1}if(fv.objectLiteral(f)&&fv.objectLiteral(h)){let N=Object.keys(f),A=Object.keys(h);if(N.length!==A.length||(N.sort(),A.sort(),!o(N,A)))return!1;for(let U=0;U<N.length;U++){let H=N[U];if(!o(f[H],h[H]))return!1}}return!0}})(hy||(is.NotebookCell=hy={}));var TR;(function(t){function e(r,o,f,h){return{uri:r,notebookType:o,version:f,cells:h}}t.create=e;function n(r){let o=r;return fv.objectLiteral(o)&&fv.string(o.uri)&&Hm.integer.is(o.version)&&fv.typedArray(o.cells,hy.is)}t.is=n})(TR||(is.NotebookDocument=TR={}));var om;(function(t){t.method="notebookDocument/sync",t.messageDirection=Zv.MessageDirection.clientToServer,t.type=new Zv.RegistrationType(t.method)})(om||(is.NotebookDocumentSyncRegistrationType=om={}));var ER;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Zv.MessageDirection.clientToServer,t.type=new Zv.ProtocolNotificationType(t.method),t.registrationMethod=om.method})(ER||(is.DidOpenNotebookDocumentNotification=ER={}));var bR;(function(t){function e(r){let o=r;return fv.objectLiteral(o)&&Hm.uinteger.is(o.start)&&Hm.uinteger.is(o.deleteCount)&&(o.cells===void 0||fv.typedArray(o.cells,hy.is))}t.is=e;function n(r,o,f){let h={start:r,deleteCount:o};return f!==void 0&&(h.cells=f),h}t.create=n})(bR||(is.NotebookCellArrayChange=bR={}));var wR;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Zv.MessageDirection.clientToServer,t.type=new Zv.ProtocolNotificationType(t.method),t.registrationMethod=om.method})(wR||(is.DidChangeNotebookDocumentNotification=wR={}));var RR;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Zv.MessageDirection.clientToServer,t.type=new Zv.ProtocolNotificationType(t.method),t.registrationMethod=om.method})(RR||(is.DidSaveNotebookDocumentNotification=RR={}));var PR;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Zv.MessageDirection.clientToServer,t.type=new Zv.ProtocolNotificationType(t.method),t.registrationMethod=om.method})(PR||(is.DidCloseNotebookDocumentNotification=PR={}))});var kR=Ie(py=>{"use strict";Object.defineProperty(py,"__esModule",{value:!0});py.InlineCompletionRequest=void 0;var NR=Io(),OR;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=NR.MessageDirection.clientToServer,t.type=new NR.ProtocolRequestType(t.method)})(OR||(py.InlineCompletionRequest=OR={}))});var WP=Ie(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.WorkspaceSymbolRequest=B.CodeActionResolveRequest=B.CodeActionRequest=B.DocumentSymbolRequest=B.DocumentHighlightRequest=B.ReferencesRequest=B.DefinitionRequest=B.SignatureHelpRequest=B.SignatureHelpTriggerKind=B.HoverRequest=B.CompletionResolveRequest=B.CompletionRequest=B.CompletionTriggerKind=B.PublishDiagnosticsNotification=B.WatchKind=B.RelativePattern=B.FileChangeType=B.DidChangeWatchedFilesNotification=B.WillSaveTextDocumentWaitUntilRequest=B.WillSaveTextDocumentNotification=B.TextDocumentSaveReason=B.DidSaveTextDocumentNotification=B.DidCloseTextDocumentNotification=B.DidChangeTextDocumentNotification=B.TextDocumentContentChangeEvent=B.DidOpenTextDocumentNotification=B.TextDocumentSyncKind=B.TelemetryEventNotification=B.LogMessageNotification=B.ShowMessageRequest=B.ShowMessageNotification=B.MessageType=B.DidChangeConfigurationNotification=B.ExitNotification=B.ShutdownRequest=B.InitializedNotification=B.InitializeErrorCodes=B.InitializeRequest=B.WorkDoneProgressOptions=B.TextDocumentRegistrationOptions=B.StaticRegistrationOptions=B.PositionEncodingKind=B.FailureHandlingKind=B.ResourceOperationKind=B.UnregistrationRequest=B.RegistrationRequest=B.DocumentSelector=B.NotebookCellTextDocumentFilter=B.NotebookDocumentFilter=B.TextDocumentFilter=void 0;B.MonikerRequest=B.MonikerKind=B.UniquenessLevel=B.WillDeleteFilesRequest=B.DidDeleteFilesNotification=B.WillRenameFilesRequest=B.DidRenameFilesNotification=B.WillCreateFilesRequest=B.DidCreateFilesNotification=B.FileOperationPatternKind=B.LinkedEditingRangeRequest=B.ShowDocumentRequest=B.SemanticTokensRegistrationType=B.SemanticTokensRefreshRequest=B.SemanticTokensRangeRequest=B.SemanticTokensDeltaRequest=B.SemanticTokensRequest=B.TokenFormat=B.CallHierarchyPrepareRequest=B.CallHierarchyOutgoingCallsRequest=B.CallHierarchyIncomingCallsRequest=B.WorkDoneProgressCancelNotification=B.WorkDoneProgressCreateRequest=B.WorkDoneProgress=B.SelectionRangeRequest=B.DeclarationRequest=B.FoldingRangeRefreshRequest=B.FoldingRangeRequest=B.ColorPresentationRequest=B.DocumentColorRequest=B.ConfigurationRequest=B.DidChangeWorkspaceFoldersNotification=B.WorkspaceFoldersRequest=B.TypeDefinitionRequest=B.ImplementationRequest=B.ApplyWorkspaceEditRequest=B.ExecuteCommandRequest=B.PrepareRenameRequest=B.RenameRequest=B.PrepareSupportDefaultBehavior=B.DocumentOnTypeFormattingRequest=B.DocumentRangesFormattingRequest=B.DocumentRangeFormattingRequest=B.DocumentFormattingRequest=B.DocumentLinkResolveRequest=B.DocumentLinkRequest=B.CodeLensRefreshRequest=B.CodeLensResolveRequest=B.CodeLensRequest=B.WorkspaceSymbolResolveRequest=void 0;B.InlineCompletionRequest=B.DidCloseNotebookDocumentNotification=B.DidSaveNotebookDocumentNotification=B.DidChangeNotebookDocumentNotification=B.NotebookCellArrayChange=B.DidOpenNotebookDocumentNotification=B.NotebookDocumentSyncRegistrationType=B.NotebookDocument=B.NotebookCell=B.ExecutionSummary=B.NotebookCellKind=B.DiagnosticRefreshRequest=B.WorkspaceDiagnosticRequest=B.DocumentDiagnosticRequest=B.DocumentDiagnosticReportKind=B.DiagnosticServerCancellationData=B.InlayHintRefreshRequest=B.InlayHintResolveRequest=B.InlayHintRequest=B.InlineValueRefreshRequest=B.InlineValueRequest=B.TypeHierarchySupertypesRequest=B.TypeHierarchySubtypesRequest=B.TypeHierarchyPrepareRequest=void 0;var Ct=Io(),xR=ey(),Ra=ty(),eF=iw();Object.defineProperty(B,"ImplementationRequest",{enumerable:!0,get:function(){return eF.ImplementationRequest}});var tF=aw();Object.defineProperty(B,"TypeDefinitionRequest",{enumerable:!0,get:function(){return tF.TypeDefinitionRequest}});var HP=lw();Object.defineProperty(B,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return HP.WorkspaceFoldersRequest}});Object.defineProperty(B,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return HP.DidChangeWorkspaceFoldersNotification}});var nF=vw();Object.defineProperty(B,"ConfigurationRequest",{enumerable:!0,get:function(){return nF.ConfigurationRequest}});var $P=gw();Object.defineProperty(B,"DocumentColorRequest",{enumerable:!0,get:function(){return $P.DocumentColorRequest}});Object.defineProperty(B,"ColorPresentationRequest",{enumerable:!0,get:function(){return $P.ColorPresentationRequest}});var YP=yw();Object.defineProperty(B,"FoldingRangeRequest",{enumerable:!0,get:function(){return YP.FoldingRangeRequest}});Object.defineProperty(B,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return YP.FoldingRangeRefreshRequest}});var rF=Cw();Object.defineProperty(B,"DeclarationRequest",{enumerable:!0,get:function(){return rF.DeclarationRequest}});var iF=bw();Object.defineProperty(B,"SelectionRangeRequest",{enumerable:!0,get:function(){return iF.SelectionRangeRequest}});var yC=Iw();Object.defineProperty(B,"WorkDoneProgress",{enumerable:!0,get:function(){return yC.WorkDoneProgress}});Object.defineProperty(B,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return yC.WorkDoneProgressCreateRequest}});Object.defineProperty(B,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return yC.WorkDoneProgressCancelNotification}});var SC=xw();Object.defineProperty(B,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return SC.CallHierarchyIncomingCallsRequest}});Object.defineProperty(B,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return SC.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(B,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return SC.CallHierarchyPrepareRequest}});var sm=Uw();Object.defineProperty(B,"TokenFormat",{enumerable:!0,get:function(){return sm.TokenFormat}});Object.defineProperty(B,"SemanticTokensRequest",{enumerable:!0,get:function(){return sm.SemanticTokensRequest}});Object.defineProperty(B,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return sm.SemanticTokensDeltaRequest}});Object.defineProperty(B,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return sm.SemanticTokensRangeRequest}});Object.defineProperty(B,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return sm.SemanticTokensRefreshRequest}});Object.defineProperty(B,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return sm.SemanticTokensRegistrationType}});var oF=$w();Object.defineProperty(B,"ShowDocumentRequest",{enumerable:!0,get:function(){return oF.ShowDocumentRequest}});var sF=Ww();Object.defineProperty(B,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return sF.LinkedEditingRangeRequest}});var pg=Zw();Object.defineProperty(B,"FileOperationPatternKind",{enumerable:!0,get:function(){return pg.FileOperationPatternKind}});Object.defineProperty(B,"DidCreateFilesNotification",{enumerable:!0,get:function(){return pg.DidCreateFilesNotification}});Object.defineProperty(B,"WillCreateFilesRequest",{enumerable:!0,get:function(){return pg.WillCreateFilesRequest}});Object.defineProperty(B,"DidRenameFilesNotification",{enumerable:!0,get:function(){return pg.DidRenameFilesNotification}});Object.defineProperty(B,"WillRenameFilesRequest",{enumerable:!0,get:function(){return pg.WillRenameFilesRequest}});Object.defineProperty(B,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return pg.DidDeleteFilesNotification}});Object.defineProperty(B,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return pg.WillDeleteFilesRequest}});var DC=iR();Object.defineProperty(B,"UniquenessLevel",{enumerable:!0,get:function(){return DC.UniquenessLevel}});Object.defineProperty(B,"MonikerKind",{enumerable:!0,get:function(){return DC.MonikerKind}});Object.defineProperty(B,"MonikerRequest",{enumerable:!0,get:function(){return DC.MonikerRequest}});var CC=cR();Object.defineProperty(B,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return CC.TypeHierarchyPrepareRequest}});Object.defineProperty(B,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return CC.TypeHierarchySubtypesRequest}});Object.defineProperty(B,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return CC.TypeHierarchySupertypesRequest}});var zP=fR();Object.defineProperty(B,"InlineValueRequest",{enumerable:!0,get:function(){return zP.InlineValueRequest}});Object.defineProperty(B,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return zP.InlineValueRefreshRequest}});var TC=pR();Object.defineProperty(B,"InlayHintRequest",{enumerable:!0,get:function(){return TC.InlayHintRequest}});Object.defineProperty(B,"InlayHintResolveRequest",{enumerable:!0,get:function(){return TC.InlayHintResolveRequest}});Object.defineProperty(B,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return TC.InlayHintRefreshRequest}});var $m=CR();Object.defineProperty(B,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return $m.DiagnosticServerCancellationData}});Object.defineProperty(B,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return $m.DocumentDiagnosticReportKind}});Object.defineProperty(B,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return $m.DocumentDiagnosticRequest}});Object.defineProperty(B,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return $m.WorkspaceDiagnosticRequest}});Object.defineProperty(B,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return $m.DiagnosticRefreshRequest}});var eh=IR();Object.defineProperty(B,"NotebookCellKind",{enumerable:!0,get:function(){return eh.NotebookCellKind}});Object.defineProperty(B,"ExecutionSummary",{enumerable:!0,get:function(){return eh.ExecutionSummary}});Object.defineProperty(B,"NotebookCell",{enumerable:!0,get:function(){return eh.NotebookCell}});Object.defineProperty(B,"NotebookDocument",{enumerable:!0,get:function(){return eh.NotebookDocument}});Object.defineProperty(B,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return eh.NotebookDocumentSyncRegistrationType}});Object.defineProperty(B,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return eh.DidOpenNotebookDocumentNotification}});Object.defineProperty(B,"NotebookCellArrayChange",{enumerable:!0,get:function(){return eh.NotebookCellArrayChange}});Object.defineProperty(B,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return eh.DidChangeNotebookDocumentNotification}});Object.defineProperty(B,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return eh.DidSaveNotebookDocumentNotification}});Object.defineProperty(B,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return eh.DidCloseNotebookDocumentNotification}});var aF=kR();Object.defineProperty(B,"InlineCompletionRequest",{enumerable:!0,get:function(){return aF.InlineCompletionRequest}});var pC;(function(t){function e(n){let r=n;return Ra.string(r)||Ra.string(r.language)||Ra.string(r.scheme)||Ra.string(r.pattern)}t.is=e})(pC||(B.TextDocumentFilter=pC={}));var gC;(function(t){function e(n){let r=n;return Ra.objectLiteral(r)&&(Ra.string(r.notebookType)||Ra.string(r.scheme)||Ra.string(r.pattern))}t.is=e})(gC||(B.NotebookDocumentFilter=gC={}));var mC;(function(t){function e(n){let r=n;return Ra.objectLiteral(r)&&(Ra.string(r.notebook)||gC.is(r.notebook))&&(r.language===void 0||Ra.string(r.language))}t.is=e})(mC||(B.NotebookCellTextDocumentFilter=mC={}));var _C;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!Ra.string(r)&&!pC.is(r)&&!mC.is(r))return!1;return!0}t.is=e})(_C||(B.DocumentSelector=_C={}));var FR;(function(t){t.method="client/registerCapability",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolRequestType(t.method)})(FR||(B.RegistrationRequest=FR={}));var LR;(function(t){t.method="client/unregisterCapability",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolRequestType(t.method)})(LR||(B.UnregistrationRequest=LR={}));var AR;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(AR||(B.ResourceOperationKind=AR={}));var MR;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(MR||(B.FailureHandlingKind=MR={}));var qR;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(qR||(B.PositionEncodingKind=qR={}));var UR;(function(t){function e(n){let r=n;return r&&Ra.string(r.id)&&r.id.length>0}t.hasId=e})(UR||(B.StaticRegistrationOptions=UR={}));var jR;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||_C.is(r.documentSelector))}t.is=e})(jR||(B.TextDocumentRegistrationOptions=jR={}));var HR;(function(t){function e(r){let o=r;return Ra.objectLiteral(o)&&(o.workDoneProgress===void 0||Ra.boolean(o.workDoneProgress))}t.is=e;function n(r){let o=r;return o&&Ra.boolean(o.workDoneProgress)}t.hasWorkDoneProgress=n})(HR||(B.WorkDoneProgressOptions=HR={}));var $R;(function(t){t.method="initialize",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})($R||(B.InitializeRequest=$R={}));var YR;(function(t){t.unknownProtocolVersion=1})(YR||(B.InitializeErrorCodes=YR={}));var zR;(function(t){t.method="initialized",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(zR||(B.InitializedNotification=zR={}));var WR;(function(t){t.method="shutdown",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType0(t.method)})(WR||(B.ShutdownRequest=WR={}));var KR;(function(t){t.method="exit",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType0(t.method)})(KR||(B.ExitNotification=KR={}));var GR;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(GR||(B.DidChangeConfigurationNotification=GR={}));var BR;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(BR||(B.MessageType=BR={}));var VR;(function(t){t.method="window/showMessage",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolNotificationType(t.method)})(VR||(B.ShowMessageNotification=VR={}));var XR;(function(t){t.method="window/showMessageRequest",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolRequestType(t.method)})(XR||(B.ShowMessageRequest=XR={}));var JR;(function(t){t.method="window/logMessage",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolNotificationType(t.method)})(JR||(B.LogMessageNotification=JR={}));var QR;(function(t){t.method="telemetry/event",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolNotificationType(t.method)})(QR||(B.TelemetryEventNotification=QR={}));var ZR;(function(t){t.None=0,t.Full=1,t.Incremental=2})(ZR||(B.TextDocumentSyncKind=ZR={}));var eP;(function(t){t.method="textDocument/didOpen",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(eP||(B.DidOpenTextDocumentNotification=eP={}));var tP;(function(t){function e(r){let o=r;return o!=null&&typeof o.text=="string"&&o.range!==void 0&&(o.rangeLength===void 0||typeof o.rangeLength=="number")}t.isIncremental=e;function n(r){let o=r;return o!=null&&typeof o.text=="string"&&o.range===void 0&&o.rangeLength===void 0}t.isFull=n})(tP||(B.TextDocumentContentChangeEvent=tP={}));var nP;(function(t){t.method="textDocument/didChange",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(nP||(B.DidChangeTextDocumentNotification=nP={}));var rP;(function(t){t.method="textDocument/didClose",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(rP||(B.DidCloseTextDocumentNotification=rP={}));var iP;(function(t){t.method="textDocument/didSave",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(iP||(B.DidSaveTextDocumentNotification=iP={}));var oP;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(oP||(B.TextDocumentSaveReason=oP={}));var sP;(function(t){t.method="textDocument/willSave",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(sP||(B.WillSaveTextDocumentNotification=sP={}));var aP;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(aP||(B.WillSaveTextDocumentWaitUntilRequest=aP={}));var cP;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(cP||(B.DidChangeWatchedFilesNotification=cP={}));var uP;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(uP||(B.FileChangeType=uP={}));var lP;(function(t){function e(n){let r=n;return Ra.objectLiteral(r)&&(xR.URI.is(r.baseUri)||xR.WorkspaceFolder.is(r.baseUri))&&Ra.string(r.pattern)}t.is=e})(lP||(B.RelativePattern=lP={}));var fP;(function(t){t.Create=1,t.Change=2,t.Delete=4})(fP||(B.WatchKind=fP={}));var dP;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolNotificationType(t.method)})(dP||(B.PublishDiagnosticsNotification=dP={}));var vP;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(vP||(B.CompletionTriggerKind=vP={}));var hP;(function(t){t.method="textDocument/completion",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(hP||(B.CompletionRequest=hP={}));var pP;(function(t){t.method="completionItem/resolve",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(pP||(B.CompletionResolveRequest=pP={}));var gP;(function(t){t.method="textDocument/hover",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(gP||(B.HoverRequest=gP={}));var mP;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(mP||(B.SignatureHelpTriggerKind=mP={}));var _P;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(_P||(B.SignatureHelpRequest=_P={}));var yP;(function(t){t.method="textDocument/definition",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(yP||(B.DefinitionRequest=yP={}));var SP;(function(t){t.method="textDocument/references",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(SP||(B.ReferencesRequest=SP={}));var DP;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(DP||(B.DocumentHighlightRequest=DP={}));var CP;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(CP||(B.DocumentSymbolRequest=CP={}));var TP;(function(t){t.method="textDocument/codeAction",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(TP||(B.CodeActionRequest=TP={}));var EP;(function(t){t.method="codeAction/resolve",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(EP||(B.CodeActionResolveRequest=EP={}));var bP;(function(t){t.method="workspace/symbol",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(bP||(B.WorkspaceSymbolRequest=bP={}));var wP;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(wP||(B.WorkspaceSymbolResolveRequest=wP={}));var RP;(function(t){t.method="textDocument/codeLens",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(RP||(B.CodeLensRequest=RP={}));var PP;(function(t){t.method="codeLens/resolve",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(PP||(B.CodeLensResolveRequest=PP={}));var IP;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolRequestType0(t.method)})(IP||(B.CodeLensRefreshRequest=IP={}));var NP;(function(t){t.method="textDocument/documentLink",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(NP||(B.DocumentLinkRequest=NP={}));var OP;(function(t){t.method="documentLink/resolve",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(OP||(B.DocumentLinkResolveRequest=OP={}));var kP;(function(t){t.method="textDocument/formatting",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(kP||(B.DocumentFormattingRequest=kP={}));var xP;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(xP||(B.DocumentRangeFormattingRequest=xP={}));var FP;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(FP||(B.DocumentRangesFormattingRequest=FP={}));var LP;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(LP||(B.DocumentOnTypeFormattingRequest=LP={}));var AP;(function(t){t.Identifier=1})(AP||(B.PrepareSupportDefaultBehavior=AP={}));var MP;(function(t){t.method="textDocument/rename",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(MP||(B.RenameRequest=MP={}));var qP;(function(t){t.method="textDocument/prepareRename",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(qP||(B.PrepareRenameRequest=qP={}));var UP;(function(t){t.method="workspace/executeCommand",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(UP||(B.ExecuteCommandRequest=UP={}));var jP;(function(t){t.method="workspace/applyEdit",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolRequestType("workspace/applyEdit")})(jP||(B.ApplyWorkspaceEditRequest=jP={}))});var GP=Ie(gy=>{"use strict";Object.defineProperty(gy,"__esModule",{value:!0});gy.createProtocolConnection=void 0;var KP=hg();function cF(t,e,n,r){return KP.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,KP.createMessageConnection)(t,e,n,r)}gy.createProtocolConnection=cF});var VP=Ie(gl=>{"use strict";var uF=gl&&gl.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),my=gl&&gl.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&uF(e,t,n)};Object.defineProperty(gl,"__esModule",{value:!0});gl.LSPErrorCodes=gl.createProtocolConnection=void 0;my(hg(),gl);my(ey(),gl);my(Io(),gl);my(WP(),gl);var lF=GP();Object.defineProperty(gl,"createProtocolConnection",{enumerable:!0,get:function(){return lF.createProtocolConnection}});var BP;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(BP||(gl.LSPErrorCodes=BP={}))});var ir=Ie(th=>{"use strict";var fF=th&&th.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),XP=th&&th.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&fF(e,t,n)};Object.defineProperty(th,"__esModule",{value:!0});th.createProtocolConnection=void 0;var dF=aC();XP(aC(),th);XP(VP(),th);function vF(t,e,n,r){return(0,dF.createMessageConnection)(t,e,n,r)}th.createProtocolConnection=vF});var _y=Ie(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.forEach=Ac.mapAsync=Ac.map=Ac.clearTestMode=Ac.setTestMode=Ac.Semaphore=Ac.Delayer=void 0;var zm=ir(),EC=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(n>=0||this.timeout===void 0)&&(this.timeout=(0,zm.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};Ac.Delayer=EC;var bC=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,zm.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Ac.Semaphore=bC;var wC=!1;function hF(){wC=!0}Ac.setTestMode=hF;function pF(){wC=!1}Ac.clearTestMode=pF;var JP=15,Ym=class{constructor(e=JP){this.yieldAfter=wC===!0?Math.max(e,2):Math.max(e,JP),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,n=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||n<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function gF(t,e,n,r){if(t.length===0)return[];let o=new Array(t.length),f=new Ym(r?.yieldAfter);function h(T){f.start();for(let N=T;N<t.length;N++)if(o[N]=e(t[N]),f.shouldYield())return r?.yieldCallback&&r.yieldCallback(),N+1;return-1}let _=h(0);for(;_!==-1&&!(n!==void 0&&n.isCancellationRequested);)_=await new Promise(T=>{(0,zm.RAL)().timer.setImmediate(()=>{T(h(_))})});return o}Ac.map=gF;async function mF(t,e,n,r){if(t.length===0)return[];let o=new Array(t.length),f=new Ym(r?.yieldAfter);async function h(T){f.start();for(let N=T;N<t.length;N++)if(o[N]=await e(t[N],n),f.shouldYield())return r?.yieldCallback&&r.yieldCallback(),N+1;return-1}let _=await h(0);for(;_!==-1&&!(n!==void 0&&n.isCancellationRequested);)_=await new Promise(T=>{(0,zm.RAL)().timer.setImmediate(()=>{T(h(_))})});return o}Ac.mapAsync=mF;async function _F(t,e,n,r){if(t.length===0)return;let o=new Ym(r?.yieldAfter);function f(_){o.start();for(let T=_;T<t.length;T++)if(e(t[T]),o.shouldYield())return r?.yieldCallback&&r.yieldCallback(),T+1;return-1}let h=f(0);for(;h!==-1&&!(n!==void 0&&n.isCancellationRequested);)h=await new Promise(_=>{(0,zm.RAL)().timer.setImmediate(()=>{_(f(h))})})}Ac.forEach=_F});var IC=Ie(PC=>{"use strict";Object.defineProperty(PC,"__esModule",{value:!0});var yF=require("vscode"),RC=class extends yF.CompletionItem{constructor(e){super(e)}};PC.default=RC});var kC=Ie(OC=>{"use strict";Object.defineProperty(OC,"__esModule",{value:!0});var SF=require("vscode"),NC=class extends SF.CodeLens{constructor(e){super(e)}};OC.default=NC});var LC=Ie(FC=>{"use strict";Object.defineProperty(FC,"__esModule",{value:!0});var DF=require("vscode"),xC=class extends DF.DocumentLink{constructor(e,n){super(e,n)}};FC.default=xC});var qC=Ie(MC=>{"use strict";Object.defineProperty(MC,"__esModule",{value:!0});var CF=require("vscode"),AC=class extends CF.CodeAction{constructor(e,n){super(e),this.data=n}};MC.default=AC});var HC=Ie(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.ProtocolDiagnostic=am.DiagnosticCode=void 0;var TF=require("vscode"),UC=md(),QP;(function(t){function e(n){let r=n;return r!=null&&(UC.number(r.value)||UC.string(r.value))&&UC.string(r.target)}t.is=e})(QP||(am.DiagnosticCode=QP={}));var jC=class extends TF.Diagnostic{constructor(e,n,r,o){super(e,n,r),this.data=o,this.hasDiagnosticCode=!1}};am.ProtocolDiagnostic=jC});var zC=Ie(YC=>{"use strict";Object.defineProperty(YC,"__esModule",{value:!0});var EF=require("vscode"),$C=class extends EF.CallHierarchyItem{constructor(e,n,r,o,f,h,_){super(e,n,r,o,f,h),_!==void 0&&(this.data=_)}};YC.default=$C});var GC=Ie(KC=>{"use strict";Object.defineProperty(KC,"__esModule",{value:!0});var bF=require("vscode"),WC=class extends bF.TypeHierarchyItem{constructor(e,n,r,o,f,h,_){super(e,n,r,o,f,h),_!==void 0&&(this.data=_)}};KC.default=WC});var XC=Ie(VC=>{"use strict";Object.defineProperty(VC,"__esModule",{value:!0});var yy=require("vscode"),BC=class extends yy.SymbolInformation{constructor(e,n,r,o,f){let h=!(o instanceof yy.Uri);super(e,n,r,h?o:new yy.Location(o,new yy.Range(0,0,0,0))),this.hasRange=h,f!==void 0&&(this.data=f)}};VC.default=BC});var ZC=Ie(QC=>{"use strict";Object.defineProperty(QC,"__esModule",{value:!0});var wF=require("vscode"),JC=class extends wF.InlayHint{constructor(e,n,r){super(e,n,r)}};QC.default=JC});var nI=Ie(Sy=>{"use strict";Object.defineProperty(Sy,"__esModule",{value:!0});Sy.createConverter=void 0;var As=require("vscode"),ur=ir(),gg=md(),ZP=_y(),RF=IC(),PF=kC(),IF=LC(),eI=qC(),tI=HC(),NF=zC(),OF=GC(),kF=XC(),xF=ZC(),eT;(function(t){function e(n){let r=n;return r&&!!r.inserting&&!!r.replacing}t.is=e})(eT||(eT={}));function FF(t){let n=t||(O=>O.toString());function r(O){return n(O)}function o(O){return{uri:n(O.uri)}}function f(O){return{uri:n(O.uri),languageId:O.languageId,version:O.version,text:O.getText()}}function h(O){return{uri:n(O.uri),version:O.version}}function _(O){return{textDocument:f(O)}}function T(O){let Ee=O;return!!Ee.document&&!!Ee.contentChanges}function N(O){let Ee=O;return!!Ee.uri&&!!Ee.version}function A(O,Ee,Dt){if(N(O))return{textDocument:{uri:n(O.uri),version:O.version},contentChanges:[{text:O.getText()}]};if(T(O)){let en=Ee,oe=Dt;return{textDocument:{uri:n(en),version:oe},contentChanges:O.contentChanges.map(J=>{let Q=J.range;return{range:{start:{line:Q.start.line,character:Q.start.character},end:{line:Q.end.line,character:Q.end.character}},rangeLength:J.rangeLength,text:J.text}})}}else throw Error("Unsupported text document change parameter")}function U(O){return{textDocument:o(O)}}function H(O,Ee=!1){let Dt={textDocument:o(O)};return Ee&&(Dt.text=O.getText()),Dt}function te(O){switch(O){case As.TextDocumentSaveReason.Manual:return ur.TextDocumentSaveReason.Manual;case As.TextDocumentSaveReason.AfterDelay:return ur.TextDocumentSaveReason.AfterDelay;case As.TextDocumentSaveReason.FocusOut:return ur.TextDocumentSaveReason.FocusOut}return ur.TextDocumentSaveReason.Manual}function Y(O){return{textDocument:o(O.document),reason:te(O.reason)}}function ye(O){return{files:O.files.map(Ee=>({uri:n(Ee)}))}}function Ce(O){return{files:O.files.map(Ee=>({oldUri:n(Ee.oldUri),newUri:n(Ee.newUri)}))}}function qe(O){return{files:O.files.map(Ee=>({uri:n(Ee)}))}}function _e(O){return{files:O.files.map(Ee=>({uri:n(Ee)}))}}function he(O){return{files:O.files.map(Ee=>({oldUri:n(Ee.oldUri),newUri:n(Ee.newUri)}))}}function $e(O){return{files:O.files.map(Ee=>({uri:n(Ee)}))}}function Qe(O,Ee){return{textDocument:o(O),position:er(Ee)}}function Et(O){switch(O){case As.CompletionTriggerKind.TriggerCharacter:return ur.CompletionTriggerKind.TriggerCharacter;case As.CompletionTriggerKind.TriggerForIncompleteCompletions:return ur.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return ur.CompletionTriggerKind.Invoked}}function Ge(O,Ee,Dt){return{textDocument:o(O),position:er(Ee),context:{triggerKind:Et(Dt.triggerKind),triggerCharacter:Dt.triggerCharacter}}}function pt(O){switch(O){case As.SignatureHelpTriggerKind.Invoke:return ur.SignatureHelpTriggerKind.Invoked;case As.SignatureHelpTriggerKind.TriggerCharacter:return ur.SignatureHelpTriggerKind.TriggerCharacter;case As.SignatureHelpTriggerKind.ContentChange:return ur.SignatureHelpTriggerKind.ContentChange}}function Ft(O){return{label:O.label}}function zn(O){return O.map(Ft)}function Vt(O){return{label:O.label,parameters:zn(O.parameters)}}function Nn(O){return O.map(Vt)}function Zr(O){return O===void 0?O:{signatures:Nn(O.signatures),activeSignature:O.activeSignature,activeParameter:O.activeParameter}}function Wn(O,Ee,Dt){return{textDocument:o(O),position:er(Ee),context:{isRetrigger:Dt.isRetrigger,triggerCharacter:Dt.triggerCharacter,triggerKind:pt(Dt.triggerKind),activeSignatureHelp:Zr(Dt.activeSignatureHelp)}}}function er(O){return{line:O.line,character:O.character}}function Ii(O){return O==null?O:{line:O.line>ur.uinteger.MAX_VALUE?ur.uinteger.MAX_VALUE:O.line,character:O.character>ur.uinteger.MAX_VALUE?ur.uinteger.MAX_VALUE:O.character}}function Kt(O,Ee){return ZP.map(O,Ii,Ee)}function At(O){return O.map(Ii)}function vr(O){return O==null?O:{start:Ii(O.start),end:Ii(O.end)}}function hr(O){return O.map(vr)}function co(O){return O==null?O:ur.Location.create(r(O.uri),vr(O.range))}function Kn(O){switch(O){case As.DiagnosticSeverity.Error:return ur.DiagnosticSeverity.Error;case As.DiagnosticSeverity.Warning:return ur.DiagnosticSeverity.Warning;case As.DiagnosticSeverity.Information:return ur.DiagnosticSeverity.Information;case As.DiagnosticSeverity.Hint:return ur.DiagnosticSeverity.Hint}}function or(O){if(!O)return;let Ee=[];for(let Dt of O){let en=Bt(Dt);en!==void 0&&Ee.push(en)}return Ee.length>0?Ee:void 0}function Bt(O){switch(O){case As.DiagnosticTag.Unnecessary:return ur.DiagnosticTag.Unnecessary;case As.DiagnosticTag.Deprecated:return ur.DiagnosticTag.Deprecated;default:return}}function dt(O){return{message:O.message,location:co(O.location)}}function si(O){return O.map(dt)}function Pr(O){if(O!=null)return gg.number(O)||gg.string(O)?O:{value:O.value,target:r(O.target)}}function Ss(O){let Ee=ur.Diagnostic.create(vr(O.range),O.message),Dt=O instanceof tI.ProtocolDiagnostic?O:void 0;Dt!==void 0&&Dt.data!==void 0&&(Ee.data=Dt.data);let en=Pr(O.code);return tI.DiagnosticCode.is(en)?Dt!==void 0&&Dt.hasDiagnosticCode?Ee.code=en:(Ee.code=en.value,Ee.codeDescription={href:en.target}):Ee.code=en,gg.number(O.severity)&&(Ee.severity=Kn(O.severity)),Array.isArray(O.tags)&&(Ee.tags=or(O.tags)),O.relatedInformation&&(Ee.relatedInformation=si(O.relatedInformation)),O.source&&(Ee.source=O.source),Ee}function mr(O,Ee){return O==null?O:ZP.map(O,Ss,Ee)}function jt(O){return O==null?O:O.map(Ss)}function Ir(O,Ee){switch(O){case"$string":return Ee;case ur.MarkupKind.PlainText:return{kind:O,value:Ee};case ur.MarkupKind.Markdown:return{kind:O,value:Ee.value};default:return`Unsupported Markup content received. Kind is: ${O}`}}function _t(O){switch(O){case As.CompletionItemTag.Deprecated:return ur.CompletionItemTag.Deprecated}}function ei(O){if(O===void 0)return O;let Ee=[];for(let Dt of O){let en=_t(Dt);en!==void 0&&Ee.push(en)}return Ee}function yi(O,Ee){return Ee!==void 0?Ee:O+1}function ko(O,Ee=!1){let Dt,en;gg.string(O.label)?Dt=O.label:(Dt=O.label.label,Ee&&(O.label.detail!==void 0||O.label.description!==void 0)&&(en={detail:O.label.detail,description:O.label.description}));let oe={label:Dt};en!==void 0&&(oe.labelDetails=en);let x=O instanceof RF.default?O:void 0;O.detail&&(oe.detail=O.detail),O.documentation&&(!x||x.documentationFormat==="$string"?oe.documentation=O.documentation:oe.documentation=Ir(x.documentationFormat,O.documentation)),O.filterText&&(oe.filterText=O.filterText),Gn(oe,O),gg.number(O.kind)&&(oe.kind=yi(O.kind,x&&x.originalItemKind)),O.sortText&&(oe.sortText=O.sortText),O.additionalTextEdits&&(oe.additionalTextEdits=sr(O.additionalTextEdits)),O.commitCharacters&&(oe.commitCharacters=O.commitCharacters.slice()),O.command&&(oe.command=Tt(O.command)),(O.preselect===!0||O.preselect===!1)&&(oe.preselect=O.preselect);let J=ei(O.tags);if(x){if(x.data!==void 0&&(oe.data=x.data),x.deprecated===!0||x.deprecated===!1){if(x.deprecated===!0&&J!==void 0&&J.length>0){let Q=J.indexOf(As.CompletionItemTag.Deprecated);Q!==-1&&J.splice(Q,1)}oe.deprecated=x.deprecated}x.insertTextMode!==void 0&&(oe.insertTextMode=x.insertTextMode)}return J!==void 0&&J.length>0&&(oe.tags=J),oe.insertTextMode===void 0&&O.keepWhitespace===!0&&(oe.insertTextMode=ur.InsertTextMode.adjustIndentation),oe}function Gn(O,Ee){let Dt=ur.InsertTextFormat.PlainText,en,oe;Ee.textEdit?(en=Ee.textEdit.newText,oe=Ee.textEdit.range):Ee.insertText instanceof As.SnippetString?(Dt=ur.InsertTextFormat.Snippet,en=Ee.insertText.value):en=Ee.insertText,Ee.range&&(oe=Ee.range),O.insertTextFormat=Dt,Ee.fromEdit&&en!==void 0&&oe!==void 0?O.textEdit=zi(en,oe):O.insertText=en}function zi(O,Ee){return eT.is(Ee)?ur.InsertReplaceEdit.create(O,vr(Ee.inserting),vr(Ee.replacing)):{newText:O,range:vr(Ee)}}function dr(O){return{range:vr(O.range),newText:O.newText}}function sr(O){return O==null?O:O.map(dr)}function Ni(O){return O<=As.SymbolKind.TypeParameter?O+1:ur.SymbolKind.Property}function fn(O){return O}function Yr(O){return O.map(fn)}function Vr(O,Ee,Dt){return{textDocument:o(O),position:er(Ee),context:{includeDeclaration:Dt.includeDeclaration}}}async function Vn(O,Ee){let Dt=ur.CodeAction.create(O.title);if(O instanceof eI.default&&O.data!==void 0&&(Dt.data=O.data),O.kind!==void 0&&(Dt.kind=X(O.kind)),O.diagnostics!==void 0&&(Dt.diagnostics=await mr(O.diagnostics,Ee)),O.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return O.command!==void 0&&(Dt.command=Tt(O.command)),O.isPreferred!==void 0&&(Dt.isPreferred=O.isPreferred),O.disabled!==void 0&&(Dt.disabled={reason:O.disabled.reason}),Dt}function xo(O){let Ee=ur.CodeAction.create(O.title);if(O instanceof eI.default&&O.data!==void 0&&(Ee.data=O.data),O.kind!==void 0&&(Ee.kind=X(O.kind)),O.diagnostics!==void 0&&(Ee.diagnostics=jt(O.diagnostics)),O.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return O.command!==void 0&&(Ee.command=Tt(O.command)),O.isPreferred!==void 0&&(Ee.isPreferred=O.isPreferred),O.disabled!==void 0&&(Ee.disabled={reason:O.disabled.reason}),Ee}async function Xr(O,Ee){if(O==null)return O;let Dt;return O.only&&gg.string(O.only.value)&&(Dt=[O.only.value]),ur.CodeActionContext.create(await mr(O.diagnostics,Ee),Dt,pi(O.triggerKind))}function Xn(O){if(O==null)return O;let Ee;return O.only&&gg.string(O.only.value)&&(Ee=[O.only.value]),ur.CodeActionContext.create(jt(O.diagnostics),Ee,pi(O.triggerKind))}function pi(O){switch(O){case As.CodeActionTriggerKind.Invoke:return ur.CodeActionTriggerKind.Invoked;case As.CodeActionTriggerKind.Automatic:return ur.CodeActionTriggerKind.Automatic;default:return}}function X(O){if(O!=null)return O.value}function Me(O){return O==null?O:ur.InlineValueContext.create(O.frameId,vr(O.stoppedLocation))}function ot(O,Ee,Dt){return{context:ur.InlineCompletionContext.create(Dt.triggerKind,Dt.selectedCompletionInfo),textDocument:o(O),position:Ii(Ee)}}function Tt(O){let Ee=ur.Command.create(O.title,O.command);return O.arguments&&(Ee.arguments=O.arguments),Ee}function yn(O){let Ee=ur.CodeLens.create(vr(O.range));return O.command&&(Ee.command=Tt(O.command)),O instanceof PF.default&&O.data&&(Ee.data=O.data),Ee}function Fn(O,Ee){let Dt={tabSize:O.tabSize,insertSpaces:O.insertSpaces};return Ee.trimTrailingWhitespace&&(Dt.trimTrailingWhitespace=!0),Ee.trimFinalNewlines&&(Dt.trimFinalNewlines=!0),Ee.insertFinalNewline&&(Dt.insertFinalNewline=!0),Dt}function En(O){return{textDocument:o(O)}}function tr(O){return{textDocument:o(O)}}function mn(O){let Ee=ur.DocumentLink.create(vr(O.range));O.target&&(Ee.target=r(O.target)),O.tooltip!==void 0&&(Ee.tooltip=O.tooltip);let Dt=O instanceof IF.default?O:void 0;return Dt&&Dt.data&&(Ee.data=Dt.data),Ee}function Lt(O){return{textDocument:o(O)}}function Ln(O){let Ee={name:O.name,kind:Ni(O.kind),uri:r(O.uri),range:vr(O.range),selectionRange:vr(O.selectionRange)};return O.detail!==void 0&&O.detail.length>0&&(Ee.detail=O.detail),O.tags!==void 0&&(Ee.tags=Yr(O.tags)),O instanceof NF.default&&O.data!==void 0&&(Ee.data=O.data),Ee}function $t(O){let Ee={name:O.name,kind:Ni(O.kind),uri:r(O.uri),range:vr(O.range),selectionRange:vr(O.selectionRange)};return O.detail!==void 0&&O.detail.length>0&&(Ee.detail=O.detail),O.tags!==void 0&&(Ee.tags=Yr(O.tags)),O instanceof OF.default&&O.data!==void 0&&(Ee.data=O.data),Ee}function Jr(O){let Ee=O instanceof kF.default?{name:O.name,kind:Ni(O.kind),location:O.hasRange?co(O.location):{uri:n(O.location.uri)},data:O.data}:{name:O.name,kind:Ni(O.kind),location:co(O.location)};return O.tags!==void 0&&(Ee.tags=Yr(O.tags)),O.containerName!==""&&(Ee.containerName=O.containerName),Ee}function Mr(O){let Ee=typeof O.label=="string"?O.label:O.label.map(Ds),Dt=ur.InlayHint.create(Ii(O.position),Ee);return O.kind!==void 0&&(Dt.kind=O.kind),O.textEdits!==void 0&&(Dt.textEdits=sr(O.textEdits)),O.tooltip!==void 0&&(Dt.tooltip=uo(O.tooltip)),O.paddingLeft!==void 0&&(Dt.paddingLeft=O.paddingLeft),O.paddingRight!==void 0&&(Dt.paddingRight=O.paddingRight),O instanceof xF.default&&O.data!==void 0&&(Dt.data=O.data),Dt}function Ds(O){let Ee=ur.InlayHintLabelPart.create(O.value);return O.location!==void 0&&(Ee.location=co(O.location)),O.command!==void 0&&(Ee.command=Tt(O.command)),O.tooltip!==void 0&&(Ee.tooltip=uo(O.tooltip)),Ee}function uo(O){return typeof O=="string"?O:{kind:ur.MarkupKind.Markdown,value:O.value}}return{asUri:r,asTextDocumentIdentifier:o,asTextDocumentItem:f,asVersionedTextDocumentIdentifier:h,asOpenTextDocumentParams:_,asChangeTextDocumentParams:A,asCloseTextDocumentParams:U,asSaveTextDocumentParams:H,asWillSaveTextDocumentParams:Y,asDidCreateFilesParams:ye,asDidRenameFilesParams:Ce,asDidDeleteFilesParams:qe,asWillCreateFilesParams:_e,asWillRenameFilesParams:he,asWillDeleteFilesParams:$e,asTextDocumentPositionParams:Qe,asCompletionParams:Ge,asSignatureHelpParams:Wn,asWorkerPosition:er,asRange:vr,asRanges:hr,asPosition:Ii,asPositions:Kt,asPositionsSync:At,asLocation:co,asDiagnosticSeverity:Kn,asDiagnosticTag:Bt,asDiagnostic:Ss,asDiagnostics:mr,asDiagnosticsSync:jt,asCompletionItem:ko,asTextEdit:dr,asSymbolKind:Ni,asSymbolTag:fn,asSymbolTags:Yr,asReferenceParams:Vr,asCodeAction:Vn,asCodeActionSync:xo,asCodeActionContext:Xr,asCodeActionContextSync:Xn,asInlineValueContext:Me,asCommand:Tt,asCodeLens:yn,asFormattingOptions:Fn,asDocumentSymbolParams:En,asCodeLensParams:tr,asDocumentLink:mn,asDocumentLinkParams:Lt,asCallHierarchyItem:Ln,asTypeHierarchyItem:$t,asInlayHint:Mr,asWorkspaceSymbol:Jr,asInlineCompletionParams:ot}}Sy.createConverter=FF});var oI=Ie(Cy=>{"use strict";Object.defineProperty(Cy,"__esModule",{value:!0});Cy.createConverter=void 0;var kt=require("vscode"),Yn=ir(),Sd=md(),ii=_y(),LF=IC(),AF=kC(),MF=LC(),qF=qC(),rI=HC(),UF=zC(),jF=GC(),HF=XC(),$F=ZC(),iI=ir(),Dy;(function(t){function e(n){let r=n;return r&&Sd.string(r.language)&&Sd.string(r.value)}t.is=e})(Dy||(Dy={}));function YF(t,e,n){let o=t||(D=>kt.Uri.parse(D));function f(D){return o(D)}function h(D){let ee=[];for(let Fe of D)if(typeof Fe=="string")ee.push(Fe);else if(iI.NotebookCellTextDocumentFilter.is(Fe))if(typeof Fe.notebook=="string")ee.push({notebookType:Fe.notebook,language:Fe.language});else{let It=Fe.notebook.notebookType??"*";ee.push({notebookType:It,scheme:Fe.notebook.scheme,pattern:Fe.notebook.pattern,language:Fe.language})}else iI.TextDocumentFilter.is(Fe)&&ee.push({language:Fe.language,scheme:Fe.scheme,pattern:Fe.pattern});return ee}async function _(D,ee){return ii.map(D,N,ee)}function T(D){let ee=new Array(D.length);for(let Fe=0;Fe<D.length;Fe++)ee[Fe]=N(D[Fe]);return ee}function N(D){let ee=new rI.ProtocolDiagnostic(Y(D.range),D.message,Ce(D.severity),D.data);if(D.code!==void 0){if(typeof D.code=="string"||typeof D.code=="number")Yn.CodeDescription.is(D.codeDescription)?ee.code={value:D.code,target:f(D.codeDescription.href)}:ee.code=D.code;else if(rI.DiagnosticCode.is(D.code)){ee.hasDiagnosticCode=!0;let Fe=D.code;ee.code={value:Fe.value,target:f(Fe.target)}}}return D.source&&(ee.source=D.source),D.relatedInformation&&(ee.relatedInformation=A(D.relatedInformation)),Array.isArray(D.tags)&&(ee.tags=U(D.tags)),ee}function A(D){let ee=new Array(D.length);for(let Fe=0;Fe<D.length;Fe++){let It=D[Fe];ee[Fe]=new kt.DiagnosticRelatedInformation(Kn(It.location),It.message)}return ee}function U(D){if(!D)return;let ee=[];for(let Fe of D){let It=H(Fe);It!==void 0&&ee.push(It)}return ee.length>0?ee:void 0}function H(D){switch(D){case Yn.DiagnosticTag.Unnecessary:return kt.DiagnosticTag.Unnecessary;case Yn.DiagnosticTag.Deprecated:return kt.DiagnosticTag.Deprecated;default:return}}function te(D){return D?new kt.Position(D.line,D.character):void 0}function Y(D){return D?new kt.Range(D.start.line,D.start.character,D.end.line,D.end.character):void 0}async function ye(D,ee){return ii.map(D,Fe=>new kt.Range(Fe.start.line,Fe.start.character,Fe.end.line,Fe.end.character),ee)}function Ce(D){if(D==null)return kt.DiagnosticSeverity.Error;switch(D){case Yn.DiagnosticSeverity.Error:return kt.DiagnosticSeverity.Error;case Yn.DiagnosticSeverity.Warning:return kt.DiagnosticSeverity.Warning;case Yn.DiagnosticSeverity.Information:return kt.DiagnosticSeverity.Information;case Yn.DiagnosticSeverity.Hint:return kt.DiagnosticSeverity.Hint}return kt.DiagnosticSeverity.Error}function qe(D){if(Sd.string(D))return he(D);if(Dy.is(D))return he().appendCodeblock(D.value,D.language);if(Array.isArray(D)){let ee=[];for(let Fe of D){let It=he();Dy.is(Fe)?It.appendCodeblock(Fe.value,Fe.language):It.appendMarkdown(Fe),ee.push(It)}return ee}else return he(D)}function _e(D){if(Sd.string(D))return D;switch(D.kind){case Yn.MarkupKind.Markdown:return he(D.value);case Yn.MarkupKind.PlainText:return D.value;default:return`Unsupported Markup content received. Kind is: ${D.kind}`}}function he(D){let ee;if(D===void 0||typeof D=="string")ee=new kt.MarkdownString(D);else switch(D.kind){case Yn.MarkupKind.Markdown:ee=new kt.MarkdownString(D.value);break;case Yn.MarkupKind.PlainText:ee=new kt.MarkdownString,ee.appendText(D.value);break;default:ee=new kt.MarkdownString,ee.appendText(`Unsupported Markup content received. Kind is: ${D.kind}`);break}return ee.isTrusted=e,ee.supportHtml=n,ee}function $e(D){if(D)return new kt.Hover(qe(D.contents),Y(D.range))}async function Qe(D,ee,Fe){if(!D)return;if(Array.isArray(D))return ii.map(D,Sn=>zn(Sn,ee),Fe);let It=D,{defaultRange:Nr,commitCharacters:Lr}=Et(It,ee),nn=await ii.map(It.items,Sn=>zn(Sn,Lr,Nr,It.itemDefaults?.insertTextMode,It.itemDefaults?.insertTextFormat,It.itemDefaults?.data),Fe);return new kt.CompletionList(nn,It.isIncomplete)}function Et(D,ee){let Fe=D.itemDefaults?.editRange,It=D.itemDefaults?.commitCharacters??ee;return Yn.Range.is(Fe)?{defaultRange:Y(Fe),commitCharacters:It}:Fe!==void 0?{defaultRange:{inserting:Y(Fe.insert),replacing:Y(Fe.replace)},commitCharacters:It}:{defaultRange:void 0,commitCharacters:It}}function Ge(D){return Yn.CompletionItemKind.Text<=D&&D<=Yn.CompletionItemKind.TypeParameter?[D-1,void 0]:[kt.CompletionItemKind.Text,D]}function pt(D){switch(D){case Yn.CompletionItemTag.Deprecated:return kt.CompletionItemTag.Deprecated}}function Ft(D){if(D==null)return[];let ee=[];for(let Fe of D){let It=pt(Fe);It!==void 0&&ee.push(It)}return ee}function zn(D,ee,Fe,It,Nr,Lr){let nn=Ft(D.tags),Sn=Vt(D),vn=new LF.default(Sn);D.detail&&(vn.detail=D.detail),D.documentation&&(vn.documentation=_e(D.documentation),vn.documentationFormat=Sd.string(D.documentation)?"$string":D.documentation.kind),D.filterText&&(vn.filterText=D.filterText);let Ar=Nn(D,Fe,Nr);if(Ar&&(vn.insertText=Ar.text,vn.range=Ar.range,vn.fromEdit=Ar.fromEdit),Sd.number(D.kind)){let[ss,Xs]=Ge(D.kind);vn.kind=ss,Xs&&(vn.originalItemKind=Xs)}D.sortText&&(vn.sortText=D.sortText),D.additionalTextEdits&&(vn.additionalTextEdits=Ii(D.additionalTextEdits));let lo=D.commitCharacters!==void 0?Sd.stringArray(D.commitCharacters)?D.commitCharacters:void 0:ee;lo&&(vn.commitCharacters=lo.slice()),D.command&&(vn.command=sr(D.command)),(D.deprecated===!0||D.deprecated===!1)&&(vn.deprecated=D.deprecated,D.deprecated===!0&&nn.push(kt.CompletionItemTag.Deprecated)),(D.preselect===!0||D.preselect===!1)&&(vn.preselect=D.preselect);let Go=D.data??Lr;Go!==void 0&&(vn.data=Go),nn.length>0&&(vn.tags=nn);let Si=D.insertTextMode??It;return Si!==void 0&&(vn.insertTextMode=Si,Si===Yn.InsertTextMode.asIs&&(vn.keepWhitespace=!0)),vn}function Vt(D){return Yn.CompletionItemLabelDetails.is(D.labelDetails)?{label:D.label,detail:D.labelDetails.detail,description:D.labelDetails.description}:D.label}function Nn(D,ee,Fe){let It=D.insertTextFormat??Fe;if(D.textEdit!==void 0||ee!==void 0){let[Nr,Lr]=D.textEdit!==void 0?Zr(D.textEdit):[ee,D.textEditText??D.label];return It===Yn.InsertTextFormat.Snippet?{text:new kt.SnippetString(Lr),range:Nr,fromEdit:!0}:{text:Lr,range:Nr,fromEdit:!0}}else return D.insertText?It===Yn.InsertTextFormat.Snippet?{text:new kt.SnippetString(D.insertText),fromEdit:!1}:{text:D.insertText,fromEdit:!1}:void 0}function Zr(D){return Yn.InsertReplaceEdit.is(D)?[{inserting:Y(D.insert),replacing:Y(D.replace)},D.newText]:[Y(D.range),D.newText]}function Wn(D){if(D)return new kt.TextEdit(Y(D.range),D.newText)}async function er(D,ee){if(D)return ii.map(D,Wn,ee)}function Ii(D){if(!D)return;let ee=new Array(D.length);for(let Fe=0;Fe<D.length;Fe++)ee[Fe]=Wn(D[Fe]);return ee}async function Kt(D,ee){if(!D)return;let Fe=new kt.SignatureHelp;return Sd.number(D.activeSignature)?Fe.activeSignature=D.activeSignature:Fe.activeSignature=0,Sd.number(D.activeParameter)?Fe.activeParameter=D.activeParameter:Fe.activeParameter=0,D.signatures&&(Fe.signatures=await At(D.signatures,ee)),Fe}async function At(D,ee){return ii.mapAsync(D,vr,ee)}async function vr(D,ee){let Fe=new kt.SignatureInformation(D.label);return D.documentation!==void 0&&(Fe.documentation=_e(D.documentation)),D.parameters!==void 0&&(Fe.parameters=await hr(D.parameters,ee)),D.activeParameter!==void 0&&(Fe.activeParameter=D.activeParameter),Fe}function hr(D,ee){return ii.map(D,co,ee)}function co(D){let ee=new kt.ParameterInformation(D.label);return D.documentation&&(ee.documentation=_e(D.documentation)),ee}function Kn(D){return D?new kt.Location(o(D.uri),Y(D.range)):void 0}async function or(D,ee){if(D)return si(D,ee)}async function Bt(D,ee){if(D)return si(D,ee)}function dt(D){if(!D)return;let ee={targetUri:o(D.targetUri),targetRange:Y(D.targetRange),originSelectionRange:Y(D.originSelectionRange),targetSelectionRange:Y(D.targetSelectionRange)};if(!ee.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return ee}async function si(D,ee){if(D)if(Sd.array(D)){if(D.length===0)return[];if(Yn.LocationLink.is(D[0])){let Fe=D;return ii.map(Fe,dt,ee)}else{let Fe=D;return ii.map(Fe,Kn,ee)}}else return Yn.LocationLink.is(D)?[dt(D)]:Kn(D)}async function Pr(D,ee){if(D)return ii.map(D,Kn,ee)}async function Ss(D,ee){if(D)return ii.map(D,mr,ee)}function mr(D){let ee=new kt.DocumentHighlight(Y(D.range));return Sd.number(D.kind)&&(ee.kind=jt(D.kind)),ee}function jt(D){switch(D){case Yn.DocumentHighlightKind.Text:return kt.DocumentHighlightKind.Text;case Yn.DocumentHighlightKind.Read:return kt.DocumentHighlightKind.Read;case Yn.DocumentHighlightKind.Write:return kt.DocumentHighlightKind.Write}return kt.DocumentHighlightKind.Text}async function Ir(D,ee){if(D)return ii.map(D,ko,ee)}function _t(D){return D<=Yn.SymbolKind.TypeParameter?D-1:kt.SymbolKind.Property}function ei(D){switch(D){case Yn.SymbolTag.Deprecated:return kt.SymbolTag.Deprecated;default:return}}function yi(D){if(D==null)return;let ee=[];for(let Fe of D){let It=ei(Fe);It!==void 0&&ee.push(It)}return ee.length===0?void 0:ee}function ko(D){let ee=D.data,Fe=D.location,It=Fe.range===void 0||ee!==void 0?new HF.default(D.name,_t(D.kind),D.containerName??"",Fe.range===void 0?o(Fe.uri):new kt.Location(o(D.location.uri),Y(Fe.range)),ee):new kt.SymbolInformation(D.name,_t(D.kind),D.containerName??"",new kt.Location(o(D.location.uri),Y(Fe.range)));return dr(It,D),It}async function Gn(D,ee){if(D!=null)return ii.map(D,zi,ee)}function zi(D){let ee=new kt.DocumentSymbol(D.name,D.detail||"",_t(D.kind),Y(D.range),Y(D.selectionRange));if(dr(ee,D),D.children!==void 0&&D.children.length>0){let Fe=[];for(let It of D.children)Fe.push(zi(It));ee.children=Fe}return ee}function dr(D,ee){D.tags=yi(ee.tags),ee.deprecated&&(D.tags?D.tags.includes(kt.SymbolTag.Deprecated)||(D.tags=D.tags.concat(kt.SymbolTag.Deprecated)):D.tags=[kt.SymbolTag.Deprecated])}function sr(D){let ee={title:D.title,command:D.command};return D.arguments&&(ee.arguments=D.arguments),ee}async function Ni(D,ee){if(D)return ii.map(D,sr,ee)}let fn=new Map;fn.set(Yn.CodeActionKind.Empty,kt.CodeActionKind.Empty),fn.set(Yn.CodeActionKind.QuickFix,kt.CodeActionKind.QuickFix),fn.set(Yn.CodeActionKind.Refactor,kt.CodeActionKind.Refactor),fn.set(Yn.CodeActionKind.RefactorExtract,kt.CodeActionKind.RefactorExtract),fn.set(Yn.CodeActionKind.RefactorInline,kt.CodeActionKind.RefactorInline),fn.set(Yn.CodeActionKind.RefactorRewrite,kt.CodeActionKind.RefactorRewrite),fn.set(Yn.CodeActionKind.Source,kt.CodeActionKind.Source),fn.set(Yn.CodeActionKind.SourceOrganizeImports,kt.CodeActionKind.SourceOrganizeImports);function Yr(D){if(D==null)return;let ee=fn.get(D);if(ee)return ee;let Fe=D.split(".");ee=kt.CodeActionKind.Empty;for(let It of Fe)ee=ee.append(It);return ee}function Vr(D){if(D!=null)return D.map(ee=>Yr(ee))}async function Vn(D,ee){if(D==null)return;let Fe=new qF.default(D.title,D.data);return D.kind!==void 0&&(Fe.kind=Yr(D.kind)),D.diagnostics!==void 0&&(Fe.diagnostics=T(D.diagnostics)),D.edit!==void 0&&(Fe.edit=await pi(D.edit,ee)),D.command!==void 0&&(Fe.command=sr(D.command)),D.isPreferred!==void 0&&(Fe.isPreferred=D.isPreferred),D.disabled!==void 0&&(Fe.disabled={reason:D.disabled.reason}),Fe}function xo(D,ee){return ii.mapAsync(D,async Fe=>Yn.Command.is(Fe)?sr(Fe):Vn(Fe,ee),ee)}function Xr(D){if(!D)return;let ee=new AF.default(Y(D.range));return D.command&&(ee.command=sr(D.command)),D.data!==void 0&&D.data!==null&&(ee.data=D.data),ee}async function Xn(D,ee){if(D)return ii.map(D,Xr,ee)}async function pi(D,ee){if(!D)return;let Fe=new Map;if(D.changeAnnotations!==void 0){let Lr=D.changeAnnotations;await ii.forEach(Object.keys(Lr),nn=>{let Sn=X(Lr[nn]);Fe.set(nn,Sn)},ee)}let It=Lr=>{if(Lr!==void 0)return Fe.get(Lr)},Nr=new kt.WorkspaceEdit;if(D.documentChanges){let Lr=D.documentChanges;await ii.forEach(Lr,nn=>{if(Yn.CreateFile.is(nn))Nr.createFile(o(nn.uri),nn.options,It(nn.annotationId));else if(Yn.RenameFile.is(nn))Nr.renameFile(o(nn.oldUri),o(nn.newUri),nn.options,It(nn.annotationId));else if(Yn.DeleteFile.is(nn))Nr.deleteFile(o(nn.uri),nn.options,It(nn.annotationId));else if(Yn.TextDocumentEdit.is(nn)){let Sn=o(nn.textDocument.uri);for(let vn of nn.edits)Yn.AnnotatedTextEdit.is(vn)?Nr.replace(Sn,Y(vn.range),vn.newText,It(vn.annotationId)):Nr.replace(Sn,Y(vn.range),vn.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(nn,void 0,4)}`)},ee)}else if(D.changes){let Lr=D.changes;await ii.forEach(Object.keys(Lr),nn=>{Nr.set(o(nn),Ii(Lr[nn]))},ee)}return Nr}function X(D){if(D!==void 0)return{label:D.label,needsConfirmation:!!D.needsConfirmation,description:D.description}}function Me(D){let ee=Y(D.range),Fe=D.target?f(D.target):void 0,It=new MF.default(ee,Fe);return D.tooltip!==void 0&&(It.tooltip=D.tooltip),D.data!==void 0&&D.data!==null&&(It.data=D.data),It}async function ot(D,ee){if(D)return ii.map(D,Me,ee)}function Tt(D){return new kt.Color(D.red,D.green,D.blue,D.alpha)}function yn(D){return new kt.ColorInformation(Y(D.range),Tt(D.color))}async function Fn(D,ee){if(D)return ii.map(D,yn,ee)}function En(D){let ee=new kt.ColorPresentation(D.label);return ee.additionalTextEdits=Ii(D.additionalTextEdits),D.textEdit&&(ee.textEdit=Wn(D.textEdit)),ee}async function tr(D,ee){if(D)return ii.map(D,En,ee)}function mn(D){if(D)switch(D){case Yn.FoldingRangeKind.Comment:return kt.FoldingRangeKind.Comment;case Yn.FoldingRangeKind.Imports:return kt.FoldingRangeKind.Imports;case Yn.FoldingRangeKind.Region:return kt.FoldingRangeKind.Region}}function Lt(D){return new kt.FoldingRange(D.startLine,D.endLine,mn(D.kind))}async function Ln(D,ee){if(D)return ii.map(D,Lt,ee)}function $t(D){return new kt.SelectionRange(Y(D.range),D.parent?$t(D.parent):void 0)}async function Jr(D,ee){return Array.isArray(D)?ii.map(D,$t,ee):[]}function Mr(D){return Yn.InlineValueText.is(D)?new kt.InlineValueText(Y(D.range),D.text):Yn.InlineValueVariableLookup.is(D)?new kt.InlineValueVariableLookup(Y(D.range),D.variableName,D.caseSensitiveLookup):new kt.InlineValueEvaluatableExpression(Y(D.range),D.expression)}async function Ds(D,ee){return Array.isArray(D)?ii.map(D,Mr,ee):[]}async function uo(D,ee){let Fe=typeof D.label=="string"?D.label:await ii.map(D.label,O,ee),It=new $F.default(te(D.position),Fe);return D.kind!==void 0&&(It.kind=D.kind),D.textEdits!==void 0&&(It.textEdits=await er(D.textEdits,ee)),D.tooltip!==void 0&&(It.tooltip=Ee(D.tooltip)),D.paddingLeft!==void 0&&(It.paddingLeft=D.paddingLeft),D.paddingRight!==void 0&&(It.paddingRight=D.paddingRight),D.data!==void 0&&(It.data=D.data),It}function O(D){let ee=new kt.InlayHintLabelPart(D.value);return D.location!==void 0&&(ee.location=Kn(D.location)),D.tooltip!==void 0&&(ee.tooltip=Ee(D.tooltip)),D.command!==void 0&&(ee.command=sr(D.command)),ee}function Ee(D){return typeof D=="string"?D:he(D)}async function Dt(D,ee){if(Array.isArray(D))return ii.mapAsync(D,uo,ee)}function en(D){if(D===null)return;let ee=new UF.default(_t(D.kind),D.name,D.detail||"",f(D.uri),Y(D.range),Y(D.selectionRange),D.data);return D.tags!==void 0&&(ee.tags=yi(D.tags)),ee}async function oe(D,ee){if(D!==null)return ii.map(D,en,ee)}async function x(D,ee){return new kt.CallHierarchyIncomingCall(en(D.from),await ye(D.fromRanges,ee))}async function J(D,ee){if(D!==null)return ii.mapAsync(D,x,ee)}async function Q(D,ee){return new kt.CallHierarchyOutgoingCall(en(D.to),await ye(D.fromRanges,ee))}async function j(D,ee){if(D!==null)return ii.mapAsync(D,Q,ee)}async function I(D,ee){if(D!=null)return new kt.SemanticTokens(new Uint32Array(D.data),D.resultId)}function le(D){return new kt.SemanticTokensEdit(D.start,D.deleteCount,D.data!==void 0?new Uint32Array(D.data):void 0)}async function He(D,ee){if(D!=null)return new kt.SemanticTokensEdits(D.edits.map(le),D.resultId)}function tn(D){return D}async function pr(D,ee){if(D!=null)return new kt.LinkedEditingRanges(await ye(D.ranges,ee),ar(D.wordPattern))}function ar(D){if(D!=null)return new RegExp(D)}function gi(D){if(D===null)return;let ee=new jF.default(_t(D.kind),D.name,D.detail||"",f(D.uri),Y(D.range),Y(D.selectionRange),D.data);return D.tags!==void 0&&(ee.tags=yi(D.tags)),ee}async function gr(D,ee){if(D!==null)return ii.map(D,gi,ee)}function _r(D){if(Sd.string(D))return D;if(Yn.RelativePattern.is(D)){if(Yn.URI.is(D.baseUri))return new kt.RelativePattern(f(D.baseUri),D.pattern);if(Yn.WorkspaceFolder.is(D.baseUri)){let ee=kt.workspace.getWorkspaceFolder(f(D.baseUri.uri));return ee!==void 0?new kt.RelativePattern(ee,D.pattern):void 0}}}async function dn(D,ee){if(!D)return;if(Array.isArray(D))return ii.map(D,Nr=>ai(Nr),ee);let Fe=D,It=await ii.map(Fe.items,Nr=>ai(Nr),ee);return new kt.InlineCompletionList(It)}function ai(D){let ee;typeof D.insertText=="string"?ee=D.insertText:ee=new kt.SnippetString(D.insertText.value);let Fe;D.command&&(Fe=sr(D.command));let It=new kt.InlineCompletionItem(ee,Y(D.range),Fe);return D.filterText&&(It.filterText=D.filterText),It}return{asUri:f,asDocumentSelector:h,asDiagnostics:_,asDiagnostic:N,asRange:Y,asRanges:ye,asPosition:te,asDiagnosticSeverity:Ce,asDiagnosticTag:H,asHover:$e,asCompletionResult:Qe,asCompletionItem:zn,asTextEdit:Wn,asTextEdits:er,asSignatureHelp:Kt,asSignatureInformations:At,asSignatureInformation:vr,asParameterInformations:hr,asParameterInformation:co,asDeclarationResult:or,asDefinitionResult:Bt,asLocation:Kn,asReferences:Pr,asDocumentHighlights:Ss,asDocumentHighlight:mr,asDocumentHighlightKind:jt,asSymbolKind:_t,asSymbolTag:ei,asSymbolTags:yi,asSymbolInformations:Ir,asSymbolInformation:ko,asDocumentSymbols:Gn,asDocumentSymbol:zi,asCommand:sr,asCommands:Ni,asCodeAction:Vn,asCodeActionKind:Yr,asCodeActionKinds:Vr,asCodeActionResult:xo,asCodeLens:Xr,asCodeLenses:Xn,asWorkspaceEdit:pi,asDocumentLink:Me,asDocumentLinks:ot,asFoldingRangeKind:mn,asFoldingRange:Lt,asFoldingRanges:Ln,asColor:Tt,asColorInformation:yn,asColorInformations:Fn,asColorPresentation:En,asColorPresentations:tr,asSelectionRange:$t,asSelectionRanges:Jr,asInlineValue:Mr,asInlineValues:Ds,asInlayHint:uo,asInlayHints:Dt,asSemanticTokensLegend:tn,asSemanticTokens:I,asSemanticTokensEdit:le,asSemanticTokensEdits:He,asCallHierarchyItem:en,asCallHierarchyItems:oe,asCallHierarchyIncomingCall:x,asCallHierarchyIncomingCalls:J,asCallHierarchyOutgoingCall:Q,asCallHierarchyOutgoingCalls:j,asLinkedEditingRanges:pr,asTypeHierarchyItem:gi,asTypeHierarchyItems:gr,asGlobPattern:_r,asInlineCompletionResult:dn,asInlineCompletionItem:ai}}Cy.createConverter=YF});var No=Ie(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.generateUuid=Dd.parse=Dd.isUUID=Dd.v4=Dd.empty=void 0;var Wm=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Km=class t extends Wm{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};Km._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Km._timeHighBits=["8","9","a","b"];Dd.empty=new Wm("00000000-0000-0000-0000-000000000000");function sI(){return new Km}Dd.v4=sI;var zF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function aI(t){return zF.test(t)}Dd.isUUID=aI;function WF(t){if(!aI(t))throw new Error("invalid uuid");return new Wm(t)}Dd.parse=WF;function KF(){return sI().asHex()}Dd.generateUuid=KF});var nT=Ie(Ty=>{"use strict";Object.defineProperty(Ty,"__esModule",{value:!0});Ty.ProgressPart=void 0;var cI=require("vscode"),uI=ir(),lI=md(),tT=class{constructor(e,n,r){this._client=e,this._token=n,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(uI.WorkDoneProgress.type,this._token,o=>{switch(o.kind){case"begin":this.begin(o);break;case"report":this.report(o);break;case"end":this.done(),r&&r(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&cI.window.withProgress({location:cI.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,r)=>{if(this._lspProgressDisposable!==void 0)return this._progress=n,this._cancellationToken=r,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(uI.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((o,f)=>{this._resolve=o,this._reject=f})})}report(e){if(this._infinite&&lI.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(lI.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,n-this._reported);this._reported+=r,this._progress!==void 0&&this._progress.report({message:e.message,increment:r})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};Ty.ProgressPart=tT});var Qr=Ie(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.WorkspaceFeature=Pa.TextDocumentLanguageFeature=Pa.TextDocumentEventFeature=Pa.DynamicDocumentFeature=Pa.DynamicFeature=Pa.StaticFeature=Pa.ensure=Pa.LSPCancellationError=void 0;var mg=require("vscode"),rT=ir(),gu=md(),fI=No(),iT=class extends mg.CancellationError{constructor(e){super(),this.data=e}};Pa.LSPCancellationError=iT;function GF(t,e){return t[e]===void 0&&(t[e]={}),t[e]}Pa.ensure=GF;var dI;(function(t){function e(n){let r=n;return r!=null&&gu.func(r.fillClientCapabilities)&&gu.func(r.initialize)&&gu.func(r.getState)&&gu.func(r.clear)&&(r.fillInitializeParams===void 0||gu.func(r.fillInitializeParams))}t.is=e})(dI||(Pa.StaticFeature=dI={}));var vI;(function(t){function e(n){let r=n;return r!=null&&gu.func(r.fillClientCapabilities)&&gu.func(r.initialize)&&gu.func(r.getState)&&gu.func(r.clear)&&(r.fillInitializeParams===void 0||gu.func(r.fillInitializeParams))&&gu.func(r.register)&&gu.func(r.unregister)&&r.registrationType!==void 0}t.is=e})(vI||(Pa.DynamicFeature=vI={}));var Gm=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),n=0;for(let o of e){n++;for(let f of mg.workspace.textDocuments)if(mg.languages.match(o,f)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let r=n>0;return{kind:"document",id:this.registrationType.method,registrations:r,matches:!1}}};Pa.DynamicDocumentFeature=Gm;var oT=class extends Gm{static textDocumentFilter(e,n){for(let r of e)if(mg.languages.match(r,n)>0)return!0;return!1}constructor(e,n,r,o,f,h,_){super(e),this._event=n,this._type=r,this._middleware=o,this._createParams=f,this._textDocument=h,this._selectorFilter=_,this._selectors=new Map,this._onNotificationSent=new mg.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(n=>{this.callback(n).catch(r=>{this._client.error(`Sending document notification ${this._type.method} failed.`,r)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let n=async r=>{let o=this._createParams(r);await this._client.sendNotification(this._type,o),this.notificationSent(this.getTextDocument(r),this._type,o)};if(this.matches(e)){let r=this._middleware();return r?r(e,o=>n(o)):n(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,n,r){this._onNotificationSent.fire({textDocument:e,type:n,params:r})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(mg.languages.match(n,e)>0)return{send:r=>this.callback(r)}}};Pa.TextDocumentEventFeature=oT;var sT=class extends Gm{constructor(e,n){super(e),this._registrationType=n,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let n=e.data.registerOptions.documentSelector;n!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(n))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(rT.TextDocumentRegistrationOptions.is(n)){let r=rT.StaticRegistrationOptions.hasId(n)?n.id:fI.generateUuid(),o=n.documentSelector??e;if(o)return[r,Object.assign({},n,{documentSelector:o})]}else if(gu.boolean(n)&&n===!0||rT.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let r=gu.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[fI.generateUuid(),r]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return gu.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let r=n.data.registerOptions.documentSelector;if(r!==null&&mg.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(r),e)>0)return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};Pa.TextDocumentLanguageFeature=sT;var aT=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};Pa.WorkspaceFeature=aT});var pI=Ie(($q,hI)=>{var BF=typeof process=="object"&&process&&process.platform==="win32";hI.exports=BF?{sep:"\\"}:{sep:"/"}});var SI=Ie((Yq,yI)=>{"use strict";yI.exports=mI;function mI(t,e,n){t instanceof RegExp&&(t=gI(t,n)),e instanceof RegExp&&(e=gI(e,n));var r=_I(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function gI(t,e){var n=e.match(t);return n?n[0]:null}mI.range=_I;function _I(t,e,n){var r,o,f,h,_,T=n.indexOf(t),N=n.indexOf(e,T+1),A=T;if(T>=0&&N>0){if(t===e)return[T,N];for(r=[],f=n.length;A>=0&&!_;)A==T?(r.push(A),T=n.indexOf(t,A+1)):r.length==1?_=[r.pop(),N]:(o=r.pop(),o<f&&(f=o,h=N),N=n.indexOf(e,A+1)),A=T<N&&T>=0?T:N;r.length&&(_=[f,h])}return _}});var PI=Ie((zq,RI)=>{var DI=SI();RI.exports=JF;var CI="\0SLASH"+Math.random()+"\0",TI="\0OPEN"+Math.random()+"\0",uT="\0CLOSE"+Math.random()+"\0",EI="\0COMMA"+Math.random()+"\0",bI="\0PERIOD"+Math.random()+"\0";function cT(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function VF(t){return t.split("\\\\").join(CI).split("\\{").join(TI).split("\\}").join(uT).split("\\,").join(EI).split("\\.").join(bI)}function XF(t){return t.split(CI).join("\\").split(TI).join("{").split(uT).join("}").split(EI).join(",").split(bI).join(".")}function wI(t){if(!t)return[""];var e=[],n=DI("{","}",t);if(!n)return t.split(",");var r=n.pre,o=n.body,f=n.post,h=r.split(",");h[h.length-1]+="{"+o+"}";var _=wI(f);return f.length&&(h[h.length-1]+=_.shift(),h.push.apply(h,_)),e.push.apply(e,h),e}function JF(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Bm(VF(t),!0).map(XF)):[]}function QF(t){return"{"+t+"}"}function ZF(t){return/^-?0\d/.test(t)}function eL(t,e){return t<=e}function tL(t,e){return t>=e}function Bm(t,e){var n=[],r=DI("{","}",t);if(!r)return[t];var o=r.pre,f=r.post.length?Bm(r.post,!1):[""];if(/\$$/.test(r.pre))for(var h=0;h<f.length;h++){var _=o+"{"+r.body+"}"+f[h];n.push(_)}else{var T=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),N=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),A=T||N,U=r.body.indexOf(",")>=0;if(!A&&!U)return r.post.match(/,.*\}/)?(t=r.pre+"{"+r.body+uT+r.post,Bm(t)):[t];var H;if(A)H=r.body.split(/\.\./);else if(H=wI(r.body),H.length===1&&(H=Bm(H[0],!1).map(QF),H.length===1))return f.map(function(zn){return r.pre+H[0]+zn});var te;if(A){var Y=cT(H[0]),ye=cT(H[1]),Ce=Math.max(H[0].length,H[1].length),qe=H.length==3?Math.abs(cT(H[2])):1,_e=eL,he=ye<Y;he&&(qe*=-1,_e=tL);var $e=H.some(ZF);te=[];for(var Qe=Y;_e(Qe,ye);Qe+=qe){var Et;if(N)Et=String.fromCharCode(Qe),Et==="\\"&&(Et="");else if(Et=String(Qe),$e){var Ge=Ce-Et.length;if(Ge>0){var pt=new Array(Ge+1).join("0");Qe<0?Et="-"+pt+Et.slice(1):Et=pt+Et}}te.push(Et)}}else{te=[];for(var Ft=0;Ft<H.length;Ft++)te.push.apply(te,Bm(H[Ft],!1))}for(var Ft=0;Ft<te.length;Ft++)for(var h=0;h<f.length;h++){var _=o+te[Ft]+f[h];(!e||A||_)&&n.push(_)}}return n}});var by=Ie((Kq,hT)=>{var Ef=hT.exports=(t,e,n={})=>(Ey(e),!n.nocomment&&e.charAt(0)==="#"?!1:new cm(e,n).match(t));hT.exports=Ef;var dT=pI();Ef.sep=dT.sep;var dv=Symbol("globstar **");Ef.GLOBSTAR=dv;var nL=PI(),II={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},vT="[^/]",lT=vT+"*?",rL="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",iL="(?:(?!(?:\\/|^)\\.).)*?",kI=t=>t.split("").reduce((e,n)=>(e[n]=!0,e),{}),NI=kI("().*{}+?[]^$\\!"),oL=kI("[.("),OI=/\/+/;Ef.filter=(t,e={})=>(n,r,o)=>Ef(n,t,e);var xp=(t,e={})=>{let n={};return Object.keys(t).forEach(r=>n[r]=t[r]),Object.keys(e).forEach(r=>n[r]=e[r]),n};Ef.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Ef;let e=Ef,n=(r,o,f)=>e(r,o,xp(t,f));return n.Minimatch=class extends e.Minimatch{constructor(o,f){super(o,xp(t,f))}},n.Minimatch.defaults=r=>e.defaults(xp(t,r)).Minimatch,n.filter=(r,o)=>e.filter(r,xp(t,o)),n.defaults=r=>e.defaults(xp(t,r)),n.makeRe=(r,o)=>e.makeRe(r,xp(t,o)),n.braceExpand=(r,o)=>e.braceExpand(r,xp(t,o)),n.match=(r,o,f)=>e.match(r,o,xp(t,f)),n};Ef.braceExpand=(t,e)=>xI(t,e);var xI=(t,e={})=>(Ey(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:nL(t)),sL=1024*64,Ey=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>sL)throw new TypeError("pattern is too long")},fT=Symbol("subparse");Ef.makeRe=(t,e)=>new cm(t,e||{}).makeRe();Ef.match=(t,e,n={})=>{let r=new cm(e,n);return t=t.filter(o=>r.match(o)),r.options.nonull&&!t.length&&t.push(e),t};var aL=t=>t.replace(/\\(.)/g,"$1"),cL=t=>t.replace(/\\([^-\]])/g,"$1"),uL=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),lL=t=>t.replace(/[[\]\\]/g,"\\$&"),cm=class{constructor(e,n){Ey(e),n||(n={}),this.options=n,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.make()}debug(){}make(){let e=this.pattern,n=this.options;if(!n.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let r=this.globSet=this.braceExpand();n.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,r),r=this.globParts=r.map(o=>o.split(OI)),this.debug(this.pattern,r),r=r.map((o,f,h)=>o.map(this.parse,this)),this.debug(this.pattern,r),r=r.filter(o=>o.indexOf(!1)===-1),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,n=!1,r=0;for(let o=0;o<e.length&&e.charAt(o)==="!";o++)n=!n,r++;r&&(this.pattern=e.slice(r)),this.negate=n}matchOne(e,n,r){var o=this.options;this.debug("matchOne",{this:this,file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var f=0,h=0,_=e.length,T=n.length;f<_&&h<T;f++,h++){this.debug("matchOne loop");var N=n[h],A=e[f];if(this.debug(n,N,A),N===!1)return!1;if(N===dv){this.debug("GLOBSTAR",[n,N,A]);var U=f,H=h+1;if(H===T){for(this.debug("** at the end");f<_;f++)if(e[f]==="."||e[f]===".."||!o.dot&&e[f].charAt(0)===".")return!1;return!0}for(;U<_;){var te=e[U];if(this.debug(`
globstar while`,e,U,n,H,te),this.matchOne(e.slice(U),n.slice(H),r))return this.debug("globstar found match!",U,_,te),!0;if(te==="."||te===".."||!o.dot&&te.charAt(0)==="."){this.debug("dot detected!",e,U,n,H);break}this.debug("globstar swallow a segment, and continue"),U++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,U,n,H),U===_))}var Y;if(typeof N=="string"?(Y=A===N,this.debug("string match",N,A,Y)):(Y=A.match(N),this.debug("pattern match",N,A,Y)),!Y)return!1}if(f===_&&h===T)return!0;if(f===_)return r;if(h===T)return f===_-1&&e[f]==="";throw new Error("wtf?")}braceExpand(){return xI(this.pattern,this.options)}parse(e,n){Ey(e);let r=this.options;if(e==="**")if(r.noglobstar)e="*";else return dv;if(e==="")return"";let o="",f=!1,h=!1,_=[],T=[],N,A=!1,U=-1,H=-1,te,Y,ye,Ce=e.charAt(0)===".",qe=r.dot||Ce,_e=()=>Ce?"":qe?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",he=Ge=>Ge.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",$e=()=>{if(N){switch(N){case"*":o+=lT,f=!0;break;case"?":o+=vT,f=!0;break;default:o+="\\"+N;break}this.debug("clearStateChar %j %j",N,o),N=!1}};for(let Ge=0,pt;Ge<e.length&&(pt=e.charAt(Ge));Ge++){if(this.debug("%s	%s %s %j",e,Ge,o,pt),h){if(pt==="/")return!1;NI[pt]&&(o+="\\"),o+=pt,h=!1;continue}switch(pt){case"/":return!1;case"\\":if(A&&e.charAt(Ge+1)==="-"){o+=pt;continue}$e(),h=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,Ge,o,pt),A){this.debug("  in class"),pt==="!"&&Ge===H+1&&(pt="^"),o+=pt;continue}this.debug("call clearStateChar %j",N),$e(),N=pt,r.noext&&$e();continue;case"(":{if(A){o+="(";continue}if(!N){o+="\\(";continue}let Ft={type:N,start:Ge-1,reStart:o.length,open:II[N].open,close:II[N].close};this.debug(this.pattern,"	",Ft),_.push(Ft),o+=Ft.open,Ft.start===0&&Ft.type!=="!"&&(Ce=!0,o+=he(e.slice(Ge+1))),this.debug("plType %j %j",N,o),N=!1;continue}case")":{let Ft=_[_.length-1];if(A||!Ft){o+="\\)";continue}_.pop(),$e(),f=!0,Y=Ft,o+=Y.close,Y.type==="!"&&T.push(Object.assign(Y,{reEnd:o.length}));continue}case"|":{let Ft=_[_.length-1];if(A||!Ft){o+="\\|";continue}$e(),o+="|",Ft.start===0&&Ft.type!=="!"&&(Ce=!0,o+=he(e.slice(Ge+1)));continue}case"[":if($e(),A){o+="\\"+pt;continue}A=!0,H=Ge,U=o.length,o+=pt;continue;case"]":if(Ge===H+1||!A){o+="\\"+pt;continue}te=e.substring(H+1,Ge);try{RegExp("["+lL(cL(te))+"]"),o+=pt}catch{o=o.substring(0,U)+"(?:$.)"}f=!0,A=!1;continue;default:$e(),NI[pt]&&!(pt==="^"&&A)&&(o+="\\"),o+=pt;break}}for(A&&(te=e.slice(H+1),ye=this.parse(te,fT),o=o.substring(0,U)+"\\["+ye[0],f=f||ye[1]),Y=_.pop();Y;Y=_.pop()){let Ge;Ge=o.slice(Y.reStart+Y.open.length),this.debug("setting tail",o,Y),Ge=Ge.replace(/((?:\\{2}){0,64})(\\?)\|/g,(Ft,zn,Vt)=>(Vt||(Vt="\\"),zn+zn+Vt+"|")),this.debug(`tail=%j
   %s`,Ge,Ge,Y,o);let pt=Y.type==="*"?lT:Y.type==="?"?vT:"\\"+Y.type;f=!0,o=o.slice(0,Y.reStart)+pt+"\\("+Ge}$e(),h&&(o+="\\\\");let Qe=oL[o.charAt(0)];for(let Ge=T.length-1;Ge>-1;Ge--){let pt=T[Ge],Ft=o.slice(0,pt.reStart),zn=o.slice(pt.reStart,pt.reEnd-8),Vt=o.slice(pt.reEnd),Nn=o.slice(pt.reEnd-8,pt.reEnd)+Vt,Zr=Ft.split(")").length,Wn=Ft.split("(").length-Zr,er=Vt;for(let Kt=0;Kt<Wn;Kt++)er=er.replace(/\)[+*?]?/,"");Vt=er;let Ii=Vt===""&&n!==fT?"(?:$|\\/)":"";o=Ft+zn+Vt+Ii+Nn}if(o!==""&&f&&(o="(?=.)"+o),Qe&&(o=_e()+o),n===fT)return[o,f];if(r.nocase&&!f&&(f=e.toUpperCase()!==e.toLowerCase()),!f)return aL(e);let Et=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+o+"$",Et),{_glob:e,_src:o})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let n=this.options,r=n.noglobstar?lT:n.dot?rL:iL,o=n.nocase?"i":"",f=e.map(h=>(h=h.map(_=>typeof _=="string"?uL(_):_===dv?dv:_._src).reduce((_,T)=>(_[_.length-1]===dv&&T===dv||_.push(T),_),[]),h.forEach((_,T)=>{_!==dv||h[T-1]===dv||(T===0?h.length>1?h[T+1]="(?:\\/|"+r+"\\/)?"+h[T+1]:h[T]=r:T===h.length-1?h[T-1]+="(?:\\/|"+r+")?":(h[T-1]+="(?:\\/|\\/"+r+"\\/)"+h[T+1],h[T+1]=dv))}),h.filter(_=>_!==dv).join("/"))).join("|");f="^(?:"+f+")$",this.negate&&(f="^(?!"+f+").*$");try{this.regexp=new RegExp(f,o)}catch{this.regexp=!1}return this.regexp}match(e,n=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;let r=this.options;dT.sep!=="/"&&(e=e.split(dT.sep).join("/")),e=e.split(OI),this.debug(this.pattern,"split",e);let o=this.set;this.debug(this.pattern,"set",o);let f;for(let h=e.length-1;h>=0&&(f=e[h],!f);h--);for(let h=0;h<o.length;h++){let _=o[h],T=e;if(r.matchBase&&_.length===1&&(T=[f]),this.matchOne(T,_,n))return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}static defaults(e){return Ef.defaults(e).Minimatch}};Ef.Minimatch=cm});var CT=Ie(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.DiagnosticFeature=Fp.DiagnosticPullMode=Fp.vsdiag=void 0;var fL=by(),Hr=require("vscode"),os=ir(),dL=No(),pT=Qr();function wy(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Cd;(function(t){let e;(function(n){n.full="full",n.unChanged="unChanged"})(e=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={}))})(Cd||(Fp.vsdiag=Cd={}));var Ry;(function(t){t.onType="onType",t.onSave="onSave"})(Ry||(Fp.DiagnosticPullMode=Ry={}));var Mc;(function(t){t.active="open",t.reschedule="reschedule",t.outDated="drop"})(Mc||(Mc={}));var gT=class t{constructor(){this.open=new Set,this._onOpen=new Hr.EventEmitter,this._onClose=new Hr.EventEmitter,t.fillTabResources(this.open);let e=n=>{if(n.closed.length===0&&n.opened.length===0)return;let r=this.open,o=new Set;t.fillTabResources(o);let f=new Set,h=new Set(o);for(let _ of r.values())o.has(_)?h.delete(_):f.add(_);if(this.open=o,f.size>0){let _=new Set;for(let T of f)_.add(Hr.Uri.parse(T));this._onClose.fire(_)}if(h.size>0){let _=new Set;for(let T of h)_.add(Hr.Uri.parse(T));this._onOpen.fire(_)}};Hr.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=Hr.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof Hr.Uri?Hr.window.activeTextEditor?.document.uri===e:Hr.window.activeTextEditor?.document===e}isVisible(e){let n=e instanceof Hr.Uri?e:e.uri;return this.open.has(n.toString())}getTabResources(){let e=new Set;return t.fillTabResources(new Set,e),e}static fillTabResources(e,n){let r=e??new Set;for(let o of Hr.window.tabGroups.all)for(let f of o.tabs){let h=f.input,_;h instanceof Hr.TabInputText?_=h.uri:h instanceof Hr.TabInputTextDiff?_=h.modified:h instanceof Hr.TabInputCustom&&(_=h.uri),_!==void 0&&!r.has(_.toString())&&(r.add(_.toString()),n!==void 0&&n.add(_))}}},Vs;(function(t){t[t.document=1]="document",t[t.workspace=2]="workspace"})(Vs||(Vs={}));var Kh;(function(t){function e(n){return n instanceof Hr.Uri?n.toString():n.uri.toString()}t.asKey=e})(Kh||(Kh={}));var mT=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,n,r){let o=e===Vs.document?this.documentPullStates:this.workspacePullStates,[f,h,_]=n instanceof Hr.Uri?[n.toString(),n,r]:[n.uri.toString(),n.uri,n.version],T=o.get(f);return T===void 0&&(T={document:h,pulledVersion:_,resultId:void 0},o.set(f,T)),T}update(e,n,r,o){let f=e===Vs.document?this.documentPullStates:this.workspacePullStates,[h,_,T,N]=n instanceof Hr.Uri?[n.toString(),n,r,o]:[n.uri.toString(),n.uri,n.version,r],A=f.get(h);A===void 0?(A={document:_,pulledVersion:T,resultId:N},f.set(h,A)):(A.pulledVersion=T,A.resultId=N)}unTrack(e,n){let r=Kh.asKey(n);(e===Vs.document?this.documentPullStates:this.workspacePullStates).delete(r)}tracks(e,n){let r=Kh.asKey(n);return(e===Vs.document?this.documentPullStates:this.workspacePullStates).has(r)}getResultId(e,n){let r=Kh.asKey(n);return(e===Vs.document?this.documentPullStates:this.workspacePullStates).get(r)?.resultId}getAllResultIds(){let e=[];for(let[n,r]of this.workspacePullStates)this.documentPullStates.has(n)&&(r=this.documentPullStates.get(n)),r.resultId!==void 0&&e.push({uri:n,value:r.resultId});return e}},_T=class{constructor(e,n,r){this.client=e,this.tabs=n,this.options=r,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new Hr.EventEmitter,this.provider=this.createProvider(),this.diagnostics=Hr.languages.createDiagnosticCollection(r.identifier),this.openRequests=new Map,this.documentStates=new mT,this.workspaceErrorCounter=0}knows(e,n){let r=n instanceof Hr.Uri?n:n.uri;return this.documentStates.tracks(e,n)||this.openRequests.has(r.toString())}forget(e,n){this.documentStates.unTrack(e,n)}pull(e,n){if(this.isDisposed)return;let r=e instanceof Hr.Uri?e:e.uri;this.pullAsync(e).then(()=>{n&&n()},o=>{this.client.error(`Document pull failed for text document ${r.toString()}`,o,!1)})}async pullAsync(e,n){if(this.isDisposed)return;let r=e instanceof Hr.Uri,o=r?e:e.uri,f=o.toString();n=r?n:e.version;let h=this.openRequests.get(f),_=r?this.documentStates.track(Vs.document,e,n):this.documentStates.track(Vs.document,e);if(h===void 0){let T=new Hr.CancellationTokenSource;this.openRequests.set(f,{state:Mc.active,document:e,version:n,tokenSource:T});let N,A;try{N=await this.provider.provideDiagnostics(e,_.resultId,T.token)??{kind:Cd.DocumentDiagnosticReportKind.full,items:[]}}catch(U){if(U instanceof pT.LSPCancellationError&&os.DiagnosticServerCancellationData.is(U.data)&&U.data.retriggerRequest===!1&&(A={state:Mc.outDated,document:e}),A===void 0&&U instanceof Hr.CancellationError)A={state:Mc.reschedule,document:e};else throw U}if(A=A??this.openRequests.get(f),A===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${f}`),this.diagnostics.delete(o);return}if(this.openRequests.delete(f),!this.tabs.isVisible(e)){this.documentStates.unTrack(Vs.document,e);return}if(A.state===Mc.outDated)return;N!==void 0&&(N.kind===Cd.DocumentDiagnosticReportKind.full&&this.diagnostics.set(o,N.items),_.pulledVersion=n,_.resultId=N.resultId),A.state===Mc.reschedule&&this.pull(e)}else h.state===Mc.active?(h.tokenSource.cancel(),this.openRequests.set(f,{state:Mc.reschedule,document:h.document})):h.state===Mc.outDated&&this.openRequests.set(f,{state:Mc.reschedule,document:h.document})}forgetDocument(e){let n=e instanceof Hr.Uri?e:e.uri,r=n.toString(),o=this.openRequests.get(r);this.options.workspaceDiagnostics?o!==void 0?this.openRequests.set(r,{state:Mc.reschedule,document:e}):this.pull(e,()=>{this.forget(Vs.document,e)}):(o!==void 0&&(o.state===Mc.active&&o.tokenSource.cancel(),this.openRequests.set(r,{state:Mc.outDated,document:e})),this.diagnostics.delete(n),this.forget(Vs.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,os.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof pT.LSPCancellationError)&&!os.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,os.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new Hr.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(n=>({uri:this.client.protocol2CodeConverter.asUri(n.uri),value:n.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,n=>{if(!(!n||this.isDisposed))for(let r of n.items)r.kind===Cd.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(Vs.document,r.uri)||this.diagnostics.set(r.uri,r.items)),this.documentStates.update(Vs.workspace,r.uri,r.version??void 0,r.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(n,r,o)=>{let f=(_,T,N)=>{let A={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(_ instanceof Hr.Uri?_:_.uri)},previousResultId:T};return this.isDisposed===!0||!this.client.isRunning()?{kind:Cd.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(os.DocumentDiagnosticRequest.type,A,N).then(async U=>U==null||this.isDisposed||N.isCancellationRequested?{kind:Cd.DocumentDiagnosticReportKind.full,items:[]}:U.kind===os.DocumentDiagnosticReportKind.Full?{kind:Cd.DocumentDiagnosticReportKind.full,resultId:U.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(U.items,N)}:{kind:Cd.DocumentDiagnosticReportKind.unChanged,resultId:U.resultId},U=>this.client.handleFailedRequest(os.DocumentDiagnosticRequest.type,N,U,{kind:Cd.DocumentDiagnosticReportKind.full,items:[]}))},h=this.client.middleware;return h.provideDiagnostics?h.provideDiagnostics(n,r,o,f):f(n,r,o)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(n,r,o)=>{let f=async N=>N.kind===os.DocumentDiagnosticReportKind.Full?{kind:Cd.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(N.uri),resultId:N.resultId,version:N.version,items:await this.client.protocol2CodeConverter.asDiagnostics(N.items,r)}:{kind:Cd.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(N.uri),resultId:N.resultId,version:N.version},h=N=>{let A=[];for(let U of N)A.push({uri:this.client.code2ProtocolConverter.asUri(U.uri),value:U.value});return A},_=(N,A)=>{let U=(0,dL.generateUuid)(),H=this.client.onProgress(os.WorkspaceDiagnosticRequest.partialResult,U,async Y=>{if(Y==null){o(null);return}let ye={items:[]};for(let Ce of Y.items)try{ye.items.push(await f(Ce))}catch(qe){this.client.error("Converting workspace diagnostics failed.",qe)}o(ye)}),te={identifier:this.options.identifier,previousResultIds:h(N),partialResultToken:U};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(os.WorkspaceDiagnosticRequest.type,te,A).then(async Y=>{if(A.isCancellationRequested)return{items:[]};let ye={items:[]};for(let Ce of Y.items)ye.items.push(await f(Ce));return H.dispose(),o(ye),{items:[]}},Y=>(H.dispose(),this.client.handleFailedRequest(os.DocumentDiagnosticRequest.type,A,Y,{items:[]})))},T=this.client.middleware;return T.provideWorkspaceDiagnostics?T.provideWorkspaceDiagnostics(n,r,o,_):_(n,r,o)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,n]of this.openRequests)n.state===Mc.active&&n.tokenSource.cancel(),this.openRequests.set(e,{state:Mc.outDated,document:n.document});this.diagnostics.dispose()}},yT=class{constructor(e){this.diagnosticRequestor=e,this.documents=new os.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let n=Kh.asKey(e);this.documents.has(n)||(this.documents.set(n,e,os.Touch.Last),this.trigger())}remove(e){let n=Kh.asKey(e);this.documents.delete(n),this.documents.size===0?this.stop():n===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,os.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let n=Kh.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(n,e,os.Touch.Last),n===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?Kh.asKey(this.endDocument):void 0}},ST=class{constructor(e,n,r){let o=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},f=e.protocol2CodeConverter.asDocumentSelector(r.documentSelector),h=[],_=Y=>{let ye=r.documentSelector;if(o.match!==void 0)return o.match(ye,Y);for(let Ce of ye)if(os.TextDocumentFilter.is(Ce)){if(typeof Ce=="string"||Ce.language!==void 0&&Ce.language!=="*"||Ce.scheme!==void 0&&Ce.scheme!=="*"&&Ce.scheme!==Y.scheme)return!1;if(Ce.pattern!==void 0){let qe=new fL.Minimatch(Ce.pattern,{noext:!0});if(!qe.makeRe()||!qe.match(Y.fsPath))return!1}}return!0},T=Y=>Y instanceof Hr.Uri?_(Y):Hr.languages.match(f,Y)>0&&n.isVisible(Y),N=Y=>Y instanceof Hr.Uri?this.activeTextDocument?.uri.toString()===Y.toString():this.activeTextDocument===Y;this.diagnosticRequestor=new _T(e,n,r),this.backgroundScheduler=new yT(this.diagnosticRequestor);let A=Y=>{!T(Y)||!r.interFileDependencies||N(Y)||this.backgroundScheduler.add(Y)};this.activeTextDocument=Hr.window.activeTextEditor?.document,Hr.window.onDidChangeActiveTextEditor(Y=>{let ye=this.activeTextDocument;this.activeTextDocument=Y?.document,ye!==void 0&&A(ye),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let U=e.getFeature(os.DidOpenTextDocumentNotification.method);h.push(U.onNotificationSent(Y=>{let ye=Y.textDocument;this.diagnosticRequestor.knows(Vs.document,ye)||T(ye)&&this.diagnosticRequestor.pull(ye,()=>{A(ye)})})),h.push(n.onOpen(Y=>{for(let ye of Y){if(this.diagnosticRequestor.knows(Vs.document,ye))continue;let Ce=ye.toString(),qe;for(let _e of Hr.workspace.textDocuments)if(Ce===_e.uri.toString()){qe=_e;break}qe!==void 0&&T(qe)&&this.diagnosticRequestor.pull(qe,()=>{A(qe)})}}));let H=new Set;for(let Y of Hr.workspace.textDocuments)T(Y)&&(this.diagnosticRequestor.pull(Y,()=>{A(Y)}),H.add(Y.uri.toString()));if(o.onTabs===!0)for(let Y of n.getTabResources())!H.has(Y.toString())&&T(Y)&&this.diagnosticRequestor.pull(Y,()=>{A(Y)});if(o.onChange===!0){let Y=e.getFeature(os.DidChangeTextDocumentNotification.method);h.push(Y.onNotificationSent(async ye=>{let Ce=ye.textDocument;(o.filter===void 0||!o.filter(Ce,Ry.onType))&&this.diagnosticRequestor.knows(Vs.document,Ce)&&this.diagnosticRequestor.pull(Ce,()=>{this.backgroundScheduler.trigger()})}))}if(o.onSave===!0){let Y=e.getFeature(os.DidSaveTextDocumentNotification.method);h.push(Y.onNotificationSent(ye=>{let Ce=ye.textDocument;(o.filter===void 0||!o.filter(Ce,Ry.onSave))&&this.diagnosticRequestor.knows(Vs.document,Ce)&&this.diagnosticRequestor.pull(ye.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let te=e.getFeature(os.DidCloseTextDocumentNotification.method);h.push(te.onNotificationSent(Y=>{this.cleanUpDocument(Y.textDocument)})),n.onClose(Y=>{for(let ye of Y)this.cleanUpDocument(ye)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let Y of Hr.workspace.textDocuments)T(Y)&&this.diagnosticRequestor.pull(Y)}),r.workspaceDiagnostics===!0&&r.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=Hr.Disposable.from(...h,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(Vs.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},DT=class extends pT.TextDocumentLanguageFeature{constructor(e){super(e,os.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let n=wy(wy(e,"textDocument"),"diagnostic");n.dynamicRegistration=!0,n.relatedDocumentSupport=!1,wy(wy(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,n){this._client.onRequest(os.DiagnosticRefreshRequest.type,async()=>{for(let h of this.getAllProviders())h.onDidChangeDiagnosticsEmitter.fire()});let[o,f]=this.getRegistration(n,e.diagnosticProvider);!o||!f||this.register({id:o,registerOptions:f})}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new gT);let n=new ST(this._client,this.tabs,e);return[n.disposable,n]}};Fp.DiagnosticFeature=DT});var AI=Ie(Oy=>{"use strict";Object.defineProperty(Oy,"__esModule",{value:!0});Oy.NotebookDocumentSyncFeature=void 0;var qc=require("vscode"),vL=by(),Gh=ir(),hL=No(),FI=md();function LI(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var um;(function(t){let e;(function(n){function r(H,te){return{version:H.version,uri:te.asUri(H.uri)}}n.asVersionedNotebookDocumentIdentifier=r;function o(H,te,Y){let ye=Gh.NotebookDocument.create(Y.asUri(H.uri),H.notebookType,H.version,f(te,Y));return Object.keys(H.metadata).length>0&&(ye.metadata=h(H.metadata)),ye}n.asNotebookDocument=o;function f(H,te){return H.map(Y=>_(Y,te))}n.asNotebookCells=f;function h(H){return N(new Set,H)}n.asMetadata=h;function _(H,te){let Y=Gh.NotebookCell.create(T(H.kind),te.asUri(H.document.uri));return Object.keys(H.metadata).length>0&&(Y.metadata=h(H.metadata)),H.executionSummary!==void 0&&FI.number(H.executionSummary.executionOrder)&&FI.boolean(H.executionSummary.success)&&(Y.executionSummary={executionOrder:H.executionSummary.executionOrder,success:H.executionSummary.success}),Y}n.asNotebookCell=_;function T(H){switch(H){case qc.NotebookCellKind.Markup:return Gh.NotebookCellKind.Markup;case qc.NotebookCellKind.Code:return Gh.NotebookCellKind.Code}}function N(H,te){if(H.has(te))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(te)){let Y=[];for(let ye of te)if(ye!==null&&typeof ye=="object"||Array.isArray(ye))Y.push(N(H,ye));else{if(ye instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");Y.push(ye)}return Y}else{let Y=Object.keys(te),ye=Object.create(null);for(let Ce of Y){let qe=te[Ce];if(qe!==null&&typeof qe=="object"||Array.isArray(qe))ye[Ce]=N(H,qe);else{if(qe instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");ye[Ce]=qe}}return ye}}function A(H,te){let Y=te.asChangeTextDocumentParams(H,H.document.uri,H.document.version);return{document:Y.textDocument,changes:Y.contentChanges}}n.asTextContentChange=A;function U(H,te){let Y=Object.create(null);if(H.metadata&&(Y.metadata=t.c2p.asMetadata(H.metadata)),H.cells!==void 0){let ye=Object.create(null),Ce=H.cells;Ce.structure&&(ye.structure={array:{start:Ce.structure.array.start,deleteCount:Ce.structure.array.deleteCount,cells:Ce.structure.array.cells!==void 0?Ce.structure.array.cells.map(qe=>t.c2p.asNotebookCell(qe,te)):void 0},didOpen:Ce.structure.didOpen!==void 0?Ce.structure.didOpen.map(qe=>te.asOpenTextDocumentParams(qe.document).textDocument):void 0,didClose:Ce.structure.didClose!==void 0?Ce.structure.didClose.map(qe=>te.asCloseTextDocumentParams(qe.document).textDocument):void 0}),Ce.data!==void 0&&(ye.data=Ce.data.map(qe=>t.c2p.asNotebookCell(qe,te))),Ce.textContent!==void 0&&(ye.textContent=Ce.textContent.map(qe=>t.c2p.asTextContentChange(qe,te))),Object.keys(ye).length>0&&(Y.cells=ye)}return Y}n.asNotebookDocumentChangeEvent=U})(e=t.c2p||(t.c2p={}))})(um||(um={}));var TT;(function(t){function e(_,T,N){let A=_.length,U=T.length,H=0;for(;H<U&&H<A&&n(_[H],T[H],N);)H++;if(H<U&&H<A){let te=A-1,Y=U-1;for(;te>=0&&Y>=0&&n(_[te],T[Y],N);)te--,Y--;let ye=te+1-H,Ce=H===Y+1?void 0:T.slice(H,Y+1);return Ce!==void 0?{start:H,deleteCount:ye,cells:Ce}:{start:H,deleteCount:ye}}else return H<U?{start:H,deleteCount:0,cells:T.slice(H)}:H<A?{start:H,deleteCount:A-H}:void 0}t.computeDiff=e;function n(_,T,N=!0){return _.kind!==T.kind||_.document.uri.toString()!==T.document.uri.toString()||_.document.languageId!==T.document.languageId||!r(_.executionSummary,T.executionSummary)?!1:!N||N&&f(_.metadata,T.metadata)}function r(_,T){return _===T?!0:_===void 0||T===void 0?!1:_.executionOrder===T.executionOrder&&_.success===T.success&&o(_.timing,T.timing)}function o(_,T){return _===T?!0:_===void 0||T===void 0?!1:_.startTime===T.startTime&&_.endTime===T.endTime}function f(_,T){if(_===T)return!0;if(_==null||T===null||T===void 0||typeof _!=typeof T||typeof _!="object")return!1;let N=Array.isArray(_),A=Array.isArray(T);if(N!==A)return!1;if(N&&A){if(_.length!==T.length)return!1;for(let U=0;U<_.length;U++)if(!f(_[U],T[U]))return!1}if(h(_)&&h(T)){let U=Object.keys(_),H=Object.keys(T);if(U.length!==H.length||(U.sort(),H.sort(),!f(U,H)))return!1;for(let te=0;te<U.length;te++){let Y=U[te];if(!f(_[Y],T[Y]))return!1}return!0}return!1}function h(_){return _!==null&&typeof _=="object"}t.isObjectLiteral=h})(TT||(TT={}));var ET;(function(t){function e(n,r){if(typeof n=="string")return n==="*"||r.notebookType===n;if(n.notebookType!==void 0&&n.notebookType!=="*"&&r.notebookType!==n.notebookType)return!1;let o=r.uri;if(n.scheme!==void 0&&n.scheme!=="*"&&o.scheme!==n.scheme)return!1;if(n.pattern!==void 0){let f=new vL.Minimatch(n.pattern,{noext:!0});if(!f.makeRe()||!f.match(o.fsPath))return!1}return!0}t.matchNotebook=e})(ET||(ET={}));var Py;(function(t){function e(r){let o=r.notebookSelector,f=[];for(let h of o){let _=(typeof h.notebook=="string"?h.notebook:h.notebook?.notebookType)??"*",T=typeof h.notebook=="string"?void 0:h.notebook?.scheme,N=typeof h.notebook=="string"?void 0:h.notebook?.pattern;if(h.cells!==void 0)for(let A of h.cells)f.push(n(_,T,N,A.language));else f.push(n(_,T,N,void 0))}return f}t.asDocumentSelector=e;function n(r,o,f,h){return o===void 0&&f===void 0?{notebook:r,language:h}:{notebook:{notebookType:r,scheme:o,pattern:f},language:h}}})(Py||(Py={}));var Iy;(function(t){function e(n){return{cells:n,uris:new Set(n.map(r=>r.document.uri.toString()))}}t.create=e})(Iy||(Iy={}));var lm=class{constructor(e,n){this.client=e,this.options=n,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(Py.asDocumentSelector(n)),qc.workspace.onDidOpenNotebookDocument(r=>{this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r)},void 0,this.disposables);for(let r of qc.workspace.notebookDocuments)this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r);qc.workspace.onDidChangeNotebookDocument(r=>this.didChangeNotebookDocument(r),void 0,this.disposables),this.options.save===!0&&qc.workspace.onDidSaveNotebookDocument(r=>this.didSave(r),void 0,this.disposables),qc.workspace.onDidCloseNotebookDocument(r=>{this.didClose(r),this.notebookDidOpen.delete(r.uri.toString())},void 0,this.disposables)}getState(){for(let e of qc.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return qc.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,n){if(qc.languages.match(this.selector,n.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let r=this.notebookSyncInfo.get(e.uri.toString()),o=this.cellMatches(e,n);if(r!==void 0){let f=r.uris.has(n.document.uri.toString());if(o&&f||!o&&!f)return;if(o){let h=this.getMatchingCells(e);if(h!==void 0){let _=this.asNotebookDocumentChangeEvent(e,void 0,r,h);_!==void 0&&this.doSendChange(_,h).catch(()=>{})}}}else o&&this.doSendOpen(e,[n]).catch(()=>{})}didChangeNotebookCellTextDocument(e,n){qc.languages.match(this.selector,n.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[n]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,n){let r=this.notebookSyncInfo.get(e.uri.toString());if(r===void 0)return;let o=n.document.uri,f=r.cells.findIndex(h=>h.document.uri.toString()===o.toString());if(f!==-1)if(f===0&&r.cells.length===1)this.doSendClose(e,r.cells).catch(()=>{});else{let h=r.cells.slice(),_=h.splice(f,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:f,deleteCount:1},didClose:_}}},h).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,n=this.getMatchingCells(e),r=this.notebookSyncInfo.get(e.uri.toString())){if(r!==void 0)if(n!==void 0){let o=this.asNotebookDocumentChangeEvent(e,void 0,r,n);o!==void 0&&this.doSendChange(o,n).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(n===void 0)return;this.doSendOpen(e,n).catch(()=>{})}}didChangeNotebookDocument(e){let n=e.notebook,r=this.notebookSyncInfo.get(n.uri.toString());if(r===void 0){if(e.contentChanges.length===0)return;let o=this.getMatchingCells(n);if(o===void 0)return;this.didOpen(n,o,r)}else{let o=this.getMatchingCells(n);if(o===void 0){this.didClose(n,r);return}let f=this.asNotebookDocumentChangeEvent(e.notebook,e,r,o);f!==void 0&&this.doSendChange(f,o).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,n=this.notebookSyncInfo.get(e.uri.toString())){if(n===void 0)return;let r=e.getCells().filter(o=>n.uris.has(o.document.uri.toString()));this.doSendClose(e,r).catch(()=>{})}async sendDidOpenNotebookDocument(e){let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,n){let r=async(f,h)=>{let _=um.c2p.asNotebookDocument(f,h,this.client.code2ProtocolConverter),T=h.map(N=>this.client.code2ProtocolConverter.asTextDocumentItem(N.document));try{await this.client.sendNotification(Gh.DidOpenNotebookDocumentNotification.type,{notebookDocument:_,cellTextDocuments:T})}catch(N){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",N),N}},o=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),Iy.create(n)),o?.didOpen!==void 0?o.didOpen(e,n,r):r(e,n)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,n=this.getMatchingCells(e.notebook)){let r=async f=>{try{await this.client.sendNotification(Gh.DidChangeNotebookDocumentNotification.type,{notebookDocument:um.c2p.asVersionedNotebookDocumentIdentifier(f.notebook,this.client.code2ProtocolConverter),change:um.c2p.asNotebookDocumentChangeEvent(f,this.client.code2ProtocolConverter)})}catch(h){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",h),h}},o=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),Iy.create(n??[])),o?.didChange!==void 0?o?.didChange(e,r):r(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let n=async o=>{try{await this.client.sendNotification(Gh.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)}})}catch(f){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",f),f}},r=this.client.middleware?.notebooks;return r?.didSave!==void 0?r.didSave(e,n):n(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,n){let r=async(f,h)=>{try{await this.client.sendNotification(Gh.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(f.uri)},cellTextDocuments:h.map(_=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(_.document))})}catch(_){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",_),_}},o=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),o?.didClose!==void 0?o.didClose(e,n,r):r(e,n)}asNotebookDocumentChangeEvent(e,n,r,o){if(n!==void 0&&n.notebook!==e)throw new Error("Notebook must be identical");let f={notebook:e};n?.metadata!==void 0&&(f.metadata=um.c2p.asMetadata(n.metadata));let h;if(n?.cellChanges!==void 0&&n.cellChanges.length>0){let _=[];h=new Set(o.map(T=>T.document.uri.toString()));for(let T of n.cellChanges)h.has(T.cell.document.uri.toString())&&(T.executionSummary!==void 0||T.metadata!==void 0)&&_.push(T.cell);_.length>0&&(f.cells=f.cells??{},f.cells.data=_)}if((n?.contentChanges!==void 0&&n.contentChanges.length>0||n===void 0)&&r!==void 0&&o!==void 0){let _=r.cells,T=o,N=TT.computeDiff(_,T,!1),A,U;if(N!==void 0){A=N.cells===void 0?new Map:new Map(N.cells.map(Y=>[Y.document.uri.toString(),Y])),U=N.deleteCount===0?new Map:new Map(_.slice(N.start,N.start+N.deleteCount).map(Y=>[Y.document.uri.toString(),Y]));for(let Y of Array.from(U.keys()))A.has(Y)&&(U.delete(Y),A.delete(Y));f.cells=f.cells??{};let H=[],te=[];if(A.size>0||U.size>0){for(let Y of A.values())H.push(Y);for(let Y of U.values())te.push(Y)}f.cells.structure={array:N,didOpen:H,didClose:te}}}return Object.keys(f).length>1?f:void 0}getMatchingCells(e,n=e.getCells()){if(this.options.notebookSelector!==void 0){for(let r of this.options.notebookSelector)if(r.notebook===void 0||ET.matchNotebook(r.notebook,e)){let o=this.filterCells(e,n,r.cells);return o.length===0?void 0:o}}}cellMatches(e,n){let r=this.getMatchingCells(e,[n]);return r!==void 0&&r[0]===n}filterCells(e,n,r){let o=r!==void 0?n.filter(f=>{let h=f.document.languageId;return r.some(_=>_.language==="*"||h===_.language)}):n;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,o):o}},Ny=class t{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Gh.NotebookDocumentSyncRegistrationType.type,qc.workspace.onDidOpenTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[r,o]=this.findNotebookDocumentAndCell(n);if(!(r===void 0||o===void 0))for(let f of this.registrations.values())f instanceof lm&&f.didOpenNotebookCellTextDocument(r,o)}),qc.workspace.onDidChangeTextDocument(n=>{if(n.contentChanges.length===0)return;let r=n.document;if(r.uri.scheme!==t.CellScheme)return;let[o]=this.findNotebookDocumentAndCell(r);if(o!==void 0)for(let f of this.registrations.values())f instanceof lm&&f.didChangeNotebookCellTextDocument(o,n)}),qc.workspace.onDidCloseTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[r,o]=this.findNotebookDocumentAndCell(n);if(!(r===void 0||o===void 0))for(let f of this.registrations.values())f instanceof lm&&f.didCloseNotebookCellTextDocument(r,o)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let n=e.getState();if(n.kind==="document"&&n.registrations===!0&&n.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let n=LI(LI(e,"notebookDocument"),"synchronization");n.dynamicRegistration=!0,n.executionSummarySupport=!0}preInitialize(e){let n=e.notebookDocumentSync;n!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(Py.asDocumentSelector(n)))}initialize(e){let n=e.notebookDocumentSync;if(n===void 0)return;let r=n.id??hL.generateUuid();this.register({id:r,registerOptions:n})}register(e){let n=new lm(this.client,e.registerOptions);this.registrations.set(e.id,n)}unregister(e){let n=this.registrations.get(e);n&&n.dispose()}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==t.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&qc.languages.match(this.dedicatedChannel,e)>0)return!0;for(let n of this.registrations.values())if(n.handles(e))return!0;return!1}getProvider(e){for(let n of this.registrations.values())if(n.handles(e.document))return n}findNotebookDocumentAndCell(e){let n=e.uri.toString();for(let r of qc.workspace.notebookDocuments)for(let o of r.getCells())if(o.document.uri.toString()===n)return[r,o];return[void 0,void 0]}};Oy.NotebookDocumentSyncFeature=Ny;Ny.CellScheme="vscode-notebook-cell"});var qI=Ie(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.SyncConfigurationFeature=Lp.toJSONObject=Lp.ConfigurationFeature=void 0;var fm=require("vscode"),Vm=ir(),pL=md(),gL=No(),MI=Qr(),bT=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(Vm.ConfigurationRequest.type,(n,r)=>{let o=h=>{let _=[];for(let T of h.items){let N=T.scopeUri!==void 0&&T.scopeUri!==null?this._client.protocol2CodeConverter.asUri(T.scopeUri):void 0;_.push(this.getConfiguration(N,T.section!==null?T.section:void 0))}return _},f=e.middleware.workspace;return f&&f.configuration?f.configuration(n,r,o):o(n,r)})}getConfiguration(e,n){let r=null;if(n){let o=n.lastIndexOf(".");if(o===-1)r=_g(fm.workspace.getConfiguration(void 0,e).get(n));else{let f=fm.workspace.getConfiguration(n.substr(0,o),e);f&&(r=_g(f.get(n.substr(o+1))))}}else{let o=fm.workspace.getConfiguration(void 0,e);r={};for(let f of Object.keys(o))o.has(f)&&(r[f]=_g(o.get(f)))}return r===void 0&&(r=null),r}clear(){}};Lp.ConfigurationFeature=bT;function _g(t){if(t){if(Array.isArray(t))return t.map(_g);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=_g(t[n]));return e}}return t}Lp.toJSONObject=_g;var wT=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return Vm.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,MI.ensure)((0,MI.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:gL.generateUuid(),registerOptions:{section:e}})}register(e){let n=fm.workspace.onDidChangeConfiguration(r=>{this.onDidChangeConfiguration(e.registerOptions.section,r)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,n){if(this.isCleared)return;let r;if(pL.string(e)?r=[e]:r=e,r!==void 0&&n!==void 0&&!r.some(_=>n.affectsConfiguration(_)))return;let o=async h=>h===void 0?this._client.sendNotification(Vm.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(Vm.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(h)}),f=this._client.middleware.workspace?.didChangeConfiguration;(f?f(r,o):o(r)).catch(h=>{this._client.error(`Sending notification ${Vm.DidChangeConfigurationNotification.type.method} failed`,h)})}extractSettingsInformation(e){function n(f,h){let _=f;for(let T=0;T<h.length-1;T++){let N=_[h[T]];N||(N=Object.create(null),_[h[T]]=N),_=N}return _}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,o=Object.create(null);for(let f=0;f<e.length;f++){let h=e[f],_=h.indexOf("."),T=null;if(_>=0?T=fm.workspace.getConfiguration(h.substr(0,_),r).get(h.substr(_+1)):T=fm.workspace.getConfiguration(void 0,r).get(h),T){let N=e[f].split(".");n(o,N)[N[N.length-1]]=_g(T)}}return o}};Lp.SyncConfigurationFeature=wT});var UI=Ie(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.DidSaveTextDocumentFeature=ml.WillSaveWaitUntilFeature=ml.WillSaveFeature=ml.DidChangeTextDocumentFeature=ml.DidCloseTextDocumentFeature=ml.DidOpenTextDocumentFeature=void 0;var bf=require("vscode"),Yi=ir(),zo=Qr(),dm=No(),RT=class extends zo.TextDocumentEventFeature{constructor(e,n){super(e,bf.workspace.onDidOpenTextDocument,Yi.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),r=>r,zo.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,zo.ensure)((0,zo.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:dm.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return Yi.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);bf.workspace.textDocuments.forEach(r=>{let o=r.uri.toString();if(!this._syncedDocuments.has(o)&&bf.languages.match(n,r)>0&&!this._client.hasDedicatedTextSynchronizationFeature(r)){let f=this._client.middleware,h=_=>this._client.sendNotification(this._type,this._createParams(_));(f.didOpen?f.didOpen(r,h):h(r)).catch(_=>{this._client.error(`Sending document notification ${this._type.method} failed`,_)}),this._syncedDocuments.set(o,r)}})}getTextDocument(e){return e}notificationSent(e,n,r){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,n,r)}};ml.DidOpenTextDocumentFeature=RT;var PT=class extends zo.TextDocumentEventFeature{constructor(e,n,r){super(e,bf.workspace.onDidCloseTextDocument,Yi.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,o=>e.code2ProtocolConverter.asCloseTextDocumentParams(o),o=>o,zo.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n,this._pendingTextDocumentChanges=r}get registrationType(){return Yi.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,zo.ensure)((0,zo.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:dm.generateUuid(),registerOptions:{documentSelector:n}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,n,r){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,n,r)}unregister(e){let n=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(o=>{if(bf.languages.match(n,o)>0&&!this._selectorFilter(r,o)&&!this._client.hasDedicatedTextSynchronizationFeature(o)){let f=this._client.middleware,h=_=>this._client.sendNotification(this._type,this._createParams(_));this._syncedDocuments.delete(o.uri.toString()),(f.didClose?f.didClose(o,h):h(o)).catch(_=>{this._client.error(`Sending document notification ${this._type.method} failed`,_)})}})}};ml.DidCloseTextDocumentFeature=PT;var IT=class extends zo.DynamicDocumentFeature{constructor(e,n){super(e),this._changeData=new Map,this._onNotificationSent=new bf.EventEmitter,this._onPendingChangeAdded=new bf.EventEmitter,this._pendingTextDocumentChanges=n,this._syncKind=Yi.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return Yi.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,zo.ensure)((0,zo.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.change!==void 0&&r.change!==Yi.TextDocumentSyncKind.None&&this.register({id:dm.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:r.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=bf.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let n=e.document.uri,r=e.document.version,o=[];for(let f of this._changeData.values())if(bf.languages.match(f.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let h=this._client.middleware;if(f.syncKind===Yi.TextDocumentSyncKind.Incremental){let _=async T=>{let N=this._client.code2ProtocolConverter.asChangeTextDocumentParams(T,n,r);await this._client.sendNotification(Yi.DidChangeTextDocumentNotification.type,N),this.notificationSent(T.document,Yi.DidChangeTextDocumentNotification.type,N)};o.push(h.didChange?h.didChange(e,T=>_(T)):_(e))}else if(f.syncKind===Yi.TextDocumentSyncKind.Full){let _=async T=>{let N=T.document.uri.toString();this._pendingTextDocumentChanges.set(N,T.document),this._onPendingChangeAdded.fire()};o.push(h.didChange?h.didChange(e,T=>_(T)):_(e))}}return Promise.all(o).then(void 0,f=>{throw this._client.error(`Sending document notification ${Yi.DidChangeTextDocumentNotification.type.method} failed`,f),f})}notificationSent(e,n,r){this._onNotificationSent.fire({textDocument:e,type:n,params:r})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=Yi.TextDocumentSyncKind.None;else{this._syncKind=Yi.TextDocumentSyncKind.None;for(let n of this._changeData.values())if(this.updateSyncKind(n.syncKind),this._syncKind===Yi.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=Yi.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let n;if(e.size===0)n=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{n=[];for(let r of this._pendingTextDocumentChanges)e.has(r[0])||(n.push(r[1]),this._pendingTextDocumentChanges.delete(r[0]))}return n}getProvider(e){for(let n of this._changeData.values())if(bf.languages.match(n.documentSelector,e)>0)return{send:r=>this.callback(r)}}updateSyncKind(e){if(this._syncKind!==Yi.TextDocumentSyncKind.Full)switch(e){case Yi.TextDocumentSyncKind.Full:this._syncKind=e;break;case Yi.TextDocumentSyncKind.Incremental:this._syncKind===Yi.TextDocumentSyncKind.None&&(this._syncKind=Yi.TextDocumentSyncKind.Incremental);break}}};ml.DidChangeTextDocumentFeature=IT;var NT=class extends zo.TextDocumentEventFeature{constructor(e){super(e,bf.workspace.onWillSaveTextDocument,Yi.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),n=>n.document,(n,r)=>zo.TextDocumentEventFeature.textDocumentFilter(n,r.document))}get registrationType(){return Yi.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=(0,zo.ensure)((0,zo.ensure)(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSave&&this.register({id:dm.generateUuid(),registerOptions:{documentSelector:n}})}getTextDocument(e){return e.document}};ml.WillSaveFeature=NT;var OT=class extends zo.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return Yi.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=(0,zo.ensure)((0,zo.ensure)(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSaveWaitUntil&&this.register({id:dm.generateUuid(),registerOptions:{documentSelector:n}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=bf.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(zo.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let n=this._client.middleware,r=o=>this._client.sendRequest(Yi.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(o)).then(async f=>{let h=await this._client.protocol2CodeConverter.asTextEdits(f);return h===void 0?[]:h});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};ml.WillSaveWaitUntilFeature=OT;var kT=class extends zo.TextDocumentEventFeature{constructor(e){super(e,bf.workspace.onDidSaveTextDocument,Yi.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),n=>n,zo.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return Yi.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,zo.ensure)((0,zo.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;if(n&&r&&r.save){let o=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:dm.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},o)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};ml.DidSaveTextDocumentFeature=kT});var jI=Ie(ky=>{"use strict";Object.defineProperty(ky,"__esModule",{value:!0});ky.CompletionItemFeature=void 0;var mL=require("vscode"),$r=ir(),xT=Qr(),_L=No(),yL=[$r.CompletionItemKind.Text,$r.CompletionItemKind.Method,$r.CompletionItemKind.Function,$r.CompletionItemKind.Constructor,$r.CompletionItemKind.Field,$r.CompletionItemKind.Variable,$r.CompletionItemKind.Class,$r.CompletionItemKind.Interface,$r.CompletionItemKind.Module,$r.CompletionItemKind.Property,$r.CompletionItemKind.Unit,$r.CompletionItemKind.Value,$r.CompletionItemKind.Enum,$r.CompletionItemKind.Keyword,$r.CompletionItemKind.Snippet,$r.CompletionItemKind.Color,$r.CompletionItemKind.File,$r.CompletionItemKind.Reference,$r.CompletionItemKind.Folder,$r.CompletionItemKind.EnumMember,$r.CompletionItemKind.Constant,$r.CompletionItemKind.Struct,$r.CompletionItemKind.Event,$r.CompletionItemKind.Operator,$r.CompletionItemKind.TypeParameter],FT=class extends xT.TextDocumentLanguageFeature{constructor(e){super(e,$r.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let n=(0,xT.ensure)((0,xT.ensure)(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[$r.MarkupKind.Markdown,$r.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[$r.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[$r.InsertTextMode.asIs,$r.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},n.insertTextMode=$r.InsertTextMode.adjustIndentation,n.completionItemKind={valueSet:yL},n.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,n){let r=this.getRegistrationOptions(n,e.completionProvider);r&&this.register({id:_L.generateUuid(),registerOptions:r})}registerLanguageProvider(e,n){this.labelDetailsSupport.set(n,!!e.completionItem?.labelDetailsSupport);let r=e.triggerCharacters??[],o=e.allCommitCharacters,f=e.documentSelector,h={provideCompletionItems:(_,T,N,A)=>{let U=this._client,H=this._client.middleware,te=(Y,ye,Ce,qe)=>U.sendRequest($r.CompletionRequest.type,U.code2ProtocolConverter.asCompletionParams(Y,ye,Ce),qe).then(_e=>qe.isCancellationRequested?null:U.protocol2CodeConverter.asCompletionResult(_e,o,qe),_e=>U.handleFailedRequest($r.CompletionRequest.type,qe,_e,null));return H.provideCompletionItem?H.provideCompletionItem(_,T,A,N,te):te(_,T,A,N)},resolveCompletionItem:e.resolveProvider?(_,T)=>{let N=this._client,A=this._client.middleware,U=(H,te)=>N.sendRequest($r.CompletionResolveRequest.type,N.code2ProtocolConverter.asCompletionItem(H,!!this.labelDetailsSupport.get(n)),te).then(Y=>te.isCancellationRequested?null:N.protocol2CodeConverter.asCompletionItem(Y),Y=>N.handleFailedRequest($r.CompletionResolveRequest.type,te,Y,H));return A.resolveCompletionItem?A.resolveCompletionItem(_,T,U):U(_,T)}:void 0};return[mL.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(f),h,...r),h]}};ky.CompletionItemFeature=FT});var HI=Ie(xy=>{"use strict";Object.defineProperty(xy,"__esModule",{value:!0});xy.HoverFeature=void 0;var SL=require("vscode"),Xm=ir(),LT=Qr(),DL=No(),AT=class extends LT.TextDocumentLanguageFeature{constructor(e){super(e,Xm.HoverRequest.type)}fillClientCapabilities(e){let n=(0,LT.ensure)((0,LT.ensure)(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[Xm.MarkupKind.Markdown,Xm.MarkupKind.PlainText]}initialize(e,n){let r=this.getRegistrationOptions(n,e.hoverProvider);r&&this.register({id:DL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideHover:(o,f,h)=>{let _=this._client,T=(A,U,H)=>_.sendRequest(Xm.HoverRequest.type,_.code2ProtocolConverter.asTextDocumentPositionParams(A,U),H).then(te=>H.isCancellationRequested?null:_.protocol2CodeConverter.asHover(te),te=>_.handleFailedRequest(Xm.HoverRequest.type,H,te,null)),N=_.middleware;return N.provideHover?N.provideHover(o,f,h,T):T(o,f,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return SL.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};xy.HoverFeature=AT});var $I=Ie(Fy=>{"use strict";Object.defineProperty(Fy,"__esModule",{value:!0});Fy.DefinitionFeature=void 0;var CL=require("vscode"),MT=ir(),qT=Qr(),TL=No(),UT=class extends qT.TextDocumentLanguageFeature{constructor(e){super(e,MT.DefinitionRequest.type)}fillClientCapabilities(e){let n=(0,qT.ensure)((0,qT.ensure)(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.definitionProvider);r&&this.register({id:TL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDefinition:(o,f,h)=>{let _=this._client,T=(A,U,H)=>_.sendRequest(MT.DefinitionRequest.type,_.code2ProtocolConverter.asTextDocumentPositionParams(A,U),H).then(te=>H.isCancellationRequested?null:_.protocol2CodeConverter.asDefinitionResult(te,H),te=>_.handleFailedRequest(MT.DefinitionRequest.type,H,te,null)),N=_.middleware;return N.provideDefinition?N.provideDefinition(o,f,h,T):T(o,f,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return CL.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Fy.DefinitionFeature=UT});var zI=Ie(Ly=>{"use strict";Object.defineProperty(Ly,"__esModule",{value:!0});Ly.SignatureHelpFeature=void 0;var YI=require("vscode"),Jm=ir(),jT=Qr(),EL=No(),HT=class extends jT.TextDocumentLanguageFeature{constructor(e){super(e,Jm.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=(0,jT.ensure)((0,jT.ensure)(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[Jm.MarkupKind.Markdown,Jm.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.signatureHelpProvider);r&&this.register({id:EL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideSignatureHelp:(r,o,f,h)=>{let _=this._client,T=(A,U,H,te)=>_.sendRequest(Jm.SignatureHelpRequest.type,_.code2ProtocolConverter.asSignatureHelpParams(A,U,H),te).then(Y=>te.isCancellationRequested?null:_.protocol2CodeConverter.asSignatureHelp(Y,te),Y=>_.handleFailedRequest(Jm.SignatureHelpRequest.type,te,Y,null)),N=_.middleware;return N.provideSignatureHelp?N.provideSignatureHelp(r,o,h,f,T):T(r,o,h,f)}};return[this.registerProvider(e,n),n]}registerProvider(e,n){let r=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let o=e.triggerCharacters||[];return YI.languages.registerSignatureHelpProvider(r,n,...o)}else{let o={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return YI.languages.registerSignatureHelpProvider(r,n,o)}}};Ly.SignatureHelpFeature=HT});var WI=Ie(Ay=>{"use strict";Object.defineProperty(Ay,"__esModule",{value:!0});Ay.DocumentHighlightFeature=void 0;var bL=require("vscode"),$T=ir(),YT=Qr(),wL=No(),zT=class extends YT.TextDocumentLanguageFeature{constructor(e){super(e,$T.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,YT.ensure)((0,YT.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentHighlightProvider);r&&this.register({id:wL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentHighlights:(o,f,h)=>{let _=this._client,T=(A,U,H)=>_.sendRequest($T.DocumentHighlightRequest.type,_.code2ProtocolConverter.asTextDocumentPositionParams(A,U),H).then(te=>H.isCancellationRequested?null:_.protocol2CodeConverter.asDocumentHighlights(te,H),te=>_.handleFailedRequest($T.DocumentHighlightRequest.type,H,te,null)),N=_.middleware;return N.provideDocumentHighlights?N.provideDocumentHighlights(o,f,h,T):T(o,f,h)}};return[bL.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Ay.DocumentHighlightFeature=zT});var GT=Ie(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});nh.DocumentSymbolFeature=nh.SupportedSymbolTags=nh.SupportedSymbolKinds=void 0;var RL=require("vscode"),_i=ir(),WT=Qr(),PL=No();nh.SupportedSymbolKinds=[_i.SymbolKind.File,_i.SymbolKind.Module,_i.SymbolKind.Namespace,_i.SymbolKind.Package,_i.SymbolKind.Class,_i.SymbolKind.Method,_i.SymbolKind.Property,_i.SymbolKind.Field,_i.SymbolKind.Constructor,_i.SymbolKind.Enum,_i.SymbolKind.Interface,_i.SymbolKind.Function,_i.SymbolKind.Variable,_i.SymbolKind.Constant,_i.SymbolKind.String,_i.SymbolKind.Number,_i.SymbolKind.Boolean,_i.SymbolKind.Array,_i.SymbolKind.Object,_i.SymbolKind.Key,_i.SymbolKind.Null,_i.SymbolKind.EnumMember,_i.SymbolKind.Struct,_i.SymbolKind.Event,_i.SymbolKind.Operator,_i.SymbolKind.TypeParameter];nh.SupportedSymbolTags=[_i.SymbolTag.Deprecated];var KT=class extends WT.TextDocumentLanguageFeature{constructor(e){super(e,_i.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,WT.ensure)((0,WT.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:nh.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:nh.SupportedSymbolTags},n.labelSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentSymbolProvider);r&&this.register({id:PL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentSymbols:(f,h)=>{let _=this._client,T=async(A,U)=>{try{let H=await _.sendRequest(_i.DocumentSymbolRequest.type,_.code2ProtocolConverter.asDocumentSymbolParams(A),U);if(U.isCancellationRequested||H===void 0||H===null)return null;if(H.length===0)return[];{let te=H[0];return _i.DocumentSymbol.is(te)?await _.protocol2CodeConverter.asDocumentSymbols(H,U):await _.protocol2CodeConverter.asSymbolInformations(H,U)}}catch(H){return _.handleFailedRequest(_i.DocumentSymbolRequest.type,U,H,null)}},N=_.middleware;return N.provideDocumentSymbols?N.provideDocumentSymbols(f,h,T):T(f,h)}},o=e.label!==void 0?{label:e.label}:void 0;return[RL.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,o),r]}};nh.DocumentSymbolFeature=KT});var GI=Ie(My=>{"use strict";Object.defineProperty(My,"__esModule",{value:!0});My.WorkspaceSymbolFeature=void 0;var IL=require("vscode"),Qm=ir(),BT=Qr(),KI=GT(),NL=No(),VT=class extends BT.WorkspaceFeature{constructor(e){super(e,Qm.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=(0,BT.ensure)((0,BT.ensure)(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:KI.SupportedSymbolKinds},n.tagSupport={valueSet:KI.SupportedSymbolTags},n.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:NL.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(r,o)=>{let f=this._client,h=(T,N)=>f.sendRequest(Qm.WorkspaceSymbolRequest.type,{query:T},N).then(A=>N.isCancellationRequested?null:f.protocol2CodeConverter.asSymbolInformations(A,N),A=>f.handleFailedRequest(Qm.WorkspaceSymbolRequest.type,N,A,null)),_=f.middleware;return _.provideWorkspaceSymbols?_.provideWorkspaceSymbols(r,o,h):h(r,o)},resolveWorkspaceSymbol:e.resolveProvider===!0?(r,o)=>{let f=this._client,h=(T,N)=>f.sendRequest(Qm.WorkspaceSymbolResolveRequest.type,f.code2ProtocolConverter.asWorkspaceSymbol(T),N).then(A=>N.isCancellationRequested?null:f.protocol2CodeConverter.asSymbolInformation(A),A=>f.handleFailedRequest(Qm.WorkspaceSymbolResolveRequest.type,N,A,null)),_=f.middleware;return _.resolveWorkspaceSymbol?_.resolveWorkspaceSymbol(r,o,h):h(r,o)}:void 0};return[IL.languages.registerWorkspaceSymbolProvider(n),n]}};My.WorkspaceSymbolFeature=VT});var BI=Ie(qy=>{"use strict";Object.defineProperty(qy,"__esModule",{value:!0});qy.ReferencesFeature=void 0;var OL=require("vscode"),XT=ir(),JT=Qr(),kL=No(),QT=class extends JT.TextDocumentLanguageFeature{constructor(e){super(e,XT.ReferencesRequest.type)}fillClientCapabilities(e){(0,JT.ensure)((0,JT.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.referencesProvider);r&&this.register({id:kL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideReferences:(o,f,h,_)=>{let T=this._client,N=(U,H,te,Y)=>T.sendRequest(XT.ReferencesRequest.type,T.code2ProtocolConverter.asReferenceParams(U,H,te),Y).then(ye=>Y.isCancellationRequested?null:T.protocol2CodeConverter.asReferences(ye,Y),ye=>T.handleFailedRequest(XT.ReferencesRequest.type,Y,ye,null)),A=T.middleware;return A.provideReferences?A.provideReferences(o,f,h,_,N):N(o,f,h,_)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return OL.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};qy.ReferencesFeature=QT});var VI=Ie(Uy=>{"use strict";Object.defineProperty(Uy,"__esModule",{value:!0});Uy.CodeActionFeature=void 0;var xL=require("vscode"),wf=ir(),FL=No(),ZT=Qr(),eE=class extends ZT.TextDocumentLanguageFeature{constructor(e){super(e,wf.CodeActionRequest.type)}fillClientCapabilities(e){let n=(0,ZT.ensure)((0,ZT.ensure)(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[wf.CodeActionKind.Empty,wf.CodeActionKind.QuickFix,wf.CodeActionKind.Refactor,wf.CodeActionKind.RefactorExtract,wf.CodeActionKind.RefactorInline,wf.CodeActionKind.RefactorRewrite,wf.CodeActionKind.Source,wf.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.codeActionProvider);r&&this.register({id:FL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideCodeActions:(o,f,h,_)=>{let T=this._client,N=async(U,H,te,Y)=>{let ye={textDocument:T.code2ProtocolConverter.asTextDocumentIdentifier(U),range:T.code2ProtocolConverter.asRange(H),context:T.code2ProtocolConverter.asCodeActionContextSync(te)};return T.sendRequest(wf.CodeActionRequest.type,ye,Y).then(Ce=>Y.isCancellationRequested||Ce===null||Ce===void 0?null:T.protocol2CodeConverter.asCodeActionResult(Ce,Y),Ce=>T.handleFailedRequest(wf.CodeActionRequest.type,Y,Ce,null))},A=T.middleware;return A.provideCodeActions?A.provideCodeActions(o,f,h,_,N):N(o,f,h,_)},resolveCodeAction:e.resolveProvider?(o,f)=>{let h=this._client,_=this._client.middleware,T=async(N,A)=>h.sendRequest(wf.CodeActionResolveRequest.type,h.code2ProtocolConverter.asCodeActionSync(N),A).then(U=>A.isCancellationRequested?N:h.protocol2CodeConverter.asCodeAction(U,A),U=>h.handleFailedRequest(wf.CodeActionResolveRequest.type,A,U,N));return _.resolveCodeAction?_.resolveCodeAction(o,f,T):T(o,f)}:void 0};return[xL.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),r]}};Uy.CodeActionFeature=eE});var JI=Ie(jy=>{"use strict";Object.defineProperty(jy,"__esModule",{value:!0});jy.CodeLensFeature=void 0;var XI=require("vscode"),vm=ir(),LL=No(),Zm=Qr(),tE=class extends Zm.TextDocumentLanguageFeature{constructor(e){super(e,vm.CodeLensRequest.type)}fillClientCapabilities(e){(0,Zm.ensure)((0,Zm.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,Zm.ensure)((0,Zm.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(vm.CodeLensRefreshRequest.type,async()=>{for(let f of this.getAllProviders())f.onDidChangeCodeLensEmitter.fire()});let o=this.getRegistrationOptions(n,e.codeLensProvider);o&&this.register({id:LL.generateUuid(),registerOptions:o})}registerLanguageProvider(e){let n=e.documentSelector,r=new XI.EventEmitter,o={onDidChangeCodeLenses:r.event,provideCodeLenses:(f,h)=>{let _=this._client,T=(A,U)=>_.sendRequest(vm.CodeLensRequest.type,_.code2ProtocolConverter.asCodeLensParams(A),U).then(H=>U.isCancellationRequested?null:_.protocol2CodeConverter.asCodeLenses(H,U),H=>_.handleFailedRequest(vm.CodeLensRequest.type,U,H,null)),N=_.middleware;return N.provideCodeLenses?N.provideCodeLenses(f,h,T):T(f,h)},resolveCodeLens:e.resolveProvider?(f,h)=>{let _=this._client,T=(A,U)=>_.sendRequest(vm.CodeLensResolveRequest.type,_.code2ProtocolConverter.asCodeLens(A),U).then(H=>U.isCancellationRequested?A:_.protocol2CodeConverter.asCodeLens(H),H=>_.handleFailedRequest(vm.CodeLensResolveRequest.type,U,H,A)),N=_.middleware;return N.resolveCodeLens?N.resolveCodeLens(f,h,T):T(f,h)}:void 0};return[XI.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),o),{provider:o,onDidChangeCodeLensEmitter:r}]}};jy.CodeLensFeature=tE});var QI=Ie(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.DocumentOnTypeFormattingFeature=Ap.DocumentRangeFormattingFeature=Ap.DocumentFormattingFeature=void 0;var Hy=require("vscode"),vv=ir(),oE=No(),Bh=Qr(),hm;(function(t){function e(n){let r=Hy.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:r.get("trimTrailingWhitespace"),trimFinalNewlines:r.get("trimFinalNewlines"),insertFinalNewline:r.get("insertFinalNewline")}}t.fromConfiguration=e})(hm||(hm={}));var nE=class extends Bh.TextDocumentLanguageFeature{constructor(e){super(e,vv.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Bh.ensure)((0,Bh.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentFormattingProvider);r&&this.register({id:oE.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentFormattingEdits:(o,f,h)=>{let _=this._client,T=(A,U,H)=>{let te={textDocument:_.code2ProtocolConverter.asTextDocumentIdentifier(A),options:_.code2ProtocolConverter.asFormattingOptions(U,hm.fromConfiguration(A))};return _.sendRequest(vv.DocumentFormattingRequest.type,te,H).then(Y=>H.isCancellationRequested?null:_.protocol2CodeConverter.asTextEdits(Y,H),Y=>_.handleFailedRequest(vv.DocumentFormattingRequest.type,H,Y,null))},N=_.middleware;return N.provideDocumentFormattingEdits?N.provideDocumentFormattingEdits(o,f,h,T):T(o,f,h)}};return[Hy.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Ap.DocumentFormattingFeature=nE;var rE=class extends Bh.TextDocumentLanguageFeature{constructor(e){super(e,vv.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let n=(0,Bh.ensure)((0,Bh.ensure)(e,"textDocument"),"rangeFormatting");n.dynamicRegistration=!0,n.rangesSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);r&&this.register({id:oE.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentRangeFormattingEdits:(o,f,h,_)=>{let T=this._client,N=(U,H,te,Y)=>{let ye={textDocument:T.code2ProtocolConverter.asTextDocumentIdentifier(U),range:T.code2ProtocolConverter.asRange(H),options:T.code2ProtocolConverter.asFormattingOptions(te,hm.fromConfiguration(U))};return T.sendRequest(vv.DocumentRangeFormattingRequest.type,ye,Y).then(Ce=>Y.isCancellationRequested?null:T.protocol2CodeConverter.asTextEdits(Ce,Y),Ce=>T.handleFailedRequest(vv.DocumentRangeFormattingRequest.type,Y,Ce,null))},A=T.middleware;return A.provideDocumentRangeFormattingEdits?A.provideDocumentRangeFormattingEdits(o,f,h,_,N):N(o,f,h,_)}};return e.rangesSupport&&(r.provideDocumentRangesFormattingEdits=(o,f,h,_)=>{let T=this._client,N=(U,H,te,Y)=>{let ye={textDocument:T.code2ProtocolConverter.asTextDocumentIdentifier(U),ranges:T.code2ProtocolConverter.asRanges(H),options:T.code2ProtocolConverter.asFormattingOptions(te,hm.fromConfiguration(U))};return T.sendRequest(vv.DocumentRangesFormattingRequest.type,ye,Y).then(Ce=>Y.isCancellationRequested?null:T.protocol2CodeConverter.asTextEdits(Ce,Y),Ce=>T.handleFailedRequest(vv.DocumentRangesFormattingRequest.type,Y,Ce,null))},A=T.middleware;return A.provideDocumentRangesFormattingEdits?A.provideDocumentRangesFormattingEdits(o,f,h,_,N):N(o,f,h,_)}),[Hy.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Ap.DocumentRangeFormattingFeature=rE;var iE=class extends Bh.TextDocumentLanguageFeature{constructor(e){super(e,vv.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Bh.ensure)((0,Bh.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);r&&this.register({id:oE.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideOnTypeFormattingEdits:(f,h,_,T,N)=>{let A=this._client,U=(te,Y,ye,Ce,qe)=>{let _e={textDocument:A.code2ProtocolConverter.asTextDocumentIdentifier(te),position:A.code2ProtocolConverter.asPosition(Y),ch:ye,options:A.code2ProtocolConverter.asFormattingOptions(Ce,hm.fromConfiguration(te))};return A.sendRequest(vv.DocumentOnTypeFormattingRequest.type,_e,qe).then(he=>qe.isCancellationRequested?null:A.protocol2CodeConverter.asTextEdits(he,qe),he=>A.handleFailedRequest(vv.DocumentOnTypeFormattingRequest.type,qe,he,null))},H=A.middleware;return H.provideOnTypeFormattingEdits?H.provideOnTypeFormattingEdits(f,h,_,T,N,U):U(f,h,_,T,N)}},o=e.moreTriggerCharacter||[];return[Hy.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,e.firstTriggerCharacter,...o),r]}};Ap.DocumentOnTypeFormattingFeature=iE});var eN=Ie($y=>{"use strict";Object.defineProperty($y,"__esModule",{value:!0});$y.RenameFeature=void 0;var AL=require("vscode"),yg=ir(),ML=No(),ZI=md(),sE=Qr(),aE=class extends sE.TextDocumentLanguageFeature{constructor(e){super(e,yg.RenameRequest.type)}fillClientCapabilities(e){let n=(0,sE.ensure)((0,sE.ensure)(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=yg.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.renameProvider);r&&(ZI.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:ML.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){let n=e.documentSelector,r={provideRenameEdits:(o,f,h,_)=>{let T=this._client,N=(U,H,te,Y)=>{let ye={textDocument:T.code2ProtocolConverter.asTextDocumentIdentifier(U),position:T.code2ProtocolConverter.asPosition(H),newName:te};return T.sendRequest(yg.RenameRequest.type,ye,Y).then(Ce=>Y.isCancellationRequested?null:T.protocol2CodeConverter.asWorkspaceEdit(Ce,Y),Ce=>T.handleFailedRequest(yg.RenameRequest.type,Y,Ce,null,!1))},A=T.middleware;return A.provideRenameEdits?A.provideRenameEdits(o,f,h,_,N):N(o,f,h,_)},prepareRename:e.prepareProvider?(o,f,h)=>{let _=this._client,T=(A,U,H)=>{let te={textDocument:_.code2ProtocolConverter.asTextDocumentIdentifier(A),position:_.code2ProtocolConverter.asPosition(U)};return _.sendRequest(yg.PrepareRenameRequest.type,te,H).then(Y=>H.isCancellationRequested?null:yg.Range.is(Y)?_.protocol2CodeConverter.asRange(Y):this.isDefaultBehavior(Y)?Y.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):Y&&yg.Range.is(Y.range)?{range:_.protocol2CodeConverter.asRange(Y.range),placeholder:Y.placeholder}:Promise.reject(new Error("The element can't be renamed.")),Y=>{throw typeof Y.message=="string"?new Error(Y.message):new Error("The element can't be renamed.")})},N=_.middleware;return N.prepareRename?N.prepareRename(o,f,h,T):T(o,f,h)}:void 0};return[this.registerProvider(n,r),r]}registerProvider(e,n){return AL.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}isDefaultBehavior(e){let n=e;return n&&ZI.boolean(n.defaultBehavior)}};$y.RenameFeature=aE});var tN=Ie(Yy=>{"use strict";Object.defineProperty(Yy,"__esModule",{value:!0});Yy.DocumentLinkFeature=void 0;var qL=require("vscode"),e_=ir(),cE=Qr(),UL=No(),uE=class extends cE.TextDocumentLanguageFeature{constructor(e){super(e,e_.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=(0,cE.ensure)((0,cE.ensure)(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentLinkProvider);r&&this.register({id:UL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentLinks:(o,f)=>{let h=this._client,_=(N,A)=>h.sendRequest(e_.DocumentLinkRequest.type,h.code2ProtocolConverter.asDocumentLinkParams(N),A).then(U=>A.isCancellationRequested?null:h.protocol2CodeConverter.asDocumentLinks(U,A),U=>h.handleFailedRequest(e_.DocumentLinkRequest.type,A,U,null)),T=h.middleware;return T.provideDocumentLinks?T.provideDocumentLinks(o,f,_):_(o,f)},resolveDocumentLink:e.resolveProvider?(o,f)=>{let h=this._client,_=(N,A)=>h.sendRequest(e_.DocumentLinkResolveRequest.type,h.code2ProtocolConverter.asDocumentLink(N),A).then(U=>A.isCancellationRequested?N:h.protocol2CodeConverter.asDocumentLink(U),U=>h.handleFailedRequest(e_.DocumentLinkResolveRequest.type,A,U,N)),T=h.middleware;return T.resolveDocumentLink?T.resolveDocumentLink(o,f,_):_(o,f)}:void 0};return[qL.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Yy.DocumentLinkFeature=uE});var rN=Ie(zy=>{"use strict";Object.defineProperty(zy,"__esModule",{value:!0});zy.ExecuteCommandFeature=void 0;var jL=require("vscode"),lE=ir(),HL=No(),nN=Qr(),fE=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return lE.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,nN.ensure)((0,nN.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:HL.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,r=n.middleware,o=(f,h)=>{let _={command:f,arguments:h};return n.sendRequest(lE.ExecuteCommandRequest.type,_).then(void 0,T=>n.handleFailedRequest(lE.ExecuteCommandRequest.type,void 0,T,void 0))};if(e.registerOptions.commands){let f=[];for(let h of e.registerOptions.commands)f.push(jL.commands.registerCommand(h,(..._)=>r.executeCommand?r.executeCommand(h,_,o):o(h,_)));this._commands.set(e.id,f)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(r=>r.dispose())}clear(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}};zy.ExecuteCommandFeature=fE});var iN=Ie(Ky=>{"use strict";Object.defineProperty(Ky,"__esModule",{value:!0});Ky.FileSystemWatcherFeature=void 0;var $L=require("vscode"),Sg=ir(),Wy=Qr(),dE=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return Sg.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,Wy.ensure)((0,Wy.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,Wy.ensure)((0,Wy.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let r of e.registerOptions.watchers){let o=this._client.protocol2CodeConverter.asGlobPattern(r.globPattern);if(o===void 0)continue;let f=!0,h=!0,_=!0;r.kind!==void 0&&r.kind!==null&&(f=(r.kind&Sg.WatchKind.Create)!==0,h=(r.kind&Sg.WatchKind.Change)!==0,_=(r.kind&Sg.WatchKind.Delete)!==0);let T=$L.workspace.createFileSystemWatcher(o,!f,!h,!_);this.hookListeners(T,f,h,_,n),n.push(T)}this._watchers.set(e.id,n)}registerRaw(e,n){let r=[];for(let o of n)this.hookListeners(o,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,n,r,o,f){n&&e.onDidCreate(h=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(h),type:Sg.FileChangeType.Created}),null,f),r&&e.onDidChange(h=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(h),type:Sg.FileChangeType.Changed}),null,f),o&&e.onDidDelete(h=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(h),type:Sg.FileChangeType.Deleted}),null,f)}unregister(e){let n=this._watchers.get(e);if(n)for(let r of n)r.dispose()}clear(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}};Ky.FileSystemWatcherFeature=dE});var oN=Ie(Gy=>{"use strict";Object.defineProperty(Gy,"__esModule",{value:!0});Gy.ColorProviderFeature=void 0;var YL=require("vscode"),t_=ir(),vE=Qr(),hE=class extends vE.TextDocumentLanguageFeature{constructor(e){super(e,t_.DocumentColorRequest.type)}fillClientCapabilities(e){(0,vE.ensure)((0,vE.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[r,o]=this.getRegistration(n,e.colorProvider);!r||!o||this.register({id:r,registerOptions:o})}registerLanguageProvider(e){let n=e.documentSelector,r={provideColorPresentations:(o,f,h)=>{let _=this._client,T=(A,U,H)=>{let te={color:A,textDocument:_.code2ProtocolConverter.asTextDocumentIdentifier(U.document),range:_.code2ProtocolConverter.asRange(U.range)};return _.sendRequest(t_.ColorPresentationRequest.type,te,H).then(Y=>H.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(Y,H),Y=>_.handleFailedRequest(t_.ColorPresentationRequest.type,H,Y,null))},N=_.middleware;return N.provideColorPresentations?N.provideColorPresentations(o,f,h,T):T(o,f,h)},provideDocumentColors:(o,f)=>{let h=this._client,_=(N,A)=>{let U={textDocument:h.code2ProtocolConverter.asTextDocumentIdentifier(N)};return h.sendRequest(t_.DocumentColorRequest.type,U,A).then(H=>A.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(H,A),H=>h.handleFailedRequest(t_.DocumentColorRequest.type,A,H,null))},T=h.middleware;return T.provideDocumentColors?T.provideDocumentColors(o,f,_):_(o,f)}};return[YL.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Gy.ColorProviderFeature=hE});var sN=Ie(By=>{"use strict";Object.defineProperty(By,"__esModule",{value:!0});By.ImplementationFeature=void 0;var zL=require("vscode"),pE=ir(),gE=Qr(),mE=class extends gE.TextDocumentLanguageFeature{constructor(e){super(e,pE.ImplementationRequest.type)}fillClientCapabilities(e){let n=(0,gE.ensure)((0,gE.ensure)(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,o]=this.getRegistration(n,e.implementationProvider);!r||!o||this.register({id:r,registerOptions:o})}registerLanguageProvider(e){let n=e.documentSelector,r={provideImplementation:(o,f,h)=>{let _=this._client,T=(A,U,H)=>_.sendRequest(pE.ImplementationRequest.type,_.code2ProtocolConverter.asTextDocumentPositionParams(A,U),H).then(te=>H.isCancellationRequested?null:_.protocol2CodeConverter.asDefinitionResult(te,H),te=>_.handleFailedRequest(pE.ImplementationRequest.type,H,te,null)),N=_.middleware;return N.provideImplementation?N.provideImplementation(o,f,h,T):T(o,f,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return zL.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};By.ImplementationFeature=mE});var aN=Ie(Vy=>{"use strict";Object.defineProperty(Vy,"__esModule",{value:!0});Vy.TypeDefinitionFeature=void 0;var WL=require("vscode"),_E=ir(),n_=Qr(),yE=class extends n_.TextDocumentLanguageFeature{constructor(e){super(e,_E.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,n_.ensure)((0,n_.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=(0,n_.ensure)((0,n_.ensure)(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,o]=this.getRegistration(n,e.typeDefinitionProvider);!r||!o||this.register({id:r,registerOptions:o})}registerLanguageProvider(e){let n=e.documentSelector,r={provideTypeDefinition:(o,f,h)=>{let _=this._client,T=(A,U,H)=>_.sendRequest(_E.TypeDefinitionRequest.type,_.code2ProtocolConverter.asTextDocumentPositionParams(A,U),H).then(te=>H.isCancellationRequested?null:_.protocol2CodeConverter.asDefinitionResult(te,H),te=>_.handleFailedRequest(_E.TypeDefinitionRequest.type,H,te,null)),N=_.middleware;return N.provideTypeDefinition?N.provideTypeDefinition(o,f,h,T):T(o,f,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return WL.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Vy.TypeDefinitionFeature=yE});var cN=Ie(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.WorkspaceFoldersFeature=pm.arrayDiff=void 0;var KL=No(),Xy=require("vscode"),r_=ir();function SE(t,e){if(t!=null)return t[e]}function DE(t,e){return t.filter(n=>e.indexOf(n)<0)}pm.arrayDiff=DE;var CE=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return r_.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=Xy.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(r=>this.asProtocol(r))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(r_.WorkspaceFoldersRequest.type,f=>{let h=()=>{let T=Xy.workspace.workspaceFolders;return T===void 0?null:T.map(A=>this.asProtocol(A))},_=n.middleware.workspace;return _&&_.workspaceFolders?_.workspaceFolders(f,h):h(f)});let r=SE(SE(SE(e,"workspace"),"workspaceFolders"),"changeNotifications"),o;typeof r=="string"?o=r:r===!0&&(o=KL.generateUuid()),o&&this.register({id:o,registerOptions:void 0})}sendInitialEvent(e){let n;if(this._initialFolders&&e){let r=DE(this._initialFolders,e),o=DE(e,this._initialFolders);(o.length>0||r.length>0)&&(n=this.doSendEvent(o,r))}else this._initialFolders?n=this.doSendEvent([],this._initialFolders):e&&(n=this.doSendEvent(e,[]));n!==void 0&&n.catch(r=>{this._client.error(`Sending notification ${r_.DidChangeWorkspaceFoldersNotification.type.method} failed`,r)})}doSendEvent(e,n){let r={event:{added:e.map(o=>this.asProtocol(o)),removed:n.map(o=>this.asProtocol(o))}};return this._client.sendNotification(r_.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let n=e.id,r=this._client,o=Xy.workspace.onDidChangeWorkspaceFolders(f=>{let h=N=>this.doSendEvent(N.added,N.removed),_=r.middleware.workspace;(_&&_.didChangeWorkspaceFolders?_.didChangeWorkspaceFolders(f,h):h(f)).catch(N=>{this._client.error(`Sending notification ${r_.DidChangeWorkspaceFoldersNotification.type.method} failed`,N)})});this._listeners.set(n,o),this.sendInitialEvent(Xy.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};pm.WorkspaceFoldersFeature=CE});var lN=Ie(Jy=>{"use strict";Object.defineProperty(Jy,"__esModule",{value:!0});Jy.FoldingRangeFeature=void 0;var uN=require("vscode"),Dg=ir(),i_=Qr(),TE=class extends i_.TextDocumentLanguageFeature{constructor(e){super(e,Dg.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=(0,i_.ensure)((0,i_.ensure)(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0,n.foldingRangeKind={valueSet:[Dg.FoldingRangeKind.Comment,Dg.FoldingRangeKind.Imports,Dg.FoldingRangeKind.Region]},n.foldingRange={collapsedText:!1},(0,i_.ensure)((0,i_.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,n){this._client.onRequest(Dg.FoldingRangeRefreshRequest.type,async()=>{for(let f of this.getAllProviders())f.onDidChangeFoldingRange.fire()});let[r,o]=this.getRegistration(n,e.foldingRangeProvider);!r||!o||this.register({id:r,registerOptions:o})}registerLanguageProvider(e){let n=e.documentSelector,r=new uN.EventEmitter,o={onDidChangeFoldingRanges:r.event,provideFoldingRanges:(f,h,_)=>{let T=this._client,N=(U,H,te)=>{let Y={textDocument:T.code2ProtocolConverter.asTextDocumentIdentifier(U)};return T.sendRequest(Dg.FoldingRangeRequest.type,Y,te).then(ye=>te.isCancellationRequested?null:T.protocol2CodeConverter.asFoldingRanges(ye,te),ye=>T.handleFailedRequest(Dg.FoldingRangeRequest.type,te,ye,null))},A=T.middleware;return A.provideFoldingRanges?A.provideFoldingRanges(f,h,_,N):N(f,h,_)}};return[uN.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),o),{provider:o,onDidChangeFoldingRange:r}]}};Jy.FoldingRangeFeature=TE});var fN=Ie(Qy=>{"use strict";Object.defineProperty(Qy,"__esModule",{value:!0});Qy.DeclarationFeature=void 0;var GL=require("vscode"),EE=ir(),bE=Qr(),wE=class extends bE.TextDocumentLanguageFeature{constructor(e){super(e,EE.DeclarationRequest.type)}fillClientCapabilities(e){let n=(0,bE.ensure)((0,bE.ensure)(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,o]=this.getRegistration(n,e.declarationProvider);!r||!o||this.register({id:r,registerOptions:o})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDeclaration:(o,f,h)=>{let _=this._client,T=(A,U,H)=>_.sendRequest(EE.DeclarationRequest.type,_.code2ProtocolConverter.asTextDocumentPositionParams(A,U),H).then(te=>H.isCancellationRequested?null:_.protocol2CodeConverter.asDeclarationResult(te,H),te=>_.handleFailedRequest(EE.DeclarationRequest.type,H,te,null)),N=_.middleware;return N.provideDeclaration?N.provideDeclaration(o,f,h,T):T(o,f,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return GL.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Qy.DeclarationFeature=wE});var dN=Ie(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0});Zy.SelectionRangeFeature=void 0;var BL=require("vscode"),RE=ir(),PE=Qr(),IE=class extends PE.TextDocumentLanguageFeature{constructor(e){super(e,RE.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=(0,PE.ensure)((0,PE.ensure)(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[r,o]=this.getRegistration(n,e.selectionRangeProvider);!r||!o||this.register({id:r,registerOptions:o})}registerLanguageProvider(e){let n=e.documentSelector,r={provideSelectionRanges:(o,f,h)=>{let _=this._client,T=async(A,U,H)=>{let te={textDocument:_.code2ProtocolConverter.asTextDocumentIdentifier(A),positions:_.code2ProtocolConverter.asPositionsSync(U,H)};return _.sendRequest(RE.SelectionRangeRequest.type,te,H).then(Y=>H.isCancellationRequested?null:_.protocol2CodeConverter.asSelectionRanges(Y,H),Y=>_.handleFailedRequest(RE.SelectionRangeRequest.type,H,Y,null))},N=_.middleware;return N.provideSelectionRanges?N.provideSelectionRanges(o,f,h,T):T(o,f,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return BL.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Zy.SelectionRangeFeature=IE});var hN=Ie(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.ProgressFeature=void 0;var vN=ir(),VL=nT();function XL(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var NE=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:vN.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){XL(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=o=>{this.activeParts.delete(o)},r=o=>{this.activeParts.add(new VL.ProgressPart(this._client,o.token,n))};e.onRequest(vN.WorkDoneProgressCreateRequest.type,r)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};eS.ProgressFeature=NE});var pN=Ie(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});tS.CallHierarchyFeature=void 0;var JL=require("vscode"),Cg=ir(),OE=Qr(),kE=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,n,r){let o=this.client,f=this.middleware,h=(_,T,N)=>{let A=o.code2ProtocolConverter.asTextDocumentPositionParams(_,T);return o.sendRequest(Cg.CallHierarchyPrepareRequest.type,A,N).then(U=>N.isCancellationRequested?null:o.protocol2CodeConverter.asCallHierarchyItems(U,N),U=>o.handleFailedRequest(Cg.CallHierarchyPrepareRequest.type,N,U,null))};return f.prepareCallHierarchy?f.prepareCallHierarchy(e,n,r,h):h(e,n,r)}provideCallHierarchyIncomingCalls(e,n){let r=this.client,o=this.middleware,f=(h,_)=>{let T={item:r.code2ProtocolConverter.asCallHierarchyItem(h)};return r.sendRequest(Cg.CallHierarchyIncomingCallsRequest.type,T,_).then(N=>_.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyIncomingCalls(N,_),N=>r.handleFailedRequest(Cg.CallHierarchyIncomingCallsRequest.type,_,N,null))};return o.provideCallHierarchyIncomingCalls?o.provideCallHierarchyIncomingCalls(e,n,f):f(e,n)}provideCallHierarchyOutgoingCalls(e,n){let r=this.client,o=this.middleware,f=(h,_)=>{let T={item:r.code2ProtocolConverter.asCallHierarchyItem(h)};return r.sendRequest(Cg.CallHierarchyOutgoingCallsRequest.type,T,_).then(N=>_.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(N,_),N=>r.handleFailedRequest(Cg.CallHierarchyOutgoingCallsRequest.type,_,N,null))};return o.provideCallHierarchyOutgoingCalls?o.provideCallHierarchyOutgoingCalls(e,n,f):f(e,n)}},xE=class extends OE.TextDocumentLanguageFeature{constructor(e){super(e,Cg.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=e,r=(0,OE.ensure)((0,OE.ensure)(n,"textDocument"),"callHierarchy");r.dynamicRegistration=!0}initialize(e,n){let[r,o]=this.getRegistration(n,e.callHierarchyProvider);!r||!o||this.register({id:r,registerOptions:o})}registerLanguageProvider(e){let n=this._client,r=new kE(n);return[JL.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};tS.CallHierarchyFeature=xE});var gN=Ie(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});rS.SemanticTokensFeature=void 0;var nS=require("vscode"),fr=ir(),o_=Qr(),QL=md(),FE=class extends o_.TextDocumentLanguageFeature{constructor(e){super(e,fr.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=(0,o_.ensure)((0,o_.ensure)(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[fr.SemanticTokenTypes.namespace,fr.SemanticTokenTypes.type,fr.SemanticTokenTypes.class,fr.SemanticTokenTypes.enum,fr.SemanticTokenTypes.interface,fr.SemanticTokenTypes.struct,fr.SemanticTokenTypes.typeParameter,fr.SemanticTokenTypes.parameter,fr.SemanticTokenTypes.variable,fr.SemanticTokenTypes.property,fr.SemanticTokenTypes.enumMember,fr.SemanticTokenTypes.event,fr.SemanticTokenTypes.function,fr.SemanticTokenTypes.method,fr.SemanticTokenTypes.macro,fr.SemanticTokenTypes.keyword,fr.SemanticTokenTypes.modifier,fr.SemanticTokenTypes.comment,fr.SemanticTokenTypes.string,fr.SemanticTokenTypes.number,fr.SemanticTokenTypes.regexp,fr.SemanticTokenTypes.operator,fr.SemanticTokenTypes.decorator],n.tokenModifiers=[fr.SemanticTokenModifiers.declaration,fr.SemanticTokenModifiers.definition,fr.SemanticTokenModifiers.readonly,fr.SemanticTokenModifiers.static,fr.SemanticTokenModifiers.deprecated,fr.SemanticTokenModifiers.abstract,fr.SemanticTokenModifiers.async,fr.SemanticTokenModifiers.modification,fr.SemanticTokenModifiers.documentation,fr.SemanticTokenModifiers.defaultLibrary],n.formats=[fr.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,n.serverCancelSupport=!0,n.augmentsSyntaxTokens=!0,(0,o_.ensure)((0,o_.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(fr.SemanticTokensRefreshRequest.type,async()=>{for(let h of this.getAllProviders())h.onDidChangeSemanticTokensEmitter.fire()});let[o,f]=this.getRegistration(n,e.semanticTokensProvider);!o||!f||this.register({id:o,registerOptions:f})}registerLanguageProvider(e){let n=e.documentSelector,r=QL.boolean(e.full)?e.full:e.full!==void 0,o=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,f=new nS.EventEmitter,h=r?{onDidChangeSemanticTokens:f.event,provideDocumentSemanticTokens:(te,Y)=>{let ye=this._client,Ce=ye.middleware,qe=(_e,he)=>{let $e={textDocument:ye.code2ProtocolConverter.asTextDocumentIdentifier(_e)};return ye.sendRequest(fr.SemanticTokensRequest.type,$e,he).then(Qe=>he.isCancellationRequested?null:ye.protocol2CodeConverter.asSemanticTokens(Qe,he),Qe=>ye.handleFailedRequest(fr.SemanticTokensRequest.type,he,Qe,null))};return Ce.provideDocumentSemanticTokens?Ce.provideDocumentSemanticTokens(te,Y,qe):qe(te,Y)},provideDocumentSemanticTokensEdits:o?(te,Y,ye)=>{let Ce=this._client,qe=Ce.middleware,_e=(he,$e,Qe)=>{let Et={textDocument:Ce.code2ProtocolConverter.asTextDocumentIdentifier(he),previousResultId:$e};return Ce.sendRequest(fr.SemanticTokensDeltaRequest.type,Et,Qe).then(async Ge=>Qe.isCancellationRequested?null:fr.SemanticTokens.is(Ge)?await Ce.protocol2CodeConverter.asSemanticTokens(Ge,Qe):await Ce.protocol2CodeConverter.asSemanticTokensEdits(Ge,Qe),Ge=>Ce.handleFailedRequest(fr.SemanticTokensDeltaRequest.type,Qe,Ge,null))};return qe.provideDocumentSemanticTokensEdits?qe.provideDocumentSemanticTokensEdits(te,Y,ye,_e):_e(te,Y,ye)}:void 0}:void 0,T=e.range===!0?{provideDocumentRangeSemanticTokens:(te,Y,ye)=>{let Ce=this._client,qe=Ce.middleware,_e=(he,$e,Qe)=>{let Et={textDocument:Ce.code2ProtocolConverter.asTextDocumentIdentifier(he),range:Ce.code2ProtocolConverter.asRange($e)};return Ce.sendRequest(fr.SemanticTokensRangeRequest.type,Et,Qe).then(Ge=>Qe.isCancellationRequested?null:Ce.protocol2CodeConverter.asSemanticTokens(Ge,Qe),Ge=>Ce.handleFailedRequest(fr.SemanticTokensRangeRequest.type,Qe,Ge,null))};return qe.provideDocumentRangeSemanticTokens?qe.provideDocumentRangeSemanticTokens(te,Y,ye,_e):_e(te,Y,ye)}}:void 0,N=[],A=this._client,U=A.protocol2CodeConverter.asSemanticTokensLegend(e.legend),H=A.protocol2CodeConverter.asDocumentSelector(n);return h!==void 0&&N.push(nS.languages.registerDocumentSemanticTokensProvider(H,h,U)),T!==void 0&&N.push(nS.languages.registerDocumentRangeSemanticTokensProvider(H,T,U)),[new nS.Disposable(()=>N.forEach(te=>te.dispose())),{range:T,full:h,onDidChangeSemanticTokensEmitter:f}]}};rS.SemanticTokensFeature=FE});var yN=Ie(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.WillDeleteFilesFeature=_l.WillRenameFilesFeature=_l.WillCreateFilesFeature=_l.DidDeleteFilesFeature=_l.DidRenameFilesFeature=_l.DidCreateFilesFeature=void 0;var Td=require("vscode"),ZL=by(),Vh=ir(),eA=No();function mN(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function tA(t,e){return t[e]}function _N(t,e,n){t[e]=n}var s_=class t{constructor(e,n,r,o,f){this._client=e,this._event=n,this._registrationType=r,this._clientCapability=o,this._serverCapability=f,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=mN(mN(e,"workspace"),"fileOperations");_N(n,"dynamicRegistration",!0),_N(n,this._clientCapability,!0)}initialize(e){let n=e.workspace?.fileOperations,r=n!==void 0?tA(n,this._serverCapability):void 0;if(r?.filters!==void 0)try{this.register({id:eA.generateUuid(),registerOptions:{filters:r.filters}})}catch(o){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${o}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(r=>{let o=new ZL.Minimatch(r.pattern.glob,t.asMinimatchOptions(r.pattern.options));if(!o.makeRe())throw new Error(`Invalid pattern ${r.pattern.glob}!`);return{scheme:r.scheme,matcher:o,kind:r.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return t.getFileType(e)}async filter(e,n){let r=await Promise.all(e.files.map(async f=>{let h=n(f),_=h.fsPath.replace(/\\/g,"/");for(let T of this._filters.values())for(let N of T)if(!(N.scheme!==void 0&&N.scheme!==h.scheme)){if(N.matcher.match(_)){if(N.kind===void 0)return!0;let A=await this.getFileType(h);if(A===void 0)return this._client.error(`Failed to determine file type for ${h.toString()}.`),!0;if(A===Td.FileType.File&&N.kind===Vh.FileOperationPatternKind.file||A===Td.FileType.Directory&&N.kind===Vh.FileOperationPatternKind.folder)return!0}else if(N.kind===Vh.FileOperationPatternKind.folder&&await t.getFileType(h)===Td.FileType.Directory&&N.matcher.match(`${_}/`))return!0}return!1})),o=e.files.filter((f,h)=>r[h]);return{...e,files:o}}static async getFileType(e){try{return(await Td.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let n={dot:!0};return e?.ignoreCase===!0&&(n.nocase=!0),n}},iS=class extends s_{constructor(e,n,r,o,f,h,_){super(e,n,r,o,f),this._notificationType=r,this._accessUri=h,this._createParams=_}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=async o=>this._client.sendNotification(this._notificationType,this._createParams(o));return this.doSend(n,r)}}},oS=class extends iS{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let n=e.fsPath;if(this._fsPathFileTypes.has(n))return this._fsPathFileTypes.get(n);let r=await s_.getFileType(e);return r&&this._fsPathFileTypes.set(n,r),r}async cacheFileTypes(e,n){await this.filter(e,n)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},LE=class extends iS{constructor(e){super(e,Td.workspace.onDidCreateFiles,Vh.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.didCreateFiles?r.didCreateFiles(e,n):n(e)}};_l.DidCreateFilesFeature=LE;var AE=class extends oS{constructor(e){super(e,Td.workspace.onDidRenameFiles,Vh.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=Td.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,n=>n.oldUri))}doSend(e,n){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didRenameFiles?r.didRenameFiles(e,n):n(e)}};_l.DidRenameFilesFeature=AE;var ME=class extends oS{constructor(e){super(e,Td.workspace.onDidDeleteFiles,Vh.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=Td.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,n=>n))}doSend(e,n){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didDeleteFiles?r.didDeleteFiles(e,n):n(e)}};_l.DidDeleteFilesFeature=ME;var a_=class extends s_{constructor(e,n,r,o,f,h,_){super(e,n,r,o,f),this._requestType=r,this._accessUri=h,this._createParams=_}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=o=>this._client.sendRequest(this._requestType,this._createParams(o),o.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,r)}else return}},qE=class extends a_{constructor(e){super(e,Td.workspace.onWillCreateFiles,Vh.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willCreateFiles?r.willCreateFiles(e,n):n(e)}};_l.WillCreateFilesFeature=qE;var UE=class extends a_{constructor(e){super(e,Td.workspace.onWillRenameFiles,Vh.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willRenameFiles?r.willRenameFiles(e,n):n(e)}};_l.WillRenameFilesFeature=UE;var jE=class extends a_{constructor(e){super(e,Td.workspace.onWillDeleteFiles,Vh.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willDeleteFiles?r.willDeleteFiles(e,n):n(e)}};_l.WillDeleteFilesFeature=jE});var SN=Ie(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});sS.LinkedEditingFeature=void 0;var nA=require("vscode"),HE=ir(),$E=Qr(),YE=class extends $E.TextDocumentLanguageFeature{constructor(e){super(e,HE.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=(0,$E.ensure)((0,$E.ensure)(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[r,o]=this.getRegistration(n,e.linkedEditingRangeProvider);!r||!o||this.register({id:r,registerOptions:o})}registerLanguageProvider(e){let n=e.documentSelector,r={provideLinkedEditingRanges:(o,f,h)=>{let _=this._client,T=(A,U,H)=>_.sendRequest(HE.LinkedEditingRangeRequest.type,_.code2ProtocolConverter.asTextDocumentPositionParams(A,U),H).then(te=>H.isCancellationRequested?null:_.protocol2CodeConverter.asLinkedEditingRanges(te,H),te=>_.handleFailedRequest(HE.LinkedEditingRangeRequest.type,H,te,null)),N=_.middleware;return N.provideLinkedEditingRange?N.provideLinkedEditingRange(o,f,h,T):T(o,f,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return nA.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};sS.LinkedEditingFeature=YE});var DN=Ie(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});aS.TypeHierarchyFeature=void 0;var rA=require("vscode"),Tg=ir(),zE=Qr(),WE=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,n,r){let o=this.client,f=this.middleware,h=(_,T,N)=>{let A=o.code2ProtocolConverter.asTextDocumentPositionParams(_,T);return o.sendRequest(Tg.TypeHierarchyPrepareRequest.type,A,N).then(U=>N.isCancellationRequested?null:o.protocol2CodeConverter.asTypeHierarchyItems(U,N),U=>o.handleFailedRequest(Tg.TypeHierarchyPrepareRequest.type,N,U,null))};return f.prepareTypeHierarchy?f.prepareTypeHierarchy(e,n,r,h):h(e,n,r)}provideTypeHierarchySupertypes(e,n){let r=this.client,o=this.middleware,f=(h,_)=>{let T={item:r.code2ProtocolConverter.asTypeHierarchyItem(h)};return r.sendRequest(Tg.TypeHierarchySupertypesRequest.type,T,_).then(N=>_.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(N,_),N=>r.handleFailedRequest(Tg.TypeHierarchySupertypesRequest.type,_,N,null))};return o.provideTypeHierarchySupertypes?o.provideTypeHierarchySupertypes(e,n,f):f(e,n)}provideTypeHierarchySubtypes(e,n){let r=this.client,o=this.middleware,f=(h,_)=>{let T={item:r.code2ProtocolConverter.asTypeHierarchyItem(h)};return r.sendRequest(Tg.TypeHierarchySubtypesRequest.type,T,_).then(N=>_.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(N,_),N=>r.handleFailedRequest(Tg.TypeHierarchySubtypesRequest.type,_,N,null))};return o.provideTypeHierarchySubtypes?o.provideTypeHierarchySubtypes(e,n,f):f(e,n)}},KE=class extends zE.TextDocumentLanguageFeature{constructor(e){super(e,Tg.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=(0,zE.ensure)((0,zE.ensure)(e,"textDocument"),"typeHierarchy");n.dynamicRegistration=!0}initialize(e,n){let[r,o]=this.getRegistration(n,e.typeHierarchyProvider);!r||!o||this.register({id:r,registerOptions:o})}registerLanguageProvider(e){let n=this._client,r=new WE(n);return[rA.languages.registerTypeHierarchyProvider(n.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};aS.TypeHierarchyFeature=KE});var TN=Ie(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});uS.InlineValueFeature=void 0;var CN=require("vscode"),cS=ir(),c_=Qr(),GE=class extends c_.TextDocumentLanguageFeature{constructor(e){super(e,cS.InlineValueRequest.type)}fillClientCapabilities(e){(0,c_.ensure)((0,c_.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,c_.ensure)((0,c_.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,n){this._client.onRequest(cS.InlineValueRefreshRequest.type,async()=>{for(let f of this.getAllProviders())f.onDidChangeInlineValues.fire()});let[r,o]=this.getRegistration(n,e.inlineValueProvider);!r||!o||this.register({id:r,registerOptions:o})}registerLanguageProvider(e){let n=e.documentSelector,r=new CN.EventEmitter,o={onDidChangeInlineValues:r.event,provideInlineValues:(f,h,_,T)=>{let N=this._client,A=(H,te,Y,ye)=>{let Ce={textDocument:N.code2ProtocolConverter.asTextDocumentIdentifier(H),range:N.code2ProtocolConverter.asRange(te),context:N.code2ProtocolConverter.asInlineValueContext(Y)};return N.sendRequest(cS.InlineValueRequest.type,Ce,ye).then(qe=>ye.isCancellationRequested?null:N.protocol2CodeConverter.asInlineValues(qe,ye),qe=>N.handleFailedRequest(cS.InlineValueRequest.type,ye,qe,null))},U=N.middleware;return U.provideInlineValues?U.provideInlineValues(f,h,_,T,A):A(f,h,_,T)}};return[this.registerProvider(n,o),{provider:o,onDidChangeInlineValues:r}]}registerProvider(e,n){return CN.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};uS.InlineValueFeature=GE});var bN=Ie(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0});lS.InlayHintsFeature=void 0;var EN=require("vscode"),gm=ir(),u_=Qr(),BE=class extends u_.TextDocumentLanguageFeature{constructor(e){super(e,gm.InlayHintRequest.type)}fillClientCapabilities(e){let n=(0,u_.ensure)((0,u_.ensure)(e,"textDocument"),"inlayHint");n.dynamicRegistration=!0,n.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,u_.ensure)((0,u_.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,n){this._client.onRequest(gm.InlayHintRefreshRequest.type,async()=>{for(let f of this.getAllProviders())f.onDidChangeInlayHints.fire()});let[r,o]=this.getRegistration(n,e.inlayHintProvider);!r||!o||this.register({id:r,registerOptions:o})}registerLanguageProvider(e){let n=e.documentSelector,r=new EN.EventEmitter,o={onDidChangeInlayHints:r.event,provideInlayHints:(f,h,_)=>{let T=this._client,N=async(U,H,te)=>{let Y={textDocument:T.code2ProtocolConverter.asTextDocumentIdentifier(U),range:T.code2ProtocolConverter.asRange(H)};try{let ye=await T.sendRequest(gm.InlayHintRequest.type,Y,te);return te.isCancellationRequested?null:T.protocol2CodeConverter.asInlayHints(ye,te)}catch(ye){return T.handleFailedRequest(gm.InlayHintRequest.type,te,ye,null)}},A=T.middleware;return A.provideInlayHints?A.provideInlayHints(f,h,_,N):N(f,h,_)}};return o.resolveInlayHint=e.resolveProvider===!0?(f,h)=>{let _=this._client,T=async(A,U)=>{try{let H=await _.sendRequest(gm.InlayHintResolveRequest.type,_.code2ProtocolConverter.asInlayHint(A),U);if(U.isCancellationRequested)return null;let te=_.protocol2CodeConverter.asInlayHint(H,U);return U.isCancellationRequested?null:te}catch(H){return _.handleFailedRequest(gm.InlayHintResolveRequest.type,U,H,null)}},N=_.middleware;return N.resolveInlayHint?N.resolveInlayHint(f,h,T):T(f,h)}:void 0,[this.registerProvider(n,o),{provider:o,onDidChangeInlayHints:r}]}registerProvider(e,n){return EN.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};lS.InlayHintsFeature=BE});var wN=Ie(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0});fS.InlineCompletionItemFeature=void 0;var iA=require("vscode"),VE=ir(),XE=Qr(),oA=No(),JE=class extends XE.TextDocumentLanguageFeature{constructor(e){super(e,VE.InlineCompletionRequest.type)}fillClientCapabilities(e){let n=(0,XE.ensure)((0,XE.ensure)(e,"textDocument"),"inlineCompletion");n.dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.inlineCompletionProvider);r&&this.register({id:oA.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideInlineCompletionItems:(o,f,h,_)=>{let T=this._client,N=this._client.middleware,A=(U,H,te,Y)=>T.sendRequest(VE.InlineCompletionRequest.type,T.code2ProtocolConverter.asInlineCompletionParams(U,H,te),Y).then(ye=>Y.isCancellationRequested?null:T.protocol2CodeConverter.asInlineCompletionResult(ye,Y),ye=>T.handleFailedRequest(VE.InlineCompletionRequest.type,Y,ye,null));return N.provideInlineCompletionItems?N.provideInlineCompletionItems(o,f,h,_,A):A(o,f,h,_)}};return[iA.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};fS.InlineCompletionItemFeature=JE});var r0=Ie(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.ProposedFeatures=Ia.BaseLanguageClient=Ia.MessageTransports=Ia.SuspendMode=Ia.State=Ia.CloseAction=Ia.ErrorAction=Ia.RevealOutputChannelOn=void 0;var Ti=require("vscode"),ht=ir(),sA=nI(),aA=oI(),pv=md(),dS=_y(),RN=No(),cA=nT(),hv=Qr(),uA=CT(),PN=AI(),IN=qI(),mm=UI(),lA=jI(),fA=HI(),dA=$I(),vA=zI(),hA=WI(),pA=GT(),gA=GI(),mA=BI(),_A=VI(),yA=JI(),QE=QI(),SA=eN(),DA=tN(),CA=rN(),TA=iN(),EA=oN(),bA=sN(),wA=aN(),RA=cN(),PA=lN(),IA=fN(),NA=dN(),OA=hN(),kA=pN(),xA=gN(),_m=yN(),FA=SN(),LA=DN(),AA=TN(),MA=bN(),qA=wN(),Eg;(function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(Eg||(Ia.RevealOutputChannelOn=Eg={}));var f_;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(f_||(Ia.ErrorAction=f_={}));var Mp;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(Mp||(Ia.CloseAction=Mp={}));var l_;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(l_||(Ia.State=l_={}));var NN;(function(t){t.off="off",t.on="on"})(NN||(Ia.SuspendMode=NN={}));var ZE;(function(t){function e(n){return n==null?!1:typeof n=="boolean"||typeof n=="object"&&n!==null&&pv.stringArray(n.enabledCommands)?n:!1}t.sanitizeIsTrusted=e})(ZE||(ZE={}));var e0=class{constructor(e,n){this.client=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,r){return r&&r<=3?{action:f_.Continue}:{action:f_.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Mp.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:Mp.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Mp.Restart})}},Fr;(function(t){t.Initial="initial",t.Starting="starting",t.StartFailed="startFailed",t.Running="running",t.Stopping="stopping",t.Stopped="stopped"})(Fr||(Fr={}));var ON;(function(t){function e(n){return n&&ht.MessageReader.is(n.reader)&&ht.MessageWriter.is(n.writer)}t.is=e})(ON||(Ia.MessageTransports=ON={}));var d_=class t{constructor(e,n,r){this._traceFormat=ht.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new dS.Semaphore(1),this._id=e,this._name=n,r=r||{};let o={isTrusted:!1,supportHtml:!1};r.markdown!==void 0&&(o.isTrusted=ZE.sanitizeIsTrusted(r.markdown.isTrusted),o.supportHtml=r.markdown.supportHtml===!0),this._clientOptions={documentSelector:r.documentSelector??[],synchronize:r.synchronize??{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName??this._name,revealOutputChannelOn:r.revealOutputChannelOn??Eg.Error,stdioEncoding:r.stdioEncoding??"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler??this.createDefaultErrorHandler(r.connectionOptions?.maxRestartCount),middleware:r.middleware??{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:o,diagnosticPullOptions:r.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:r.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=Fr.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new dS.Semaphore(1),this._pendingChangeDelayer=new dS.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new dS.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new ht.Emitter,this._stateChangeEmitter=new ht.Emitter,this._trace=ht.Trace.Off,this._tracer={log:(f,h)=>{pv.string(f)?this.logTrace(f,h):this.logObjectTrace(f)}},this._c2p=sA.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=aA.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Ti.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let n=this.getPublicState();this._state=e;let r=this.getPublicState();r!==n&&this._stateChangeEmitter.fire({oldState:n,newState:r})}getPublicState(){switch(this.$state){case Fr.Starting:return l_.Starting;case Fr.Running:return l_.Running;default:return l_.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...n){if(this.$state===Fr.StartFailed||this.$state===Fr.Stopping||this.$state===Fr.Stopped)return Promise.reject(new ht.ResponseError(ht.ErrorCodes.ConnectionInactive,"Client is not running"));let r=await this.$start();this._didChangeTextDocumentFeature.syncKind===ht.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(r);let o=this._clientOptions.middleware?.sendRequest;if(o!==void 0){let f,h;return n.length===1?ht.CancellationToken.is(n[0])?h=n[0]:f=n[0]:n.length===2&&(f=n[0],h=n[1]),o(e,f,h,(_,T,N)=>{let A=[];return T!==void 0&&A.push(T),N!==void 0&&A.push(N),r.sendRequest(_,...A)})}else return r.sendRequest(e,...n)}onRequest(e,n){let r=typeof e=="string"?e:e.method;this._requestHandlers.set(r,n);let o=this.activeConnection(),f;return o!==void 0?(this._requestDisposables.set(r,o.onRequest(e,n)),f={dispose:()=>{let h=this._requestDisposables.get(r);h!==void 0&&(h.dispose(),this._requestDisposables.delete(r))}}):(this._pendingRequestHandlers.set(r,n),f={dispose:()=>{this._pendingRequestHandlers.delete(r);let h=this._requestDisposables.get(r);h!==void 0&&(h.dispose(),this._requestDisposables.delete(r))}}),{dispose:()=>{this._requestHandlers.delete(r),f.dispose()}}}async sendNotification(e,n){if(this.$state===Fr.StartFailed||this.$state===Fr.Stopping||this.$state===Fr.Stopped)return Promise.reject(new ht.ResponseError(ht.ErrorCodes.ConnectionInactive,"Client is not running"));let r=this._didChangeTextDocumentFeature.syncKind===ht.TextDocumentSyncKind.Full,o;r&&typeof e!="string"&&e.method===ht.DidOpenTextDocumentNotification.method&&(o=n?.textDocument.uri,this._pendingOpenNotifications.add(o));let f=await this.$start();r&&await this.sendPendingFullTextDocumentChanges(f),o!==void 0&&this._pendingOpenNotifications.delete(o);let h=this._clientOptions.middleware?.sendNotification;return h?h(e,f.sendNotification.bind(f),n):f.sendNotification(e,n)}onNotification(e,n){let r=typeof e=="string"?e:e.method;this._notificationHandlers.set(r,n);let o=this.activeConnection(),f;return o!==void 0?(this._notificationDisposables.set(r,o.onNotification(e,n)),f={dispose:()=>{let h=this._notificationDisposables.get(r);h!==void 0&&(h.dispose(),this._notificationDisposables.delete(r))}}):(this._pendingNotificationHandlers.set(r,n),f={dispose:()=>{this._pendingNotificationHandlers.delete(r);let h=this._notificationDisposables.get(r);h!==void 0&&(h.dispose(),this._notificationDisposables.delete(r))}}),{dispose:()=>{this._notificationHandlers.delete(r),f.dispose()}}}async sendProgress(e,n,r){if(this.$state===Fr.StartFailed||this.$state===Fr.Stopping||this.$state===Fr.Stopped)return Promise.reject(new ht.ResponseError(ht.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,n,r)}catch(o){throw this.error(`Sending progress for token ${n} failed.`,o),o}}onProgress(e,n,r){this._progressHandlers.set(n,{type:e,handler:r});let o=this.activeConnection(),f,h=this._clientOptions.middleware?.handleWorkDoneProgress,_=ht.WorkDoneProgress.is(e)&&h!==void 0?T=>{h(n,T,()=>r(T))}:r;return o!==void 0?(this._progressDisposables.set(n,o.onProgress(e,n,_)),f={dispose:()=>{let T=this._progressDisposables.get(n);T!==void 0&&(T.dispose(),this._progressDisposables.delete(n))}}):(this._pendingProgressHandlers.set(n,{type:e,handler:r}),f={dispose:()=>{this._pendingProgressHandlers.delete(n);let T=this._progressDisposables.get(n);T!==void 0&&(T.dispose(),this._progressDisposables.delete(n))}}),{dispose:()=>{this._progressHandlers.delete(n),f.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new e0(this,e??4)}async setTrace(e){this._trace=e;let n=this.activeConnection();n!==void 0&&await n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof ht.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?pv.string(e.stack)?e.stack:e.message:pv.string(e)?e:e.toString()}debug(e,n,r=!0){this.logOutputMessage(ht.MessageType.Debug,Eg.Debug,"Debug",e,n,r)}info(e,n,r=!0){this.logOutputMessage(ht.MessageType.Info,Eg.Info,"Info",e,n,r)}warn(e,n,r=!0){this.logOutputMessage(ht.MessageType.Warning,Eg.Warn,"Warn",e,n,r)}error(e,n,r=!0){this.logOutputMessage(ht.MessageType.Error,Eg.Error,"Error",e,n,r)}logOutputMessage(e,n,r,o,f,h){this.outputChannel.appendLine(`[${r.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${o}`),f!=null&&this.outputChannel.appendLine(this.data2String(f)),(h==="force"||h&&this._clientOptions.revealOutputChannelOn<=n)&&this.showNotificationMessage(e,o)}showNotificationMessage(e,n){n=n??"A request has failed. See the output for more information.",(e===ht.MessageType.Error?Ti.window.showErrorMessage:e===ht.MessageType.Warning?Ti.window.showWarningMessage:Ti.window.showInformationMessage)(n,"Go to output").then(o=>{o!==void 0&&this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===Fr.Initial||this.$state===Fr.Stopping||this.$state===Fr.Stopped}needsStop(){return this.$state===Fr.Starting||this.$state===Fr.Running}activeConnection(){return this.$state===Fr.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===Fr.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===Fr.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,n,r]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?Ti.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):Ti.languages.createDiagnosticCollection());for(let[o,f]of this._notificationHandlers)this._pendingNotificationHandlers.has(o)||this._pendingNotificationHandlers.set(o,f);for(let[o,f]of this._requestHandlers)this._pendingRequestHandlers.has(o)||this._pendingRequestHandlers.set(o,f);for(let[o,f]of this._progressHandlers)this._pendingProgressHandlers.has(o)||this._pendingProgressHandlers.set(o,f);this.$state=Fr.Starting;try{let o=await this.createConnection();o.onNotification(ht.LogMessageNotification.type,f=>{switch(f.type){case ht.MessageType.Error:this.error(f.message,void 0,!1);break;case ht.MessageType.Warning:this.warn(f.message,void 0,!1);break;case ht.MessageType.Info:this.info(f.message,void 0,!1);break;case ht.MessageType.Debug:this.debug(f.message,void 0,!1);break;default:this.outputChannel.appendLine(f.message)}}),o.onNotification(ht.ShowMessageNotification.type,f=>{switch(f.type){case ht.MessageType.Error:Ti.window.showErrorMessage(f.message);break;case ht.MessageType.Warning:Ti.window.showWarningMessage(f.message);break;case ht.MessageType.Info:Ti.window.showInformationMessage(f.message);break;default:Ti.window.showInformationMessage(f.message)}}),o.onRequest(ht.ShowMessageRequest.type,f=>{let h;switch(f.type){case ht.MessageType.Error:h=Ti.window.showErrorMessage;break;case ht.MessageType.Warning:h=Ti.window.showWarningMessage;break;case ht.MessageType.Info:h=Ti.window.showInformationMessage;break;default:h=Ti.window.showInformationMessage}let _=f.actions||[];return h(f.message,..._)}),o.onNotification(ht.TelemetryEventNotification.type,f=>{this._telemetryEmitter.fire(f)}),o.onRequest(ht.ShowDocumentRequest.type,async f=>{let h=async T=>{let N=this.protocol2CodeConverter.asUri(T.uri);try{if(T.external===!0)return{success:await Ti.env.openExternal(N)};{let A={};return T.selection!==void 0&&(A.selection=this.protocol2CodeConverter.asRange(T.selection)),T.takeFocus===void 0||T.takeFocus===!1?A.preserveFocus=!0:T.takeFocus===!0&&(A.preserveFocus=!1),await Ti.window.showTextDocument(N,A),{success:!0}}}catch{return{success:!1}}},_=this._clientOptions.middleware.window?.showDocument;return _!==void 0?_(f,h):h(f)}),o.listen(),await this.initialize(o),n()}catch(o){this.$state=Fr.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,o,"force"),r(o)}return this._onStart}createOnStartPromise(){let e,n;return[new Promise((o,f)=>{e=o,n=f}),e,n]}async initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,[r,o]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],f={processId:null,clientInfo:{name:Ti.env.appName,version:Ti.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(Ti.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:pv.func(n)?n():n,trace:ht.Trace.toString(this._trace),workspaceFolders:o};if(this.fillInitializeParams(f),this._clientOptions.progressOnInitialization){let h=RN.generateUuid(),_=new cA.ProgressPart(e,h);f.workDoneToken=h;try{let T=await this.doInitialize(e,f);return _.done(),T}catch(T){throw _.cancel(),T}}else return this.doInitialize(e,f)}async doInitialize(e,n){try{let r=await e.initialize(n);if(r.capabilities.positionEncoding!==void 0&&r.capabilities.positionEncoding!==ht.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${r.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=r,this.$state=Fr.Running;let o;pv.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===ht.TextDocumentSyncKind.None?o={openClose:!1,change:ht.TextDocumentSyncKind.None,save:void 0}:o={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(o=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:o}),e.onNotification(ht.PublishDiagnosticsNotification.type,f=>this.handleDiagnostics(f)),e.onRequest(ht.RegistrationRequest.type,f=>this.handleRegistrationRequest(f)),e.onRequest("client/registerFeature",f=>this.handleRegistrationRequest(f)),e.onRequest(ht.UnregistrationRequest.type,f=>this.handleUnregistrationRequest(f)),e.onRequest("client/unregisterFeature",f=>this.handleUnregistrationRequest(f)),e.onRequest(ht.ApplyWorkspaceEditRequest.type,f=>this.handleApplyWorkspaceEdit(f));for(let[f,h]of this._pendingNotificationHandlers)this._notificationDisposables.set(f,e.onNotification(f,h));this._pendingNotificationHandlers.clear();for(let[f,h]of this._pendingRequestHandlers)this._requestDisposables.set(f,e.onRequest(f,h));this._pendingRequestHandlers.clear();for(let[f,h]of this._pendingProgressHandlers)this._progressDisposables.set(f,e.onProgress(h.type,f,h.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(ht.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),r}catch(r){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):this.stop():r instanceof ht.ResponseError&&r.data&&r.data.retry?Ti.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(o=>{o&&o.id==="retry"?this.initialize(e):this.stop()}):(r&&r.message&&Ti.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop()),r}}_clientGetRootPath(){let e=Ti.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,n){if(this.$state===Fr.Stopped||this.$state===Fr.Initial)return;if(this.$state===Fr.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let r=this.activeConnection();if(r===void 0||this.$state!==Fr.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=Fr.Stopping,this.cleanUp(e);let o=new Promise(h=>{(0,ht.RAL)().timer.setTimeout(h,n)}),f=(async h=>(await h.shutdown(),await h.exit(),h))(r);return this._onStop=Promise.race([o,f]).then(h=>{if(h!==void 0)h.end(),h.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},h=>{throw this.error("Stopping server failed",h,!1),h}).finally(()=>{this.$state=Fr.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let n=this._listeners.splice(0,this._listeners.length);for(let r of n)r.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let r of Array.from(this._features.entries()).map(o=>o[1]).reverse())r.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let n=this;async function r(f){return n._fileEvents.push(f),n._fileEventDelayer.trigger(async()=>{await n.sendNotification(ht.DidChangeWatchedFilesNotification.type,{changes:n._fileEvents}),n._fileEvents=[]})}let o=this.clientOptions.middleware?.workspace;(o?.didChangeWatchedFile?o.didChangeWatchedFile(e,r):r(e)).catch(f=>{n.error("Notify file events failed.",f)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let n=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(n.length===0)return;for(let r of n){let o=this.code2ProtocolConverter.asChangeTextDocumentParams(r);await e.sendNotification(ht.DidChangeTextDocumentNotification.type,o),this._didChangeTextDocumentFeature.notificationSent(r,ht.DidChangeTextDocumentNotification.type,o)}}catch(n){throw this.error("Sending pending changes failed",n,!1),n}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let n=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===n&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,ht.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[n,r]=e.value;this._diagnosticQueue.delete(n);let o=new Ti.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:n,tokenSource:o},this._p2c.asDiagnostics(r,o.token).then(f=>{if(!o.token.isCancellationRequested){let h=this._p2c.asUri(n),_=this.clientOptions.middleware;_.handleDiagnostics?_.handleDiagnostics(h,f,(T,N)=>this.setDiagnostics(T,N)):this.setDiagnostics(h,f)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,n){this._diagnostics&&this._diagnostics.set(e,n)}getLocale(){return Ti.env.language}async $start(){if(this.$state===Fr.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(o,f,h)=>{this.handleConnectionError(o,f,h).catch(_=>this.error("Handling connection error failed",_))},n=()=>{this.handleConnectionClosed().catch(o=>this.error("Handling connection close failed",o))},r=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=UA(r.reader,r.writer,e,n,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===Fr.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:Mp.DoNotRestart};if(this.$state!==Fr.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===Mp.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===Fr.Starting?this.$state=Fr.StartFailed:this.$state=Fr.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===Mp.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=Fr.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(n=>this.error("Restarting server failed",n,"force")))}async handleConnectionError(e,n,r){let o=await this._clientOptions.errorHandler.error(e,n,r);o.action===f_.Shutdown?(this.error(o.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,o.handled===!0?!1:"force"),this.stop().catch(f=>{this.error("Stopping server failed",f,!1)})):this.error(o.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,o.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(Ti.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,n=!1){let r=Ti.workspace.getConfiguration(this._id),o=ht.Trace.Off,f=ht.TraceFormat.Text;if(r){let h=r.get("trace.server","off");typeof h=="string"?o=ht.Trace.fromString(h):(o=ht.Trace.fromString(r.get("trace.server.verbosity","off")),f=ht.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=o,this._traceFormat=f,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat}).catch(h=>{this.error("Updating trace failed with error",h,!1)})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let r;pv.array(n)?r=n:r=[n],r&&this._dynamicFeatures.get(ht.DidChangeWatchedFilesNotification.type.method).registerRaw(RN.generateUuid(),r)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),hv.DynamicFeature.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let n=this.getFeature(ht.NotebookDocumentSyncRegistrationType.method);return n===void 0||!(n instanceof PN.NotebookDocumentSyncFeature)?!1:n.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new IN.ConfigurationFeature(this)),this.registerFeature(new mm.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new mm.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new mm.WillSaveFeature(this)),this.registerFeature(new mm.WillSaveWaitUntilFeature(this)),this.registerFeature(new mm.DidSaveTextDocumentFeature(this)),this.registerFeature(new mm.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new TA.FileSystemWatcherFeature(this,n=>this.notifyFileEvent(n))),this.registerFeature(new lA.CompletionItemFeature(this)),this.registerFeature(new fA.HoverFeature(this)),this.registerFeature(new vA.SignatureHelpFeature(this)),this.registerFeature(new dA.DefinitionFeature(this)),this.registerFeature(new mA.ReferencesFeature(this)),this.registerFeature(new hA.DocumentHighlightFeature(this)),this.registerFeature(new pA.DocumentSymbolFeature(this)),this.registerFeature(new gA.WorkspaceSymbolFeature(this)),this.registerFeature(new _A.CodeActionFeature(this)),this.registerFeature(new yA.CodeLensFeature(this)),this.registerFeature(new QE.DocumentFormattingFeature(this)),this.registerFeature(new QE.DocumentRangeFormattingFeature(this)),this.registerFeature(new QE.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new SA.RenameFeature(this)),this.registerFeature(new DA.DocumentLinkFeature(this)),this.registerFeature(new CA.ExecuteCommandFeature(this)),this.registerFeature(new IN.SyncConfigurationFeature(this)),this.registerFeature(new wA.TypeDefinitionFeature(this)),this.registerFeature(new bA.ImplementationFeature(this)),this.registerFeature(new EA.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new RA.WorkspaceFoldersFeature(this)),this.registerFeature(new PA.FoldingRangeFeature(this)),this.registerFeature(new IA.DeclarationFeature(this)),this.registerFeature(new NA.SelectionRangeFeature(this)),this.registerFeature(new OA.ProgressFeature(this)),this.registerFeature(new kA.CallHierarchyFeature(this)),this.registerFeature(new xA.SemanticTokensFeature(this)),this.registerFeature(new FA.LinkedEditingFeature(this)),this.registerFeature(new _m.DidCreateFilesFeature(this)),this.registerFeature(new _m.DidRenameFilesFeature(this)),this.registerFeature(new _m.DidDeleteFilesFeature(this)),this.registerFeature(new _m.WillCreateFilesFeature(this)),this.registerFeature(new _m.WillRenameFilesFeature(this)),this.registerFeature(new _m.WillDeleteFilesFeature(this)),this.registerFeature(new LA.TypeHierarchyFeature(this)),this.registerFeature(new AA.InlineValueFeature(this)),this.registerFeature(new MA.InlayHintsFeature(this)),this.registerFeature(new uA.DiagnosticFeature(this)),this.registerFeature(new PN.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(n0.createAll(this))}fillInitializeParams(e){for(let n of this._features)pv.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,hv.ensure)(e,"workspace").applyEdit=!0;let n=(0,hv.ensure)((0,hv.ensure)(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[ht.ResourceOperationKind.Create,ht.ResourceOperationKind.Rename,ht.ResourceOperationKind.Delete],n.failureHandling=ht.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let r=(0,hv.ensure)((0,hv.ensure)(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[ht.DiagnosticTag.Unnecessary,ht.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;let o=(0,hv.ensure)(e,"window"),f=(0,hv.ensure)(o,"showMessage");f.messageActionItem={additionalPropertiesSupport:!0};let h=(0,hv.ensure)(o,"showDocument");h.support=!0;let _=(0,hv.ensure)(e,"general");_.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(t.RequestsToCancelOnContentModified)},_.regularExpressions={engine:"ECMAScript",version:"ES2020"},_.markdown={parser:"marked",version:"1.1.0"},_.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(_.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let T of this._features)T.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let r of this._features)pv.func(r.preInitialize)&&r.preInitialize(this._capabilities,n);for(let r of this._features)r.initialize(this._capabilities,n)}async handleRegistrationRequest(e){let n=this.clientOptions.middleware?.handleRegisterCapability;return n?n(e,r=>this.doRegisterCapability(r)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let n of e.registrations)this._ignoredRegistrations.add(n.id);return}for(let n of e.registrations){let r=this._dynamicFeatures.get(n.method);if(r===void 0)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Registration failed.`));let o=n.registerOptions??{};o.documentSelector=o.documentSelector??this._clientOptions.documentSelector;let f={id:n.id,registerOptions:o};try{r.register(f)}catch(h){return Promise.reject(h)}}}async handleUnregistrationRequest(e){let n=this.clientOptions.middleware?.handleUnregisterCapability;return n?n(e,r=>this.doUnregisterCapability(r)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let n of e.unregisterations){if(this._ignoredRegistrations.has(n.id))continue;let r=this._dynamicFeatures.get(n.method);if(!r)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Unregistration failed.`));r.unregister(n.id)}}async handleApplyWorkspaceEdit(e){let n=e.edit,r=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(n)),o=new Map;Ti.workspace.textDocuments.forEach(h=>o.set(h.uri.toString(),h));let f=!1;if(n.documentChanges){for(let h of n.documentChanges)if(ht.TextDocumentEdit.is(h)&&h.textDocument.version&&h.textDocument.version>=0){let _=this._p2c.asUri(h.textDocument.uri).toString(),T=o.get(_);if(T&&T.version!==h.textDocument.version){f=!0;break}}}return f?Promise.resolve({applied:!1}):pv.asPromise(Ti.workspace.applyEdit(r).then(h=>({applied:h})))}handleFailedRequest(e,n,r,o,f=!0){if(r instanceof ht.ResponseError){if(r.code===ht.ErrorCodes.PendingResponseRejected||r.code===ht.ErrorCodes.ConnectionInactive)return o;if(r.code===ht.LSPErrorCodes.RequestCancelled||r.code===ht.LSPErrorCodes.ServerCancelled){if(n!==void 0&&n.isCancellationRequested)return o;throw r.data!==void 0?new hv.LSPCancellationError(r.data):new Ti.CancellationError}else if(r.code===ht.LSPErrorCodes.ContentModified){if(t.RequestsToCancelOnContentModified.has(e.method)||t.CancellableResolveCalls.has(e.method))throw new Ti.CancellationError;return o}}throw this.error(`Request ${e.method} failed.`,r,f),r}};Ia.BaseLanguageClient=d_;d_.RequestsToCancelOnContentModified=new Set([ht.SemanticTokensRequest.method,ht.SemanticTokensRangeRequest.method,ht.SemanticTokensDeltaRequest.method]);d_.CancellableResolveCalls=new Set([ht.CompletionResolveRequest.method,ht.CodeLensResolveRequest.method,ht.CodeActionResolveRequest.method,ht.InlayHintResolveRequest.method,ht.DocumentLinkResolveRequest.method,ht.WorkspaceSymbolResolveRequest.method]);var t0=class{error(e){(0,ht.RAL)().console.error(e)}warn(e){(0,ht.RAL)().console.warn(e)}info(e){(0,ht.RAL)().console.info(e)}log(e){(0,ht.RAL)().console.log(e)}};function UA(t,e,n,r,o){let f=new t0,h=(0,ht.createProtocolConnection)(t,e,f,o);return h.onError(T=>{n(T[0],T[1],T[2])}),h.onClose(r),{listen:()=>h.listen(),sendRequest:h.sendRequest,onRequest:h.onRequest,hasPendingResponse:h.hasPendingResponse,sendNotification:h.sendNotification,onNotification:h.onNotification,onProgress:h.onProgress,sendProgress:h.sendProgress,trace:(T,N,A)=>{let U={sendNotification:!1,traceFormat:ht.TraceFormat.Text};return A===void 0?h.trace(T,N,U):(pv.boolean(A),h.trace(T,N,A))},initialize:T=>h.sendRequest(ht.InitializeRequest.type,T),shutdown:()=>h.sendRequest(ht.ShutdownRequest.type,void 0),exit:()=>h.sendNotification(ht.ExitNotification.type),end:()=>h.end(),dispose:()=>h.dispose()}}var n0;(function(t){function e(n){return[new qA.InlineCompletionItemFeature(n)]}t.createAll=e})(n0||(Ia.ProposedFeatures=n0={}))});var xN=Ie(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});vS.terminate=void 0;var kN=require("child_process"),jA=require("path"),HA=process.platform==="win32",$A=process.platform==="darwin",YA=process.platform==="linux";function zA(t,e){if(HA)try{let o={stdio:["pipe","pipe","ignore"]};return e&&(o.cwd=e),kN.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],o),!0}catch{return!1}else if(YA||$A)try{var n=(0,jA.join)(__dirname,"terminateProcess.sh"),r=kN.spawnSync(n,[t.pid.toString()]);return!r.error}catch{return!1}else return t.kill("SIGKILL"),!0}vS.terminate=zA});var i0=Ie((NU,FN)=>{"use strict";FN.exports=ir()});var v_=Ie((OU,LN)=>{var WA=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};LN.exports=WA});var hS=Ie((kU,AN)=>{var KA="2.0.0",GA=Number.MAX_SAFE_INTEGER||9007199254740991,BA=16,VA=250,XA=["major","premajor","minor","preminor","patch","prepatch","prerelease"];AN.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:BA,MAX_SAFE_BUILD_LENGTH:VA,MAX_SAFE_INTEGER:GA,RELEASE_TYPES:XA,SEMVER_SPEC_VERSION:KA,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var pS=Ie((Xh,MN)=>{var{MAX_SAFE_COMPONENT_LENGTH:o0,MAX_SAFE_BUILD_LENGTH:JA,MAX_LENGTH:QA}=hS(),ZA=v_();Xh=MN.exports={};var eM=Xh.re=[],tM=Xh.safeRe=[],Jt=Xh.src=[],Qt=Xh.t={},nM=0,s0="[a-zA-Z0-9-]",rM=[["\\s",1],["\\d",QA],[s0,JA]],iM=t=>{for(let[e,n]of rM)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},Tr=(t,e,n)=>{let r=iM(e),o=nM++;ZA(t,o,e),Qt[t]=o,Jt[o]=e,eM[o]=new RegExp(e,n?"g":void 0),tM[o]=new RegExp(r,n?"g":void 0)};Tr("NUMERICIDENTIFIER","0|[1-9]\\d*");Tr("NUMERICIDENTIFIERLOOSE","\\d+");Tr("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${s0}*`);Tr("MAINVERSION",`(${Jt[Qt.NUMERICIDENTIFIER]})\\.(${Jt[Qt.NUMERICIDENTIFIER]})\\.(${Jt[Qt.NUMERICIDENTIFIER]})`);Tr("MAINVERSIONLOOSE",`(${Jt[Qt.NUMERICIDENTIFIERLOOSE]})\\.(${Jt[Qt.NUMERICIDENTIFIERLOOSE]})\\.(${Jt[Qt.NUMERICIDENTIFIERLOOSE]})`);Tr("PRERELEASEIDENTIFIER",`(?:${Jt[Qt.NUMERICIDENTIFIER]}|${Jt[Qt.NONNUMERICIDENTIFIER]})`);Tr("PRERELEASEIDENTIFIERLOOSE",`(?:${Jt[Qt.NUMERICIDENTIFIERLOOSE]}|${Jt[Qt.NONNUMERICIDENTIFIER]})`);Tr("PRERELEASE",`(?:-(${Jt[Qt.PRERELEASEIDENTIFIER]}(?:\\.${Jt[Qt.PRERELEASEIDENTIFIER]})*))`);Tr("PRERELEASELOOSE",`(?:-?(${Jt[Qt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Jt[Qt.PRERELEASEIDENTIFIERLOOSE]})*))`);Tr("BUILDIDENTIFIER",`${s0}+`);Tr("BUILD",`(?:\\+(${Jt[Qt.BUILDIDENTIFIER]}(?:\\.${Jt[Qt.BUILDIDENTIFIER]})*))`);Tr("FULLPLAIN",`v?${Jt[Qt.MAINVERSION]}${Jt[Qt.PRERELEASE]}?${Jt[Qt.BUILD]}?`);Tr("FULL",`^${Jt[Qt.FULLPLAIN]}$`);Tr("LOOSEPLAIN",`[v=\\s]*${Jt[Qt.MAINVERSIONLOOSE]}${Jt[Qt.PRERELEASELOOSE]}?${Jt[Qt.BUILD]}?`);Tr("LOOSE",`^${Jt[Qt.LOOSEPLAIN]}$`);Tr("GTLT","((?:<|>)?=?)");Tr("XRANGEIDENTIFIERLOOSE",`${Jt[Qt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Tr("XRANGEIDENTIFIER",`${Jt[Qt.NUMERICIDENTIFIER]}|x|X|\\*`);Tr("XRANGEPLAIN",`[v=\\s]*(${Jt[Qt.XRANGEIDENTIFIER]})(?:\\.(${Jt[Qt.XRANGEIDENTIFIER]})(?:\\.(${Jt[Qt.XRANGEIDENTIFIER]})(?:${Jt[Qt.PRERELEASE]})?${Jt[Qt.BUILD]}?)?)?`);Tr("XRANGEPLAINLOOSE",`[v=\\s]*(${Jt[Qt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Jt[Qt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Jt[Qt.XRANGEIDENTIFIERLOOSE]})(?:${Jt[Qt.PRERELEASELOOSE]})?${Jt[Qt.BUILD]}?)?)?`);Tr("XRANGE",`^${Jt[Qt.GTLT]}\\s*${Jt[Qt.XRANGEPLAIN]}$`);Tr("XRANGELOOSE",`^${Jt[Qt.GTLT]}\\s*${Jt[Qt.XRANGEPLAINLOOSE]}$`);Tr("COERCE",`(^|[^\\d])(\\d{1,${o0}})(?:\\.(\\d{1,${o0}}))?(?:\\.(\\d{1,${o0}}))?(?:$|[^\\d])`);Tr("COERCERTL",Jt[Qt.COERCE],!0);Tr("LONETILDE","(?:~>?)");Tr("TILDETRIM",`(\\s*)${Jt[Qt.LONETILDE]}\\s+`,!0);Xh.tildeTrimReplace="$1~";Tr("TILDE",`^${Jt[Qt.LONETILDE]}${Jt[Qt.XRANGEPLAIN]}$`);Tr("TILDELOOSE",`^${Jt[Qt.LONETILDE]}${Jt[Qt.XRANGEPLAINLOOSE]}$`);Tr("LONECARET","(?:\\^)");Tr("CARETTRIM",`(\\s*)${Jt[Qt.LONECARET]}\\s+`,!0);Xh.caretTrimReplace="$1^";Tr("CARET",`^${Jt[Qt.LONECARET]}${Jt[Qt.XRANGEPLAIN]}$`);Tr("CARETLOOSE",`^${Jt[Qt.LONECARET]}${Jt[Qt.XRANGEPLAINLOOSE]}$`);Tr("COMPARATORLOOSE",`^${Jt[Qt.GTLT]}\\s*(${Jt[Qt.LOOSEPLAIN]})$|^$`);Tr("COMPARATOR",`^${Jt[Qt.GTLT]}\\s*(${Jt[Qt.FULLPLAIN]})$|^$`);Tr("COMPARATORTRIM",`(\\s*)${Jt[Qt.GTLT]}\\s*(${Jt[Qt.LOOSEPLAIN]}|${Jt[Qt.XRANGEPLAIN]})`,!0);Xh.comparatorTrimReplace="$1$2$3";Tr("HYPHENRANGE",`^\\s*(${Jt[Qt.XRANGEPLAIN]})\\s+-\\s+(${Jt[Qt.XRANGEPLAIN]})\\s*$`);Tr("HYPHENRANGELOOSE",`^\\s*(${Jt[Qt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Jt[Qt.XRANGEPLAINLOOSE]})\\s*$`);Tr("STAR","(<|>)?=?\\s*\\*");Tr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Tr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var gS=Ie((xU,qN)=>{var oM=Object.freeze({loose:!0}),sM=Object.freeze({}),aM=t=>t?typeof t!="object"?oM:t:sM;qN.exports=aM});var $N=Ie((FU,HN)=>{var UN=/^[0-9]+$/,jN=(t,e)=>{let n=UN.test(t),r=UN.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},cM=(t,e)=>jN(e,t);HN.exports={compareIdentifiers:jN,rcompareIdentifiers:cM}});var h_=Ie((LU,KN)=>{var mS=v_(),{MAX_LENGTH:YN,MAX_SAFE_INTEGER:_S}=hS(),{safeRe:zN,t:WN}=pS(),uM=gS(),{compareIdentifiers:ym}=$N(),a0=class t{constructor(e,n){if(n=uM(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>YN)throw new TypeError(`version is longer than ${YN} characters`);mS("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?zN[WN.LOOSE]:zN[WN.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>_S||this.major<0)throw new TypeError("Invalid major version");if(this.minor>_S||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>_S||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let f=+o;if(f>=0&&f<_S)return f}return o}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(mS("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),ym(this.major,e.major)||ym(this.minor,e.minor)||ym(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],o=e.prerelease[n];if(mS("prerelease compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return ym(r,o)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],o=e.build[n];if(mS("prerelease compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return ym(r,o)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let f=this.prerelease.length;for(;--f>=0;)typeof this.prerelease[f]=="number"&&(this.prerelease[f]++,f=-2);if(f===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(n){let f=[n,o];r===!1&&(f=[n]),ym(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=f):this.prerelease=f}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};KN.exports=a0});var VN=Ie((AU,BN)=>{var GN=h_(),lM=(t,e,n=!1)=>{if(t instanceof GN)return t;try{return new GN(t,e)}catch(r){if(!n)return null;throw r}};BN.exports=lM});var JN=Ie((MU,XN)=>{"use strict";XN.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var ZN=Ie((qU,QN)=>{"use strict";QN.exports=hi;hi.Node=bg;hi.create=hi;function hi(t){var e=this;if(e instanceof hi||(e=new hi),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(o){e.push(o)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}hi.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};hi.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};hi.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};hi.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)dM(this,arguments[t]);return this.length};hi.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)vM(this,arguments[t]);return this.length};hi.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};hi.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};hi.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};hi.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};hi.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};hi.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};hi.prototype.map=function(t,e){e=e||this;for(var n=new hi,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};hi.prototype.mapReverse=function(t,e){e=e||this;for(var n=new hi,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};hi.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;r!==null;o++)n=t(n,r.value,o),r=r.next;return n};hi.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;r!==null;o--)n=t(n,r.value,o),r=r.prev;return n};hi.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};hi.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};hi.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new hi;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,o=this.head;o!==null&&r<t;r++)o=o.next;for(;o!==null&&r<e;r++,o=o.next)n.push(o.value);return n};hi.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new hi;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,o=this.tail;o!==null&&r>e;r--)o=o.prev;for(;o!==null&&r>t;r--,o=o.prev)n.push(o.value);return n};hi.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,o=this.head;o!==null&&r<t;r++)o=o.next;for(var f=[],r=0;o&&r<e;r++)f.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var r=0;r<n.length;r++)o=fM(this,o,n[r]);return f};hi.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function fM(t,e,n){var r=e===t.head?new bg(n,null,e,t):new bg(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function dM(t,e){t.tail=new bg(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function vM(t,e){t.head=new bg(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function bg(t,e,n,r){if(!(this instanceof bg))return new bg(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{JN()(hi)}catch{}});var iO=Ie((UU,rO)=>{"use strict";var hM=ZN(),wg=Symbol("max"),Qh=Symbol("length"),Sm=Symbol("lengthCalculator"),g_=Symbol("allowStale"),Rg=Symbol("maxAge"),Jh=Symbol("dispose"),eO=Symbol("noDisposeOnSet"),Na=Symbol("lruList"),gv=Symbol("cache"),nO=Symbol("updateAgeOnGet"),c0=()=>1,l0=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let n=this[wg]=e.max||1/0,r=e.length||c0;if(this[Sm]=typeof r!="function"?c0:r,this[g_]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Rg]=e.maxAge||0,this[Jh]=e.dispose,this[eO]=e.noDisposeOnSet||!1,this[nO]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[wg]=e||1/0,p_(this)}get max(){return this[wg]}set allowStale(e){this[g_]=!!e}get allowStale(){return this[g_]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Rg]=e,p_(this)}get maxAge(){return this[Rg]}set lengthCalculator(e){typeof e!="function"&&(e=c0),e!==this[Sm]&&(this[Sm]=e,this[Qh]=0,this[Na].forEach(n=>{n.length=this[Sm](n.value,n.key),this[Qh]+=n.length})),p_(this)}get lengthCalculator(){return this[Sm]}get length(){return this[Qh]}get itemCount(){return this[Na].length}rforEach(e,n){n=n||this;for(let r=this[Na].tail;r!==null;){let o=r.prev;tO(this,e,r,n),r=o}}forEach(e,n){n=n||this;for(let r=this[Na].head;r!==null;){let o=r.next;tO(this,e,r,n),r=o}}keys(){return this[Na].toArray().map(e=>e.key)}values(){return this[Na].toArray().map(e=>e.value)}reset(){this[Jh]&&this[Na]&&this[Na].length&&this[Na].forEach(e=>this[Jh](e.key,e.value)),this[gv]=new Map,this[Na]=new hM,this[Qh]=0}dump(){return this[Na].map(e=>yS(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Na]}set(e,n,r){if(r=r||this[Rg],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let o=r?Date.now():0,f=this[Sm](n,e);if(this[gv].has(e)){if(f>this[wg])return Dm(this,this[gv].get(e)),!1;let T=this[gv].get(e).value;return this[Jh]&&(this[eO]||this[Jh](e,T.value)),T.now=o,T.maxAge=r,T.value=n,this[Qh]+=f-T.length,T.length=f,this.get(e),p_(this),!0}let h=new f0(e,n,f,o,r);return h.length>this[wg]?(this[Jh]&&this[Jh](e,n),!1):(this[Qh]+=h.length,this[Na].unshift(h),this[gv].set(e,this[Na].head),p_(this),!0)}has(e){if(!this[gv].has(e))return!1;let n=this[gv].get(e).value;return!yS(this,n)}get(e){return u0(this,e,!0)}peek(e){return u0(this,e,!1)}pop(){let e=this[Na].tail;return e?(Dm(this,e),e.value):null}del(e){Dm(this,this[gv].get(e))}load(e){this.reset();let n=Date.now();for(let r=e.length-1;r>=0;r--){let o=e[r],f=o.e||0;if(f===0)this.set(o.k,o.v);else{let h=f-n;h>0&&this.set(o.k,o.v,h)}}}prune(){this[gv].forEach((e,n)=>u0(this,n,!1))}},u0=(t,e,n)=>{let r=t[gv].get(e);if(r){let o=r.value;if(yS(t,o)){if(Dm(t,r),!t[g_])return}else n&&(t[nO]&&(r.value.now=Date.now()),t[Na].unshiftNode(r));return o.value}},yS=(t,e)=>{if(!e||!e.maxAge&&!t[Rg])return!1;let n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[Rg]&&n>t[Rg]},p_=t=>{if(t[Qh]>t[wg])for(let e=t[Na].tail;t[Qh]>t[wg]&&e!==null;){let n=e.prev;Dm(t,e),e=n}},Dm=(t,e)=>{if(e){let n=e.value;t[Jh]&&t[Jh](n.key,n.value),t[Qh]-=n.length,t[gv].delete(n.key),t[Na].removeNode(e)}},f0=class{constructor(e,n,r,o,f){this.key=e,this.value=n,this.length=r,this.now=o,this.maxAge=f||0}},tO=(t,e,n,r)=>{let o=n.value;yS(t,o)&&(Dm(t,n),t[g_]||(o=void 0)),o&&e.call(r,o.value,o.key,t)};rO.exports=l0});var Pg=Ie((jU,sO)=>{var oO=h_(),pM=(t,e,n)=>new oO(t,n).compare(new oO(e,n));sO.exports=pM});var cO=Ie((HU,aO)=>{var gM=Pg(),mM=(t,e,n)=>gM(t,e,n)===0;aO.exports=mM});var lO=Ie(($U,uO)=>{var _M=Pg(),yM=(t,e,n)=>_M(t,e,n)!==0;uO.exports=yM});var dO=Ie((YU,fO)=>{var SM=Pg(),DM=(t,e,n)=>SM(t,e,n)>0;fO.exports=DM});var hO=Ie((zU,vO)=>{var CM=Pg(),TM=(t,e,n)=>CM(t,e,n)>=0;vO.exports=TM});var gO=Ie((WU,pO)=>{var EM=Pg(),bM=(t,e,n)=>EM(t,e,n)<0;pO.exports=bM});var _O=Ie((KU,mO)=>{var wM=Pg(),RM=(t,e,n)=>wM(t,e,n)<=0;mO.exports=RM});var SO=Ie((GU,yO)=>{var PM=cO(),IM=lO(),NM=dO(),OM=hO(),kM=gO(),xM=_O(),FM=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return PM(t,n,r);case"!=":return IM(t,n,r);case">":return NM(t,n,r);case">=":return OM(t,n,r);case"<":return kM(t,n,r);case"<=":return xM(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};yO.exports=FM});var RO=Ie((BU,wO)=>{var m_=Symbol("SemVer ANY"),h0=class t{static get ANY(){return m_}constructor(e,n){if(n=DO(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),v0("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===m_?this.value="":this.value=this.operator+this.semver.version,v0("comp",this)}parse(e){let n=this.options.loose?CO[TO.COMPARATORLOOSE]:CO[TO.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new EO(r[2],this.options.loose):this.semver=m_}toString(){return this.value}test(e){if(v0("Comparator.test",e,this.options.loose),this.semver===m_||e===m_)return!0;if(typeof e=="string")try{e=new EO(e,this.options)}catch{return!1}return d0(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new bO(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new bO(this.value,n).test(e.semver):(n=DO(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||d0(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||d0(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};wO.exports=h0;var DO=gS(),{safeRe:CO,t:TO}=pS(),d0=SO(),v0=v_(),EO=h_(),bO=p0()});var p0=Ie((VU,OO)=>{var g0=class t{constructor(e,n){if(n=AM(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof m0)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(o=>!IO(o[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&YM(o[0])){this.set=[o];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&HM)|(this.options.loose&&$M))+":"+e,o=PO.get(r);if(o)return o;let f=this.options.loose,h=f?yl[mu.HYPHENRANGELOOSE]:yl[mu.HYPHENRANGE];e=e.replace(h,ZM(this.options.includePrerelease)),ao("hyphen replace",e),e=e.replace(yl[mu.COMPARATORTRIM],qM),ao("comparator trim",e),e=e.replace(yl[mu.TILDETRIM],UM),ao("tilde trim",e),e=e.replace(yl[mu.CARETTRIM],jM),ao("caret trim",e);let _=e.split(" ").map(U=>zM(U,this.options)).join(" ").split(/\s+/).map(U=>QM(U,this.options));f&&(_=_.filter(U=>(ao("loose invalid filter",U,this.options),!!U.match(yl[mu.COMPARATORLOOSE])))),ao("range list",_);let T=new Map,N=_.map(U=>new m0(U,this.options));for(let U of N){if(IO(U))return[U];T.set(U.value,U)}T.size>1&&T.has("")&&T.delete("");let A=[...T.values()];return PO.set(r,A),A}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>NO(r,n)&&e.set.some(o=>NO(o,n)&&r.every(f=>o.every(h=>f.intersects(h,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new MM(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(e1(this.set[n],e,this.options))return!0;return!1}};OO.exports=g0;var LM=iO(),PO=new LM({max:1e3}),AM=gS(),m0=RO(),ao=v_(),MM=h_(),{safeRe:yl,t:mu,comparatorTrimReplace:qM,tildeTrimReplace:UM,caretTrimReplace:jM}=pS(),{FLAG_INCLUDE_PRERELEASE:HM,FLAG_LOOSE:$M}=hS(),IO=t=>t.value==="<0.0.0-0",YM=t=>t.value==="",NO=(t,e)=>{let n=!0,r=t.slice(),o=r.pop();for(;n&&r.length;)n=r.every(f=>o.intersects(f,e)),o=r.pop();return n},zM=(t,e)=>(ao("comp",t,e),t=GM(t,e),ao("caret",t),t=WM(t,e),ao("tildes",t),t=VM(t,e),ao("xrange",t),t=JM(t,e),ao("stars",t),t),_u=t=>!t||t.toLowerCase()==="x"||t==="*",WM=(t,e)=>t.trim().split(/\s+/).map(n=>KM(n,e)).join(" "),KM=(t,e)=>{let n=e.loose?yl[mu.TILDELOOSE]:yl[mu.TILDE];return t.replace(n,(r,o,f,h,_)=>{ao("tilde",t,r,o,f,h,_);let T;return _u(o)?T="":_u(f)?T=`>=${o}.0.0 <${+o+1}.0.0-0`:_u(h)?T=`>=${o}.${f}.0 <${o}.${+f+1}.0-0`:_?(ao("replaceTilde pr",_),T=`>=${o}.${f}.${h}-${_} <${o}.${+f+1}.0-0`):T=`>=${o}.${f}.${h} <${o}.${+f+1}.0-0`,ao("tilde return",T),T})},GM=(t,e)=>t.trim().split(/\s+/).map(n=>BM(n,e)).join(" "),BM=(t,e)=>{ao("caret",t,e);let n=e.loose?yl[mu.CARETLOOSE]:yl[mu.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(o,f,h,_,T)=>{ao("caret",t,o,f,h,_,T);let N;return _u(f)?N="":_u(h)?N=`>=${f}.0.0${r} <${+f+1}.0.0-0`:_u(_)?f==="0"?N=`>=${f}.${h}.0${r} <${f}.${+h+1}.0-0`:N=`>=${f}.${h}.0${r} <${+f+1}.0.0-0`:T?(ao("replaceCaret pr",T),f==="0"?h==="0"?N=`>=${f}.${h}.${_}-${T} <${f}.${h}.${+_+1}-0`:N=`>=${f}.${h}.${_}-${T} <${f}.${+h+1}.0-0`:N=`>=${f}.${h}.${_}-${T} <${+f+1}.0.0-0`):(ao("no pr"),f==="0"?h==="0"?N=`>=${f}.${h}.${_}${r} <${f}.${h}.${+_+1}-0`:N=`>=${f}.${h}.${_}${r} <${f}.${+h+1}.0-0`:N=`>=${f}.${h}.${_} <${+f+1}.0.0-0`),ao("caret return",N),N})},VM=(t,e)=>(ao("replaceXRanges",t,e),t.split(/\s+/).map(n=>XM(n,e)).join(" ")),XM=(t,e)=>{t=t.trim();let n=e.loose?yl[mu.XRANGELOOSE]:yl[mu.XRANGE];return t.replace(n,(r,o,f,h,_,T)=>{ao("xRange",t,r,o,f,h,_,T);let N=_u(f),A=N||_u(h),U=A||_u(_),H=U;return o==="="&&H&&(o=""),T=e.includePrerelease?"-0":"",N?o===">"||o==="<"?r="<0.0.0-0":r="*":o&&H?(A&&(h=0),_=0,o===">"?(o=">=",A?(f=+f+1,h=0,_=0):(h=+h+1,_=0)):o==="<="&&(o="<",A?f=+f+1:h=+h+1),o==="<"&&(T="-0"),r=`${o+f}.${h}.${_}${T}`):A?r=`>=${f}.0.0${T} <${+f+1}.0.0-0`:U&&(r=`>=${f}.${h}.0${T} <${f}.${+h+1}.0-0`),ao("xRange return",r),r})},JM=(t,e)=>(ao("replaceStars",t,e),t.trim().replace(yl[mu.STAR],"")),QM=(t,e)=>(ao("replaceGTE0",t,e),t.trim().replace(yl[e.includePrerelease?mu.GTE0PRE:mu.GTE0],"")),ZM=t=>(e,n,r,o,f,h,_,T,N,A,U,H,te)=>(_u(r)?n="":_u(o)?n=`>=${r}.0.0${t?"-0":""}`:_u(f)?n=`>=${r}.${o}.0${t?"-0":""}`:h?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,_u(N)?T="":_u(A)?T=`<${+N+1}.0.0-0`:_u(U)?T=`<${N}.${+A+1}.0-0`:H?T=`<=${N}.${A}.${U}-${H}`:t?T=`<${N}.${A}.${+U+1}-0`:T=`<=${T}`,`${n} ${T}`.trim()),e1=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(ao(t[r].semver),t[r].semver!==m0.ANY&&t[r].semver.prerelease.length>0){let o=t[r].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}});var xO=Ie((XU,kO)=>{var t1=p0(),n1=(t,e,n)=>{try{e=new t1(e,n)}catch{return!1}return e.test(t)};kO.exports=n1});var LO=Ie(Rf=>{"use strict";var r1=Rf&&Rf.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),_0=Rf&&Rf.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&r1(e,t,n)};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.DiagnosticPullMode=Rf.vsdiag=void 0;_0(ir(),Rf);_0(Qr(),Rf);var FO=CT();Object.defineProperty(Rf,"vsdiag",{enumerable:!0,get:function(){return FO.vsdiag}});Object.defineProperty(Rf,"DiagnosticPullMode",{enumerable:!0,get:function(){return FO.DiagnosticPullMode}});_0(r0(),Rf)});var __=Ie(Sl=>{"use strict";var i1=Sl&&Sl.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),qO=Sl&&Sl.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&i1(e,t,n)};Object.defineProperty(Sl,"__esModule",{value:!0});Sl.SettingMonitor=Sl.LanguageClient=Sl.TransportKind=void 0;var Zh=require("child_process"),y0=require("fs"),S0=require("path"),Up=require("vscode"),Oo=md(),AO=r0(),o1=xN(),Wo=i0(),s1=VN(),a1=xO();qO(i0(),Sl);qO(LO(),Sl);var MO="^1.82.0",Ko;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(Ko||(Sl.TransportKind=Ko={}));var qp;(function(t){function e(n){let r=n;return r&&r.kind===Ko.socket&&Oo.number(r.port)}t.isSocket=e})(qp||(qp={}));var D0;(function(t){function e(n){return Oo.string(n.command)}t.is=e})(D0||(D0={}));var C0;(function(t){function e(n){return Oo.string(n.module)}t.is=e})(C0||(C0={}));var T0;(function(t){function e(n){let r=n;return r&&r.writer!==void 0&&r.reader!==void 0}t.is=e})(T0||(T0={}));var E0;(function(t){function e(n){let r=n;return r&&r.process!==void 0&&typeof r.detached=="boolean"}t.is=e})(E0||(E0={}));var b0=class extends AO.BaseLanguageClient{constructor(e,n,r,o,f){let h,_,T,N,A;Oo.string(n)?(h=e,_=n,T=r,N=o,A=!!f):(h=e.toLowerCase(),_=e,T=n,N=r,A=o),A===void 0&&(A=!1),super(h,_,N),this._serverOptions=T,this._forceDebug=A,this._isInDebugMode=A;try{this.checkVersion()}catch(U){throw Oo.string(U.message)&&this.outputChannel.appendLine(U.message),U}}checkVersion(){let e=s1(Up.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Up.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!a1(e,MO))throw new Error(`The language client requires VS Code version ${MO} but received version ${Up.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,o1.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(A,U){if(!A&&!U)return;let H=Object.create(null);return Object.keys(process.env).forEach(te=>H[te]=process.env[te]),U&&(H.ELECTRON_RUN_AS_NODE="1",H.ELECTRON_NO_ASAR="1"),A&&Object.keys(A).forEach(te=>H[te]=A[te]),H}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],o=["--debug","--debug-brk","--inspect","--inspect-brk"];function f(){let A=process.execArgv;return A?A.some(U=>r.some(H=>U.startsWith(H))||o.some(H=>U===H)):!1}function h(A){if(A.stdin===null||A.stdout===null||A.stderr===null)throw new Error("Process created without stdio streams")}let _=this._serverOptions;if(Oo.func(_))return _().then(A=>{if(AO.MessageTransports.is(A))return this._isDetached=!!A.detached,A;if(T0.is(A))return this._isDetached=!!A.detached,{reader:new Wo.StreamMessageReader(A.reader),writer:new Wo.StreamMessageWriter(A.writer)};{let U;return E0.is(A)?(U=A.process,this._isDetached=A.detached):(U=A,this._isDetached=!1),U.stderr.on("data",H=>this.outputChannel.append(Oo.string(H)?H:H.toString(e))),{reader:new Wo.StreamMessageReader(U.stdout),writer:new Wo.StreamMessageWriter(U.stdin)}}});let T,N=_;return N.run||N.debug?this._forceDebug||f()?(T=N.debug,this._isInDebugMode=!0):(T=N.run,this._isInDebugMode=!1):T=_,this._getServerWorkingDir(T.options).then(A=>{if(C0.is(T)&&T.module){let U=T,H=U.transport||Ko.stdio;if(U.runtime){let te=[],Y=U.options??Object.create(null);Y.execArgv&&Y.execArgv.forEach(_e=>te.push(_e)),te.push(U.module),U.args&&U.args.forEach(_e=>te.push(_e));let ye=Object.create(null);ye.cwd=A,ye.env=n(Y.env,!1);let Ce=this._getRuntimePath(U.runtime,A),qe;if(H===Ko.ipc?(ye.stdio=[null,null,null,"ipc"],te.push("--node-ipc")):H===Ko.stdio?te.push("--stdio"):H===Ko.pipe?(qe=(0,Wo.generateRandomPipeName)(),te.push(`--pipe=${qe}`)):qp.isSocket(H)&&te.push(`--socket=${H.port}`),te.push(`--clientProcessId=${process.pid.toString()}`),H===Ko.ipc||H===Ko.stdio){let _e=Zh.spawn(Ce,te,ye);return!_e||!_e.pid?Cm(_e,`Launching server using runtime ${Ce} failed.`):(this._serverProcess=_e,_e.stderr.on("data",he=>this.outputChannel.append(Oo.string(he)?he:he.toString(e))),H===Ko.ipc?(_e.stdout.on("data",he=>this.outputChannel.append(Oo.string(he)?he:he.toString(e))),Promise.resolve({reader:new Wo.IPCMessageReader(_e),writer:new Wo.IPCMessageWriter(_e)})):Promise.resolve({reader:new Wo.StreamMessageReader(_e.stdout),writer:new Wo.StreamMessageWriter(_e.stdin)}))}else{if(H===Ko.pipe)return(0,Wo.createClientPipeTransport)(qe).then(_e=>{let he=Zh.spawn(Ce,te,ye);return!he||!he.pid?Cm(he,`Launching server using runtime ${Ce} failed.`):(this._serverProcess=he,he.stderr.on("data",$e=>this.outputChannel.append(Oo.string($e)?$e:$e.toString(e))),he.stdout.on("data",$e=>this.outputChannel.append(Oo.string($e)?$e:$e.toString(e))),_e.onConnected().then($e=>({reader:$e[0],writer:$e[1]})))});if(qp.isSocket(H))return(0,Wo.createClientSocketTransport)(H.port).then(_e=>{let he=Zh.spawn(Ce,te,ye);return!he||!he.pid?Cm(he,`Launching server using runtime ${Ce} failed.`):(this._serverProcess=he,he.stderr.on("data",$e=>this.outputChannel.append(Oo.string($e)?$e:$e.toString(e))),he.stdout.on("data",$e=>this.outputChannel.append(Oo.string($e)?$e:$e.toString(e))),_e.onConnected().then($e=>({reader:$e[0],writer:$e[1]})))})}}else{let te;return new Promise((Y,ye)=>{let Ce=(U.args&&U.args.slice())??[];H===Ko.ipc?Ce.push("--node-ipc"):H===Ko.stdio?Ce.push("--stdio"):H===Ko.pipe?(te=(0,Wo.generateRandomPipeName)(),Ce.push(`--pipe=${te}`)):qp.isSocket(H)&&Ce.push(`--socket=${H.port}`),Ce.push(`--clientProcessId=${process.pid.toString()}`);let qe=U.options??Object.create(null);if(qe.env=n(qe.env,!0),qe.execArgv=qe.execArgv||[],qe.cwd=A,qe.silent=!0,H===Ko.ipc||H===Ko.stdio){let _e=Zh.fork(U.module,Ce||[],qe);h(_e),this._serverProcess=_e,_e.stderr.on("data",he=>this.outputChannel.append(Oo.string(he)?he:he.toString(e))),H===Ko.ipc?(_e.stdout.on("data",he=>this.outputChannel.append(Oo.string(he)?he:he.toString(e))),Y({reader:new Wo.IPCMessageReader(this._serverProcess),writer:new Wo.IPCMessageWriter(this._serverProcess)})):Y({reader:new Wo.StreamMessageReader(_e.stdout),writer:new Wo.StreamMessageWriter(_e.stdin)})}else H===Ko.pipe?(0,Wo.createClientPipeTransport)(te).then(_e=>{let he=Zh.fork(U.module,Ce||[],qe);h(he),this._serverProcess=he,he.stderr.on("data",$e=>this.outputChannel.append(Oo.string($e)?$e:$e.toString(e))),he.stdout.on("data",$e=>this.outputChannel.append(Oo.string($e)?$e:$e.toString(e))),_e.onConnected().then($e=>{Y({reader:$e[0],writer:$e[1]})},ye)},ye):qp.isSocket(H)&&(0,Wo.createClientSocketTransport)(H.port).then(_e=>{let he=Zh.fork(U.module,Ce||[],qe);h(he),this._serverProcess=he,he.stderr.on("data",$e=>this.outputChannel.append(Oo.string($e)?$e:$e.toString(e))),he.stdout.on("data",$e=>this.outputChannel.append(Oo.string($e)?$e:$e.toString(e))),_e.onConnected().then($e=>{Y({reader:$e[0],writer:$e[1]})},ye)},ye)})}}else if(D0.is(T)&&T.command){let U=T,H=T.args!==void 0?T.args.slice(0):[],te,Y=T.transport;if(Y===Ko.stdio)H.push("--stdio");else if(Y===Ko.pipe)te=(0,Wo.generateRandomPipeName)(),H.push(`--pipe=${te}`);else if(qp.isSocket(Y))H.push(`--socket=${Y.port}`);else if(Y===Ko.ipc)throw new Error("Transport kind ipc is not support for command executable");let ye=Object.assign({},U.options);if(ye.cwd=ye.cwd||A,Y===void 0||Y===Ko.stdio){let Ce=Zh.spawn(U.command,H,ye);return!Ce||!Ce.pid?Cm(Ce,`Launching server using command ${U.command} failed.`):(Ce.stderr.on("data",qe=>this.outputChannel.append(Oo.string(qe)?qe:qe.toString(e))),this._serverProcess=Ce,this._isDetached=!!ye.detached,Promise.resolve({reader:new Wo.StreamMessageReader(Ce.stdout),writer:new Wo.StreamMessageWriter(Ce.stdin)}))}else{if(Y===Ko.pipe)return(0,Wo.createClientPipeTransport)(te).then(Ce=>{let qe=Zh.spawn(U.command,H,ye);return!qe||!qe.pid?Cm(qe,`Launching server using command ${U.command} failed.`):(this._serverProcess=qe,this._isDetached=!!ye.detached,qe.stderr.on("data",_e=>this.outputChannel.append(Oo.string(_e)?_e:_e.toString(e))),qe.stdout.on("data",_e=>this.outputChannel.append(Oo.string(_e)?_e:_e.toString(e))),Ce.onConnected().then(_e=>({reader:_e[0],writer:_e[1]})))});if(qp.isSocket(Y))return(0,Wo.createClientSocketTransport)(Y.port).then(Ce=>{let qe=Zh.spawn(U.command,H,ye);return!qe||!qe.pid?Cm(qe,`Launching server using command ${U.command} failed.`):(this._serverProcess=qe,this._isDetached=!!ye.detached,qe.stderr.on("data",_e=>this.outputChannel.append(Oo.string(_e)?_e:_e.toString(e))),qe.stdout.on("data",_e=>this.outputChannel.append(Oo.string(_e)?_e:_e.toString(e))),Ce.onConnected().then(_e=>({reader:_e[0],writer:_e[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(_,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(A,U)=>{A!==null&&this.error(`Server process exited with code ${A}.`,void 0,!1),U!==null&&this.error(`Server process exited with signal ${U}.`,void 0,!1)})})}_getRuntimePath(e,n){if(S0.isAbsolute(e))return e;let r=this._mainGetRootPath();if(r!==void 0){let o=S0.join(r,e);if(y0.existsSync(o))return o}if(n!==void 0){let o=S0.join(n,e);if(y0.existsSync(o))return o}return e}_mainGetRootPath(){let e=Up.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(r=>{y0.lstat(n,(o,f)=>{r(!o&&f.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}};Sl.LanguageClient=b0;var w0=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return Up.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Up.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,o=r?Up.workspace.getConfiguration(n).get(r,!1):Up.workspace.getConfiguration(n);o&&this._client.needsStart()?this._client.start().catch(f=>this._client.error("Start failed after configuration change",f,"force")):!o&&this._client.needsStop()&&this._client.stop().catch(f=>this._client.error("Stop failed after configuration change",f,"force"))}};Sl.SettingMonitor=w0;function Cm(t,e){return t===null?Promise.reject(e):new Promise((n,r)=>{t.on("error",o=>{r(`${e} ${o}`)}),setImmediate(()=>r(e))})}});var N0=Ie((h2,YO)=>{"use strict";YO.exports=__()});var _1={};Lk(_1,{activate:()=>g1,deactivate:()=>m1,languageClientManager:()=>Hp,workspaceTracker:()=>tp});module.exports=Ak(_1);var ih=Mi(require("vscode"));var cn=Mi(require("vscode")),xm=class t{static{this.TaskType="mix"}provideTasks(){let e=cn.workspace.workspaceFolders;if(!e||!e[0])return cn.window.showErrorMessage("no workspace open..."),[];let n=[],r=new cn.Task({type:t.TaskType,task:"Run tests"},e[0],"Run tests",t.TaskType,new cn.ShellExecution("mix test"),["$mixCompileError","$mixCompileWarning","$mixTestFailure"]);r.group=cn.TaskGroup.Test,n.push(r);let o=new cn.Task({type:t.TaskType,task:"Run tests with coverage"},e[0],"Run tests with coverage",t.TaskType,new cn.ShellExecution("mix test.coverage"),["$mixCompileError","$mixCompileWarning","$mixTestFailure"]);o.group=cn.TaskGroup.Test,n.push(o);let f=new cn.Task({type:t.TaskType,task:"Run test at cursor"},e[0],"Run test at cursor",t.TaskType,new cn.ShellExecution("mix test ${relativeFile}:${lineNumber}"),["$mixCompileError","$mixCompileWarning","$mixTestFailure"]);f.group=cn.TaskGroup.Test,n.push(f);let h=new cn.Task({type:t.TaskType,task:"Run tests in current file"},e[0],"Run tests in current file",t.TaskType,new cn.ShellExecution("mix test ${relativeFile}"),["$mixCompileError","$mixCompileWarning","$mixTestFailure"]);h.group=cn.TaskGroup.Test,n.push(h);let _=new cn.Task({type:t.TaskType,task:"Build"},e[0],"Build",t.TaskType,new cn.ShellExecution("mix compile"),["$mixCompileError","$mixCompileWarning"]);_.group=cn.TaskGroup.Build,n.push(_);let T=new cn.Task({type:t.TaskType,task:"Build dependencies"},e[0],"Build dependencies",t.TaskType,new cn.ShellExecution("mix deps.compile"),["$mixCompileError","$mixCompileWarning"]);T.group=cn.TaskGroup.Build,n.push(T);let N=new cn.Task({type:t.TaskType,task:"Clean project"},e[0],"Clean project",t.TaskType,new cn.ShellExecution("mix clean"));N.group=cn.TaskGroup.Clean,n.push(N);let A=new cn.Task({type:t.TaskType,task:"Clean project and deps"},e[0],"Clean project and deps",t.TaskType,new cn.ShellExecution("mix clean --deps"));A.group=cn.TaskGroup.Clean,n.push(A);let U=new cn.Task({type:t.TaskType,task:"Print app tree"},e[0],"Print app tree",t.TaskType,new cn.ShellExecution("mix app.tree"));n.push(U);let H=new cn.Task({type:t.TaskType,task:"List deps"},e[0],"List deps",t.TaskType,new cn.ShellExecution("mix deps"));n.push(H);let te=new cn.Task({type:t.TaskType,task:"Clean all deps"},e[0],"Clean all deps",t.TaskType,new cn.ShellExecution("mix deps.clean --all"));te.group=cn.TaskGroup.Clean,n.push(te);let Y=new cn.Task({type:t.TaskType,task:"Clean all unused deps"},e[0],"Clean all unused deps",t.TaskType,new cn.ShellExecution("mix deps.clean --unlock --unused"));Y.group=cn.TaskGroup.Clean,n.push(Y);let ye=new cn.Task({type:t.TaskType,task:"Get deps"},e[0],"Get deps",t.TaskType,new cn.ShellExecution("mix deps.get"));n.push(ye);let Ce=new cn.Task({type:t.TaskType,task:"Update all deps"},e[0],"Update all deps",t.TaskType,new cn.ShellExecution("mix deps.update --all"));n.push(Ce);let qe=new cn.Task({type:t.TaskType,task:"Format"},e[0],"Format",t.TaskType,new cn.ShellExecution("mix format"));n.push(qe);let _e=new cn.Task({type:t.TaskType,task:"Run"},e[0],"Run",t.TaskType,new cn.ShellExecution("mix run"));n.push(_e);let he=new cn.Task({type:t.TaskType,task:"Run no halt"},e[0],"Run no halt",t.TaskType,new cn.ShellExecution("mix run --no-halt"));n.push(he);let $e=new cn.Task({type:t.TaskType,task:"Generates sample files for releases"},e[0],"Generates sample files for releases",t.TaskType,new cn.ShellExecution("mix release.init"));n.push($e);let Qe=new cn.Task({type:t.TaskType,task:"Trace file dependencies"},e[0],"Trace file dependencies",t.TaskType,new cn.ShellExecution("mix xref trace ${relativeFile}"));n.push(Qe);let Et=new cn.Task({type:t.TaskType,task:"Print file dependency graph"},e[0],"Print file dependency graph",t.TaskType,new cn.ShellExecution("mix xref graph"));return n.push(Et),n}resolveTask(e){}};var Tp=Mi(require("vscode"));var G0=Mi(require("vscode")),B0=Mi(require("os")),V0=Mi(require("path")),Mk=t=>t+(B0.platform()=="win32"?".bat":".sh");function T_(t,e,n){let r=G0.workspace.getConfiguration("elixirLS",n).get("languageServerOverridePath"),o=Mk(e),f=process.env.ELS_LOCAL=="1"?"./elixir-ls/scripts/":"./elixir-ls-release/";return r?V0.join(r,o):t.asAbsolutePath(f+o)}var vb=Mi(db()),tx="0979629c-3be4-4b0d-93f2-2be81cccd799",nx="00000000-0000-0000-0000-000000000000",rx=[{eventName:"build",samplingFactor:.004},{eventName:"dialyzer",samplingFactor:.04},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_foldingRange",samplingFactor:.001},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_completion",samplingFactor:.002},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_hover",samplingFactor:.002},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_documentSymbol",samplingFactor:.002},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_codeLens",samplingFactor:.003},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"workspace_executeCommand:getExUnitTestsInFile",samplingFactor:.003},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_signatureHelp",samplingFactor:.004},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_definition",samplingFactor:.004},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_onTypeFormatting",samplingFactor:.006},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_formatting",samplingFactor:.008},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"initialize",samplingFactor:.03}];function ix(t,e,n){return!(t!==n.eventName||n.propertyKey&&(!e||e[n.propertyKey]!==n.propertyValue))}var jr,GS=class extends vb.default{constructor(){super(process.env.ELS_TEST?nx:tx)}sendTelemetryEvent(e,n,r){if(process.env.ELS_TEST)return;let o=1;for(let f of rx)if(ix(e,n,f)){o=f.samplingFactor;break}(o==1||Math.random()<=o)&&super.sendTelemetryEvent(e,n,this.appendCount(e,o,r))}sendTelemetryErrorEvent(e,n,r){process.env.ELS_TEST||super.sendTelemetryErrorEvent(e,n,this.appendCount(e,1,r))}sendRawTelemetryEvent(e,n,r){process.env.ELS_TEST||super.sendRawTelemetryEvent(e,n,this.appendCount(e,1,r))}sendDangerousTelemetryErrorEvent(e,n,r){process.env.ELS_TEST||super.sendDangerousTelemetryErrorEvent(e,n,this.appendCount(e,1,r))}sendDangerousTelemetryEvent(e,n,r){process.env.ELS_TEST||super.sendDangerousTelemetryEvent(e,n,this.appendCount(e,1,r))}appendCount(e,n,r){let o=`elixir_ls.${e}_count`;if(r){let f=!1;return Object.keys(r).forEach(h=>{h.endsWith("_count")&&(r[h]/=n,f=!0)}),f||(r[o]=1/n),r}else{let f={};return f[o]=1/n,f}}};function hb(t){jr=new GS,t.subscriptions.push(jr)}function BS(t){let e=["elixir_sense","language_server","debug_adapter","elixir_ls_utils","elixir","mix","eex","ex_unit"];for(let r of e){let o=new RegExp(`(.*)(/${r}/)([^\\s]+)`,"g");t=t.replace(o,(f,h,_,T)=>{let N=T.replace(/\//g,"_");return`USER_PATH_${r}_${N}`})}return t=t.replace(/\/\d+/g,r=>r.replace("/","_")),t=t.replace(/key (.*?) not found/g,"k_ey $1 not found"),t=t.replace(/badkey/g,"badk_ey"),t=t.replace(/bad key/g,"bad k_ey"),t=t.replace(/unknown key/g,"unknown k_ey"),t=t.replace(/does not have the key/g,"does not have the k_ey"),t=t.replace(/token missing/g,"t_oken missing"),t=t.replace(/unexpected token/g,"unexpected t_oken"),t=t.replace(/Unexpected token/g,"Unexpected t_oken"),t=t.replace(/reserved token/g,"reserved t_oken"),["key","token","sig","secret","signature","password","passwd","pwd","android:value"].forEach(r=>{let o=new RegExp(`(${r})[^a-zA-Z0-9]`,"gi"),f=r[0]+"_"+r.slice(1);t=t.replace(o,f)}),t=t.replace(/@([a-zA-Z0-9-]+\.[a-zA-Z0-9-]+)/g,"_at_$1"),t}function O_(t){if(!t)return t;for(let e in t)t[e]=BS(t[e]);return t}var VS=class{constructor(e){this._context=e}createDebugAdapterDescriptor(e,n){console.log("DebugAdapterExecutableFactory called with session",e,"executable",n);let r=T_(this._context,"debug_adapter",e.workspaceFolder),o=n.options??{};e.workspaceFolder&&(o.cwd=e.workspaceFolder.uri.fsPath),e.configuration.env&&(o.env={...o.env??{},...e.configuration.env});let f=new Tp.DebugAdapterExecutable(r,n.args,o);return e.workspaceFolder?console.log(`ElixirLS: starting DAP session in workspace folder ${e.workspaceFolder.name} with executable`,f):console.log("ElixirLS: starting folderless DAP session with executable",f),jr.sendTelemetryEvent("debug_session_starting",{"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless"}),f}},XS=class{constructor(e){this.startTimes=new Map;this._onExited=new Tp.EventEmitter;this._onOutput=new Tp.EventEmitter;this._context=e}dispose(){this._onExited.dispose(),this._onOutput.dispose()}get onExited(){return this._onExited.event}get onOutput(){return this._onOutput.event}createDebugAdapterTracker(e){let n=this;return{onWillStartSession:()=>{n.startTimes.set(e.id,performance.now())},onWillStopSession:()=>{n.startTimes.delete(e.id)},onError:r=>{console.warn(`ElixirLS: Debug session ${e.id}: `,r),jr.sendTelemetryErrorEvent("debug_session_error",{"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless","elixir_ls.debug_session_error":String(r),"elixir_ls.debug_session_error_stack":r.stack??""})},onExit:(r,o)=>{r==0?console.log(`ElixirLS: Debug session ${e.id}: DAP process exited with code `,r):console.error(`ElixirLS: Debug session ${e.id}: DAP process exited with code `,r," signal ",o),jr.sendTelemetryErrorEvent("debug_session_exit",{"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless","elixir_ls.debug_session_exit_code":String(r),"elixir_ls.debug_session_exit_signal":String(o)})},onDidSendMessage:r=>{if(r.type=="event"){let o=r;if(o.event=="output"){let f=r;if(f.body.category=="stdout"||f.body.category=="stderr")n._onOutput.fire({sessionId:e.id,output:f.body.output});else if(f.body.category=="telemetry"){let h=f.body.data;h.name.endsWith("_error")?jr.sendTelemetryErrorEvent(h.name,{...O_(h.properties),"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless"},h.measurements):jr.sendTelemetryEvent(h.name,{...h.properties,"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless"},h.measurements)}}if(o.event=="initialized"){let f=performance.now()-n.startTimes.get(e.id);jr.sendTelemetryEvent("debug_session_initialized",{"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless"},{"elixir_ls.debug_session_initialize_time":f})}if(o.event=="exited"){let f=r;jr.sendTelemetryEvent("debug_session_debuggee_exited",{"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless","elixir_ls.debug_session_debuggee_exit_code":String(f.body.exitCode)}),n._onExited.fire({sessionId:e.id,code:f.body.exitCode})}}else if(r.type=="response"&&!r.success){let f=r;if(f.body.error){let h=f.body.error;h.sendTelemetry&&jr.sendTelemetryErrorEvent("dap_request_error",{"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless","elixir_ls.dap_command":f.command,"elixir_ls.dap_error":f.message,"elixir_ls.dap_error_message":BS(h.format)})}}}}}},Hg;function pb(t){let e=new VS(t);t.subscriptions.push(Tp.debug.registerDebugAdapterDescriptorFactory("mix_task",e)),Hg=new XS(t),t.subscriptions.push(Tp.debug.registerDebugAdapterTrackerFactory("mix_task",Hg)),t.subscriptions.push(Hg)}var gb=Mi(require("path")),uv=Mi(require("vscode"));function mb(t){async function e(r,o){let f=await uv.workspace.openTextDocument(r),h=await uv.window.showTextDocument(f),_=new uv.Position(o-1,0),T=new uv.Selection(_,_);h.revealRange(T),h.selection=T}let n=uv.window.registerTerminalLinkProvider({provideTerminalLinks:(r,o)=>{let f=/(?:\((?<app>[_a-z]+) \d+.\d+.\d+\) )(?<file>[_a-z/]*[_a-z]+.ex):(?<line>\d+)/,h=r.line.match(f);return h===null?[]:[{startIndex:h.index,length:h[0].length,data:{app:h.groups.app,file:h.groups.file,line:parseInt(h.groups.line)}}]},handleTerminalLink:async({data:{app:r,file:o,line:f}})=>{let h=gb.join("apps",r,o),_=await uv.workspace.findFiles(`{${h},${o}}`);if(_.length===1)e(_[0],f);else if(_.length>1){let T=_.map(A=>({label:A.toString(),uri:A})),N=await uv.window.showQuickPick(T);if(!N)return;await e(N.uri,f)}}});t.subscriptions.push(n)}var oi=Mi(require("vscode")),CS=Mi(__());var UO=require("child_process"),Tm=Mi(require("vscode"));function R0(t,e){return e?f1(t):c1(t)}async function c1(t){jr.sendTelemetryEvent("run_test",{"elixir_ls.with_debug":"false"});let e=`mix test ${P0(t).join(" ")}`;return new Promise((n,r)=>{let o={cwd:t.cwd,env:{...process.env,MIX_ENV:"test"}};(0,UO.exec)(e,o,(f,h,_)=>{console.log("stdout",h),console.log("stderr",_),f?r(h+(_?`
`+_:"")):n(h)})})}function u1(t){let n=Tm.workspace.getConfiguration("launch",t.workspaceFolder).configurations.findLast(r=>r.name=="mix test");if(n!=null)return n.request="launch",n.task="test",n.projectDir=t.cwd,n.env={MIX_ENV:"test",...n.env??{}},n.taskArgs=[...P0(t),"--raise"],n.requireFiles=["test/**/test_helper.exs","apps/*/test/**/test_helper.exs",t.filePath],n}function l1(t){let e=u1(t),n={type:"mix_task",name:"mix test",request:"launch",task:"test",env:{MIX_ENV:"test"},taskArgs:[...P0(t),"--raise"],startApps:!0,projectDir:t.cwd,requireFiles:["test/**/test_helper.exs","apps/*/test/**/test_helper.exs",t.filePath]},r=e??n;return console.log("Starting debug session with launch config",r),r}async function f1(t){jr.sendTelemetryEvent("run_test",{"elixir_ls.with_debug":"true"});let e=l1(t);return new Promise((n,r)=>{let o=[],f=()=>{for(let N of o)N.dispose()},h="",_=1,T=[];o.push(Hg.onOutput(N=>{N.sessionId==h&&T.push(N.output)})),o.push(Hg.onExited(N=>{console.log(`ElixirLS: Debug session ${N.sessionId}: debuggee exited with code ${N.code}`),N.sessionId==h&&(_=N.code)})),o.push(Tm.debug.onDidStartDebugSession(N=>{console.log(`ElixirLS: Debug session ${N.id} started`),h=N.id})),o.push(Tm.debug.onDidTerminateDebugSession(N=>{console.log(`ElixirLS: Debug session ${N.id} terminated`),f(),_==0?n(T.join("")):r(T.join(""))})),Tm.debug.startDebugging(t.workspaceFolder,e).then(N=>{N||(jr.sendTelemetryErrorEvent("run_test_error",{"elixir_ls.with_debug":"true"}),f(),r("Unable to start debug session"))},N=>{jr.sendTelemetryErrorEvent("run_test_error",{"elixir_ls.with_debug":"true","elixir_ls.run_test_error":String(N),"elixir_ls.run_test_error_stack":N?.stack??""}),f(),r("Unable to start debug session")})})}function P0(t){let e="";return typeof t.line=="number"&&(e=`:${t.line}`),[`${t.filePath}${e}`,"--no-color"]}var I0=Mi(require("path")),mv=Mi(require("vscode")),jO=Mi(require("fs"));function SS(t){let e=mv.workspace.getConfiguration("elixirLS",t).get("projectDir");return e?I0.join(t.uri.fsPath,e):t.uri.fsPath}var DS=class{sortedWorkspaceFolders(){return this._sortedWorkspaceFolders===void 0&&(this._sortedWorkspaceFolders=mv.workspace.workspaceFolders?mv.workspace.workspaceFolders.map(e=>{let n=e.uri.toString();return n.charAt(n.length-1)!=="/"&&(n=n+"/"),n}).sort((e,n)=>e.length-n.length):[]),this._sortedWorkspaceFolders}getOuterMostWorkspaceFolder(e){return this._getOuterMostWorkspaceFolder(e,!1)}_getOuterMostWorkspaceFolder(e,n){let r=e.uri.toString();r.charAt(r.length-1)!=="/"&&(r=r+"/");let o=null;for(let f of this.sortedWorkspaceFolders())if(r.startsWith(f)){let h=mv.workspace.getWorkspaceFolder(mv.Uri.parse(f));if(h){o||(o=h);let _=SS(h),T=I0.join(_,"mix.exs");if(jO.existsSync(T))return h}}if(o)return o;if(n)throw`not able to find outermost workspace folder for ${e.uri.fsPath}`;return this.handleDidChangeWorkspaceFolders(),this._getOuterMostWorkspaceFolder(e,!0)}handleDidChangeWorkspaceFolders(){this._sortedWorkspaceFolders=void 0}getProjectDirForUri(e){let n=mv.workspace.getWorkspaceFolder(e);if(n){let r=this.getOuterMostWorkspaceFolder(n);return SS(r)}}get mode(){return mv.workspace.workspaceFile?"MULTI_ROOT":mv.workspace.workspaceFolders&&mv.workspace.workspaceFolders.length!==0?"SINGLE_FOLDER":"NO_WORKSPACE"}};var HO="elixir.lens.test.run",rh="jakebecker.elixir-ls";function $O(t,e,n){console.log("ElixirLS: creating test controller");let r=oi.tests.createTestController("elixirLSExUnitTests","ExUnit Tests");t.subscriptions.push(r),r.resolveHandler=async _e=>{if(_e)try{await U(_e)}catch(he){console.error("ElixirLS: unable to resolve tests in ",_e.uri.fsPath,he),jr.sendTelemetryErrorEvent("test_controller_resolve_error",{"elixir_ls.test_controller_resolve_error":String(he),"elixir_ls.test_controller_resolve_error_stack":he?.stack??""})}else try{await H()}catch(he){console.error("ElixirLS: unable to resolve tests in workspace",he),jr.sendTelemetryErrorEvent("test_controller_resolve_error",{"elixir_ls.test_controller_resolve_error":String(he),"elixir_ls.test_controller_resolve_error_stack":he?.stack??""})}},t.subscriptions.push(oi.workspace.onDidOpenTextDocument(A),oi.workspace.onDidChangeTextDocument(_e=>A(_e.document)));let o;(Ge=>(Ge[Ge.WorkspaceFolder=0]="WorkspaceFolder",Ge[Ge.File=1]="File",Ge[Ge.Module=2]="Module",Ge[Ge.Describe=3]="Describe",Ge[Ge.TestCase=4]="TestCase"))(o||={});let f=new WeakMap,h=_e=>f.get(_e)??4;function _(_e){let he=oi.workspace.getWorkspaceFolder(_e);he=n.getOuterMostWorkspaceFolder(he);let $e=r.items.get(he.uri.toString());if($e)return $e;let Qe=r.createTestItem(he.uri.toString(),he.name,he.uri);return Qe.canResolveChildren=!0,Qe.range=new oi.Range(0,0,0,0),r.items.add(Qe),f.set(Qe,0),Qe}function T(_e,he){let $e=r.items.get(_e.toString());if($e)return $e;let Qe=_e.fsPath.slice(he.length),Et=r.createTestItem(_e.toString(),Qe,_e);return Et.canResolveChildren=!0,Et.range=new oi.Range(0,0,0,0),_(_e).children.add(Et),f.set(Et,1),Et}function N(_e,he){if(_e.scheme!=="file"||!_e.path.endsWith("_test.exs"))return!1;let Qe=_e.fsPath.slice(he.length).split("/"),Et=Qe[1];return!(Et=="_build"||Et=="deps"||Qe.find(Ge=>Ge=="node_modules"||Ge.startsWith(".")))}function A(_e){let he=n.getProjectDirForUri(_e.uri);he&&N(_e.uri,he)&&U(T(_e.uri,he))}async function U(_e){if(!_e.uri.toString().endsWith(".exs"))return;let he=e.getClientPromiseByUri(_e.uri);if(!he){console.error(`ElixirLS: no language client for document ${_e.uri.fsPath}`);return}let $e=await he;if(!$e.initializeResult){console.error(`ElixirLS: unable to execute command on server ${$e.name} in state ${CS.State[$e.state]}`);return}let Qe=$e.initializeResult.capabilities.executeCommandProvider.commands.find(pt=>pt.startsWith("getExUnitTestsInFile:"));console.log("ElixirLS: Finding tests in ",_e.uri.toString());let Et={command:Qe,arguments:[_e.uri.toString()]},Ge=[];try{Ge=await $e.sendRequest(CS.ExecuteCommandRequest.type,Et)}catch(pt){console.error(`ElixirLS: unable to get tests in file ${_e.uri.fsPath}: ${pt}`)}for(let pt of Ge){let Ft=r.createTestItem(pt.module,pt.module,_e.uri);Ft.range=new oi.Range(pt.line,0,pt.line,0),f.set(Ft,2),_e.children.add(Ft);for(let zn of pt.describes){let Vt;if(zn.describe){let Nn=r.createTestItem(zn.describe,zn.describe,_e.uri);Nn.range=new oi.Range(zn.line,0,zn.line,0),Nn.description="describe",f.set(Nn,3),Ft.children.add(Nn),Vt=Nn.children}else Vt=Ft.children;for(let Nn of zn.tests){let Zr=r.createTestItem(Nn.name,Nn.name,_e.uri);Zr.range=new oi.Range(Nn.line,0,Nn.line,0),Zr.description=Nn.type,Vt.add(Zr)}}}}async function H(){if(!oi.workspace.workspaceFolders)return;let _e=[...new Set(oi.workspace.workspaceFolders.map(he=>n.getOuterMostWorkspaceFolder(he)))];await Promise.all(_e.map(async he=>{let $e=SS(he);console.log("ElixirLS: registering watcher in",he.name,"projectDir",$e);let Qe=new oi.RelativePattern($e,"**/*_test.exs"),Et=oi.workspace.createFileSystemWatcher(Qe);t.subscriptions.push(Et),Et.onDidCreate(pt=>T(pt,$e)),Et.onDidChange(pt=>U(T(pt,$e))),Et.onDidDelete(pt=>r.items.delete(pt.toString()));let Ge=await oi.workspace.findFiles(Qe);for(let pt of Ge)N(pt,$e)&&T(pt,$e);return Et}))}function te(_e,he,$e){for(let Qe of he.split(`
`))_e.appendOutput(Qe,void 0,$e),_e.appendOutput(`\r
`,void 0,$e)}async function Y(_e,he,$e){let Qe=r.createTestRun(he),Et=[];for(he.include?he.include.forEach(Ge=>{Et.push(Ge),Qe.enqueued(Ge)}):r.items.forEach(Ge=>{Et.push(Ge),Qe.enqueued(Ge)});Et.length>0&&!$e.isCancellationRequested;){let Ge=Et.pop();if(!he.exclude?.includes(Ge)){switch(h(Ge)){case 1:Ge.children.size===0&&await U(Ge);break;case 4:let pt=performance.now();Qe.started(Ge);try{let Ft=n.getProjectDirForUri(Ge.uri),zn=Ge.uri.fsPath.slice(Ft.length+1),Vt=oi.workspace.getWorkspaceFolder(Ge.uri),Nn=await R0({cwd:Ft,filePath:zn,line:Ge.range.start.line+1,workspaceFolder:Vt},_e);te(Qe,Nn,Ge),Qe.passed(Ge,performance.now()-pt)}catch(Ft){te(Qe,Ft,Ge),Qe.failed(Ge,new oi.TestMessage(Ft),performance.now()-pt)}break;default:break}Ge.children.forEach(pt=>{Et.push(pt),Qe.enqueued(pt)})}}Qe.end()}let ye=r.createRunProfile("Run",oi.TestRunProfileKind.Run,(_e,he)=>{Y(!1,_e,he)});t.subscriptions.push(ye);let Ce=r.createRunProfile("Debug",oi.TestRunProfileKind.Debug,(_e,he)=>{Y(!0,_e,he)});t.subscriptions.push(Ce);let qe=oi.commands.registerCommand(HO,async _e=>{let he=oi.Uri.file(_e.filePath),$e=n.getProjectDirForUri(he);await U(T(he,$e));function Qe(Ft,zn){if(zn.length===0)return Ft;let[Vt,...Nn]=zn;if(!Vt)return Qe(Ft,Nn);let Zr=Ft.children.get(Vt);return Zr?Qe(Zr,Nn):Ft}function Et(Ft,zn){let Vt=Ft.get(zn);if(Vt)return Vt;for(let[Nn,Zr]of Ft)if(Vt=Et(Zr.children,zn),Vt)return Vt}let Ge=Et(r.items,he.toString());if(!Ge){console.warn(`Test item ${he.toString()} not found`);return}let pt=Qe(Ge,[_e.module,_e.describe,_e.testName]);Y(!1,new oi.TestRunRequest([pt]),new oi.CancellationTokenSource().token),oi.commands.executeCommand("vscode.revealTestInExplorer",pt)});t.subscriptions.push(qe)}var yu=Mi(require("vscode")),ES=Mi(N0());var bS=["elixir","eex","html-eex","phoenix-heex","surface"],KO=bS.flatMap(t=>[{language:t,scheme:"file"},{language:t,scheme:"untitled"}]),d1=bS.map(t=>({language:t,scheme:"untitled"})),v1=t=>bS.map(e=>({language:e,scheme:"file",pattern:t})),zO={documentSelector:KO,revealOutputChannelOn:ES.RevealOutputChannelOn.Never};function WO(t,e){let n={command:T_(t,"language_server",e.workspaceFolder)},r={run:n,debug:n},o;e.workspaceFolder?(console.log(`ElixirLS: starting LSP client for ${e.workspaceFolder.uri.fsPath} with server options`,r,"client options",e),o=`ElixirLS - ${e.workspaceFolder.name}`,jr.sendTelemetryEvent("language_client_starting",{"elixir_ls.language_client_mode":"workspaceFolder"})):(console.log("ElixirLS: starting default LSP client with server options",r,"client options",e),o="ElixirLS - (default)",jr.sendTelemetryEvent("language_client_starting",{"elixir_ls.language_client_mode":"default"}));let f=new ES.LanguageClient("elixirLS",o,r,e),h=[];h.push(f.onTelemetry(T=>{T.name.endsWith("_error")?jr.sendTelemetryErrorEvent(T.name,O_(T.properties),T.measurements):jr.sendTelemetryEvent(T.name,T.properties,T.measurements)}));let _=new Promise((T,N)=>{let A=performance.now();f.start().then(()=>{let U=performance.now()-A;e.workspaceFolder?console.log(`ElixirLS: started LSP client for ${e.workspaceFolder.uri.toString()}`):console.log("ElixirLS: started default LSP client"),jr.sendTelemetryEvent("language_client_started",{"elixir_ls.language_client_mode":e.workspaceFolder?"workspaceFolder":"default"},{"elixir_ls.language_client_activation_time":U}),T(f)}).catch(U=>{jr.sendTelemetryErrorEvent("language_client_start_error",{"elixir_ls.language_client_mode":e.workspaceFolder?"workspaceFolder":"default","elixir_ls.language_client_start_error":String(U),"elixir_ls.language_client_start_error_stack":U?.stack??""}),e.workspaceFolder?console.error(`ElixirLS: failed to start LSP client for ${e.workspaceFolder.uri.toString()}: ${U}`):console.error(`ElixirLS: failed to start default LSP client: ${U}`),N(U)})});return[f,_,h]}var TS=class{constructor(e){this.defaultClient=null;this.defaultClientPromise=null;this.defaultClientDisposables=null;this.clients=new Map;this.clientsPromises=new Map;this.clientsDisposables=new Map;this._onDidChange=new yu.EventEmitter;this._workspaceTracker=e}get onDidChange(){return this._onDidChange.event}getDefaultClient(){return this.defaultClient}allClients(){let e=[...this.clients.values()];return this.defaultClient&&e.push(this.defaultClient),e}allClientsPromises(){let e=[...this.clientsPromises.values()];return this.defaultClientPromise&&e.push(this.defaultClientPromise),e}restart(){let e=async(n,r,o)=>new Promise((f,h)=>{jr.sendTelemetryEvent("language_client_restarting",{"elixir_ls.language_client_mode":r?"default":"workspaceFolder"});let _=performance.now();n.restart().then(()=>{let T=performance.now()-_;jr.sendTelemetryEvent("language_client_started",{"elixir_ls.language_client_mode":r?"default":"workspaceFolder"},{"elixir_ls.language_client_activation_time":T}),console.log(r?"ElixirLS: started default LSP client":`ElixirLS: started LSP client for ${o}`),f(n)}).catch(T=>{jr.sendTelemetryErrorEvent("language_client_restart_error",{"elixir_ls.language_client_mode":r?"default":"workspaceFolder","elixir_ls.language_client_start_error":String(T),"elixir_ls.language_client_start_error_stack":T?.stack??""}),console.error(r?`ElixirLS: failed to start default LSP client: ${T}`:`ElixirLS: failed to start LSP client for ${o}: ${T}`),h(T)})});for(let[n,r]of this.clients)console.log(`ElixirLS: restarting LSP client for ${n}`),this.clientsPromises.set(n,e(r,!1,n));this.defaultClient&&(console.log("ElixirLS: restarting default LSP client"),this.defaultClientPromise=e(this.defaultClient,!0))}getClientByUri(e){let n=yu.workspace.getWorkspaceFolder(e);if(!n)if(yu.workspace.workspaceFolders&&yu.workspace.workspaceFolders.length!==0)n=yu.workspace.workspaceFolders[0];else{if(this.defaultClient)return this.defaultClient;throw"default client LSP not started"}n=this._workspaceTracker.getOuterMostWorkspaceFolder(n);let r=this.clients.get(n.uri.toString());if(r)return r;throw`LSP client for ${n.uri.toString()} not started`}getClientPromiseByUri(e){let n=yu.workspace.getWorkspaceFolder(e);if(!n)if(yu.workspace.workspaceFolders&&yu.workspace.workspaceFolders.length!==0)n=yu.workspace.workspaceFolders[0];else return this.defaultClientPromise;return n=this._workspaceTracker.getOuterMostWorkspaceFolder(n),this.clientsPromises.get(n.uri.toString())}getClientByDocument(e){return e.languageId!=="elixir"?null:this.getClientByUri(e.uri)}getClientPromiseByDocument(e){return e.languageId!=="elixir"?null:this.getClientPromiseByUri(e.uri)}handleDidOpenTextDocument(e,n){if(!bS.includes(e.languageId))return;let r=e.uri,o=yu.workspace.getWorkspaceFolder(r);if(!o)if(yu.workspace.workspaceFolders&&yu.workspace.workspaceFolders.length!==0)o=yu.workspace.workspaceFolders[0];else{this.defaultClient||([this.defaultClient,this.defaultClientPromise,this.defaultClientDisposables]=WO(n,zO),this._onDidChange.fire());return}if(o=this._workspaceTracker.getOuterMostWorkspaceFolder(o),!this.clients.has(o.uri.toString())){let f;if(this._workspaceTracker.mode==="MULTI_ROOT"){let A=`${o.uri.fsPath}/**/*`,U=o.index===0?d1:[];f=[...v1(A),...U]}else if(this._workspaceTracker.mode==="SINGLE_FOLDER")f=KO;else if(this._workspaceTracker.mode==="NO_WORKSPACE")throw"this should not happen";let h={...zO,documentSelector:f,workspaceFolder:o},[_,T,N]=WO(n,h);this.clients.set(o.uri.toString(),_),this.clientsPromises.set(o.uri.toString(),T),this.clientsDisposables.set(o.uri.toString(),N),this._onDidChange.fire()}}async deactivate(){let e=[],n=[],r=!1;this.defaultClient&&(this.defaultClientDisposables.forEach(o=>o.dispose()),e.push(this.defaultClientPromise),n.push(this.defaultClient),this.defaultClient=null,this.defaultClientPromise=null,this.defaultClientDisposables=null,r=!0);for(let[o,f]of this.clients.entries())this.clientsDisposables.get(o).forEach(h=>h.dispose()),e.push(this.clientsPromises.get(o)),n.push(f),r=!0;this.clients.clear(),this.clientsPromises.clear(),this.clientsDisposables.clear(),r&&this._onDidChange.fire();try{await Promise.all(e)}catch{}try{await Promise.all(n.map(o=>o.dispose()))}catch{}}async handleWorkspaceFolderRemoved(e){let n=e.uri.toString(),r=this.clients.get(n);if(r){console.log("ElixirLS: Stopping LSP client for",e.uri.fsPath),this.clientsDisposables.get(n).forEach(f=>f.dispose());let o=this.clientsPromises.get(n);this.clients.delete(n),this.clientsPromises.delete(n),this._onDidChange.fire();try{await o}catch(f){console.warn("ElixirLS: error during wait for stoppable LSP client state",f),jr.sendTelemetryErrorEvent("language_client_stop_error",{"elixir_ls.language_client_stop_error":String(f),"elixir_ls.language_client_start_error_stack":f?.stack??""})}try{await r.dispose()}catch(f){console.warn("ElixirLS: error during LSP client dispose",f),jr.sendTelemetryErrorEvent("language_client_stop_error",{"elixir_ls.language_client_stop_error":String(f),"elixir_ls.language_client_start_error_stack":f?.stack??""})}}}};var wS=Mi(require("vscode"));function GO(t){wS.extensions.getExtension(t)&&wS.window.showErrorMessage("Warning: "+t+" is not compatible with ElixirLS, please uninstall "+t)}function BO(){GO("mjmcloug.vscode-elixir"),GO("sammkj.vscode-elixir-formatter")}var jp=Mi(require("vscode")),RS=Mi(require("os")),VO=require("child_process");function XO(t){let e=jp.commands.registerCommand("extension.copyDebugInfo",()=>{let n=(0,VO.execSync)("elixir --version"),r=jp.extensions.getExtension(rh);if(!r)return;let o=`
* Elixir & Erlang versions (elixir --version): ${n}
* VSCode ElixirLS version: ${r.packageJSON.version}
* Operating System Version: ${RS.platform()} ${RS.release()}
`;jp.window.showInformationMessage(`Copied to clipboard: ${o}`),jp.env.clipboard.writeText(o)});t.subscriptions.push(e)}var ep=Mi(require("vscode")),PS=Mi(__());var JO="Expand macro result";function h1(t){let e="";for(let[n,r]of Object.entries(t))e+=`<div>
      <h4>${n}</h4>
      <code><pre>${r}</pre></code>
    </div>`;return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${JO}</title>
</head>
<body>
  ${e}
</body>
</html>`}function QO(t,e){let n=ep.commands.registerCommand("extension.expandMacro",async()=>{let r=ep.extensions.getExtension(rh),o=ep.window.activeTextEditor;if(!r||!o)return;if(o.selection.isEmpty){console.error("ElixirLS: selection is empty");return}let f=o.document.uri,h=e.getClientPromiseByDocument(o.document);if(!h){console.error(`ElixirLS: no language client for document ${f.fsPath}`);return}let _=await h;if(!_.initializeResult){console.error(`ElixirLS: unable to execute command on server ${_.name} in state ${PS.State[_.state]}`);return}let N={command:_.initializeResult.capabilities.executeCommandProvider.commands.find(H=>H.startsWith("expandMacro:")),arguments:[f.toString(),o.document.getText(o.selection),o.selection.start.line]},A=await _.sendRequest(PS.ExecuteCommandRequest.type,N),U=ep.window.createWebviewPanel("expandMacro",JO,ep.ViewColumn.One,{});U.webview.html=h1(A)});t.subscriptions.push(n)}var IS=Mi(require("vscode"));function ZO(t,e){let n=IS.commands.registerCommand("extension.restart",async()=>{IS.extensions.getExtension(rh)&&(jr.sendTelemetryEvent("restart_command"),e.restart())});t.subscriptions.push(n)}var NS=Mi(require("vscode")),OS=Mi(N0());function O0(t,e,n){let r="extension."+(n?"mixCleanIncludeDeps":"mixClean"),o=NS.commands.registerCommand(r,async()=>{NS.extensions.getExtension(rh)&&await Promise.all(e.allClientsPromises().map(async h=>{let _=await h;if(!_.initializeResult){console.error(`ElixirLS: unable to execute command on server ${_.name} in state ${OS.State[_.state]}`);return}let N={command:_.initializeResult.capabilities.executeCommandProvider.commands.find(A=>A.startsWith("mixClean:")),arguments:[n]};await _.sendRequest(OS.ExecuteCommandRequest.type,N)}))});t.subscriptions.push(o)}var Em=Mi(require("vscode")),kS=Mi(__());function k0(t,e,n){let r=`extension.${n}`,o=Em.commands.registerCommand(r,async()=>{let f=Em.extensions.getExtension(rh),h=Em.window.activeTextEditor;if(!f||!h)return;let _=h.document.uri,T=e.getClientPromiseByDocument(h.document);if(!T){console.error(`ElixirLS: no language client for document ${_.fsPath}`);return}let N=await T;if(!N.initializeResult){console.error(`ElixirLS: unable to execute command on server ${N.name} in state ${kS.State[N.state]}`);return}let A=N.initializeResult.capabilities.executeCommandProvider.commands.find(Y=>Y.startsWith("manipulatePipes:")),U=_.toString(),H=[n,U,h.selection.start.line,h.selection.start.character],te={command:A,arguments:H};await N.sendRequest(kS.ExecuteCommandRequest.type,te)});t.subscriptions.push(o)}function ek(t,e){XO(t),QO(t,e),ZO(t,e),O0(t,e,!1),O0(t,e,!0),k0(t,e,"fromPipe"),k0(t,e,"toPipe")}var x0=Mi(require("vscode")),tk=require("child_process");function p1(t){try{return(0,tk.execSync)(`${t} -e " "`)}catch{return!1}}function nk(){let t=p1("elixir");return t?t.length>0?(x0.window.showErrorMessage("Running 'elixir' command caused extraneous print to stdout. See VS Code's developer console for details."),console.warn(`Running 'elixir -e ""' printed to stdout:
`+t.toString()),!1):!0:(x0.window.showErrorMessage("Failed to run 'elixir' command. ElixirLS will probably fail to launch. Logged PATH to Development Console."),console.warn(`Failed to run 'elixir' command. Current process's PATH: ${process.env.PATH}`),!1)}console.log("ElixirLS: Loading extension");var tp=new DS,Hp=new TS(tp),rk=t=>{ih.workspace.textDocuments.forEach(e=>{Hp.handleDidOpenTextDocument(e,t)})};function g1(t){return console.log("ElixirLS: activating extension in mode",tp.mode),console.log("ElixirLS: Workspace folders are",ih.workspace.workspaceFolders),console.log("ElixirLS: Workspace is",ih.workspace.workspaceFile?.toString()),hb(t),jr.sendTelemetryEvent("extension_activated",{"elixir_ls.workspace_mode":tp.mode}),t.subscriptions.push(ih.workspace.onDidChangeWorkspaceFolders(()=>{console.info("ElixirLS: Workspace folders changed",ih.workspace.workspaceFolders),tp.handleDidChangeWorkspaceFolders()})),nk(),BO(),ek(t,Hp),pb(t),mb(t),$O(t,Hp,tp),t.subscriptions.push(ih.workspace.onDidOpenTextDocument(e=>{Hp.handleDidOpenTextDocument(e,t)})),rk(t),t.subscriptions.push(ih.workspace.onDidChangeWorkspaceFolders(async e=>{for(let n of e.removed)await Hp.handleWorkspaceFolderRemoved(n);rk(t)})),t.subscriptions.push(ih.tasks.registerTaskProvider(xm.TaskType,new xm)),console.log("ElixirLS: extension activated"),{languageClientManager:Hp,workspaceTracker:tp}}async function m1(){console.log("ElixirLS: deactivating extension"),jr.sendTelemetryEvent("extension_deactivated",{"elixir_ls.workspace_mode":tp.mode}),tp.handleDidChangeWorkspaceFolders(),await Hp.deactivate(),console.log("ElixirLS: extension deactivated")}0&&(module.exports={activate,deactivate,languageClientManager,workspaceTracker});
/*! Bundled license information:

@microsoft/1ds-core-js/dist/es5/ms.core.js:
  (*!
   * 1DS JS SDK Core, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/1ds-post-js/dist/es5/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.0.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.0.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
*/
